webpackJsonp([1],{577:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(471),a=r(578),i=n(a),u=r(766),c=(0,o.connect)(u.mapStateToProps,u.mapDispatchToProps)(i.default);t.default=c},578:function(e,t,r){(function(e){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e){return function(t){return U(D(t,e),e)}}Object.defineProperty(t,"__esModule",{value:!0});var c=r(579),s=n(c),l=r(584),f=n(l),d=r(300),p=n(d),m=r(585),h=n(m),y=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),v=r(731),b=n(v),_=r(732),g=n(_),w=r(738),O=n(w),x=r(742),P=n(x),E=r(747),k=n(E),N=r(748),j=n(N),T=r(751),M=n(T),A=r(754),S=n(A),R=r(762),C=n(R),F=r(763),B=n(F);r(764);var L={Search:{displayName:"Search"}},U=(0,h.default)({filename:"/Users/fuhao/Workspace/fuhao/react-redux-github/src/Search/component.jsx",components:L,locals:[e],imports:[p.default]}),D=(0,f.default)({filename:"/Users/fuhao/Workspace/fuhao/react-redux-github/src/Search/component.jsx",components:L,locals:[],imports:[p.default,s.default]}),I=P.default.List,z=P.default.Item,H=[{activeName:"repositories",title:"Repositories"},{activeName:"issues",title:"Issues"},{activeName:"users",title:"Users"}],W=u("Search")(function(e){function t(e){o(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.keyUpHandler=r.keyUpHandler.bind(r),r}return i(t,e),y(t,[{key:"componentDidMount",value:function(){(0,k.default)()}},{key:"keyUpHandler",value:function(e){if(13===e.keyCode){var t=this.props.activeName?this.props.activeName:H[2].activeName;this.props.changeActiveName(t),this.props.getItems(e.target.value,t)}}},{key:"changeTabHandler",value:function(e){this.props.changeActiveName(e),this.props.getItems(this.refs.search.value,e)}},{key:"changePageHandler",value:function(e){this.props.getItems(this.refs.search.value,this.props.activeName,e)}},{key:"render",value:function(){var e=this,t=this.props,r=t.items,n=t.activeName,o=t.totalPages,a=t.resetPage,i=t.gotoUser,u=t.isFetching;return p.default.createElement("div",{className:"search"},p.default.createElement(g.default,{left:{icon:"align",size:{width:20,height:20}},center:{icon:"github"},right:{icon:"bell",size:{width:24,height:24}}}),p.default.createElement(O.default,null,p.default.createElement(I,null,p.default.createElement(z,{className:"search-input"},p.default.createElement("div",{className:"item-inner"},p.default.createElement("div",{className:"item-input"},p.default.createElement("input",{type:"text",ref:"search",onKeyUp:this.keyUpHandler}))))),p.default.createElement(j.default,{tabs:H,activeName:H[2].activeName,onChange:function(t){return e.changeTabHandler(t)}}),n===H[0].activeName&&p.default.createElement(S.default,{items:r,isFetching:u}),n===H[1].activeName&&p.default.createElement(C.default,{items:r,isFetching:u}),n===H[2].activeName&&p.default.createElement(B.default,{items:r,gotoUser:i,isFetching:u}),r&&r.size>0&&p.default.createElement(M.default,{max:o,reset:a,onChange:function(t){return e.changePageHandler(t)}})))}}]),t}(p.default.Component));W.propTypes={item:p.default.PropTypes.instanceOf(b.default.List),activeName:p.default.PropTypes.string,totalPages:p.default.PropTypes.number,resetPage:p.default.PropTypes.bool},t.default=W}).call(t,r(496)(e))},579:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e){if(void 0===j||void 0===j[e])return c(e);var t=j[e];return t===T?void 0:t}function c(e){switch(e){case"PropTypes":return h.PropTypes;case"assign":return P.default;case"style":return g.default;case"isFilenameAbsolute":return E.isFilenameAbsolute;case"makeUrl":return E.makeUrl;case"makeLinkText":return E.makeLinkText;case"ErrorStackParser":return O.default;case"Component":return h.Component;case"ReactDOM":return b.default;case"React":return y.default;case"RedBoxError":return k}}function s(e,t){return"object"!==("undefined"==typeof e?"undefined":p(e))?(void 0===t?j[e]=T:j[e]=t,function(){l(e)}):void Object.keys(e).forEach(function(t){j[t]=e[t]})}function l(e){delete j[e]}function f(e){function t(){r.forEach(function(e){j[e]=n[e]})}var r=Object.keys(e),n={};return function(o){r.forEach(function(t){n[t]=j[t],j[t]=e[t]});var a=o();return a&&"function"==typeof a.then?a.then(t).catch(t):t(),a}}function d(e,t){Object.defineProperty(N,e,{value:t,enumerable:!1,configurable:!0})}Object.defineProperty(t,"__esModule",{value:!0}),t.__RewireAPI__=t.__ResetDependency__=t.__set__=t.__Rewire__=t.__GetDependency__=t.__get__=t.RedBoxError=void 0;var p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),h=r(300),y=n(h),v=r(327),b=n(v),_=r(580),g=n(_),w=r(581),O=n(w),x=r(302),P=n(x),E=r(583),k=t.RedBoxError=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),m(t,[{key:"renderFrames",value:function(e){var t=this.props,r=t.filename,n=t.editorScheme,o=t.useLines,a=t.useColumns,i=u("assign")({},u("style"),this.props.style),c=i.frame,s=i.file,l=i.linkToFile;return e.map(function(e,t){var i=void 0,f=void 0;if(0===t&&r&&!u("isFilenameAbsolute")(e.fileName))f=u("makeUrl")(r,n),i=u("makeLinkText")(r);else{var d=o?e.lineNumber:null,p=a?e.columnNumber:null;f=u("makeUrl")(e.fileName,n,d,p),i=u("makeLinkText")(e.fileName,d,p)}return u("React").createElement("div",{style:c,key:t},u("React").createElement("div",null,e.functionName),u("React").createElement("div",{style:s},u("React").createElement("a",{href:f,style:l},i)))})}},{key:"render",value:function(){var e=this.props,t=e.error,r=e.className,n=u("assign")({},u("style"),this.props.style),o=n.redbox,a=n.message,i=n.stack,c=n.frame,s=void 0,l=void 0;try{s=u("ErrorStackParser").parse(t)}catch(e){l=new Error("Failed to parse stack trace. Stack trace information unavailable.")}return s=l?u("React").createElement("div",{style:c,key:0},u("React").createElement("div",null,l.message)):this.renderFrames(s),u("React").createElement("div",{style:o,className:r},u("React").createElement("div",{style:a},t.name,": ",t.message),u("React").createElement("div",{style:i},s))}}]),t}(u("Component"));k.propTypes={error:u("PropTypes").instanceOf(Error).isRequired,filename:u("PropTypes").string,editorScheme:u("PropTypes").string,useLines:u("PropTypes").bool,useColumns:u("PropTypes").bool,style:u("PropTypes").object,className:u("PropTypes").string},k.displayName="RedBoxError",k.defaultProps={useLines:!0,useColumns:!0};var N=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),m(t,[{key:"componentDidMount",value:function(){this.el=document.createElement("div"),document.body.appendChild(this.el),this.renderRedBoxError()}},{key:"componentDidUpdate",value:function(){this.renderRedBoxError()}},{key:"componentWillUnmount",value:function(){u("ReactDOM").unmountComponentAtNode(this.el),document.body.removeChild(this.el),this.el=null}},{key:"renderRedBoxError",value:function(){u("ReactDOM").render(u("React").createElement(u("RedBoxError"),this.props),this.el)}},{key:"render",value:function(){return null}}]),t}(u("Component"));N.propTypes={error:u("PropTypes").instanceOf(Error).isRequired},N.displayName="RedBox",t.default=N;var j=Object.create(null),T="__INTENTIONAL_UNDEFINED__",M={};!function(){function e(e,t){Object.defineProperty(M,e,{value:t,enumerable:!1,configurable:!0})}e("__get__",u),e("__GetDependency__",u),e("__Rewire__",s),e("__set__",s),e("__reset__",l),e("__ResetDependency__",l),e("__with__",f)}();var A="undefined"==typeof N?"undefined":p(N);"object"!==A&&"function"!==A||!Object.isExtensible(N)||(d("__get__",u),d("__GetDependency__",u),d("__Rewire__",s),d("__set__",s),d("__reset__",l),d("__ResetDependency__",l),d("__with__",f),d("__RewireAPI__",M)),t.__get__=u,t.__GetDependency__=u,t.__Rewire__=s,t.__set__=s,t.__ResetDependency__=l,t.__RewireAPI__=M},580:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={redbox:{boxSizing:"border-box",fontFamily:"sans-serif",position:"fixed",padding:10,top:"0px",left:"0px",bottom:"0px",right:"0px",width:"100%",background:"rgb(204, 0, 0)",color:"white",zIndex:2147483647,textAlign:"left",fontSize:"16px",lineHeight:1.2,overflow:"scroll"},message:{fontWeight:"bold"},stack:{fontFamily:"monospace",marginTop:"2em"},frame:{marginTop:"1em"},file:{fontSize:"0.8em",color:"rgba(255, 255, 255, 0.7)"},linkToFile:{textDecoration:"none",color:"rgba(255, 255, 255, 0.7)"}};t.default=r},581:function(e,t,r){var n,o,a;!function(i,u){"use strict";o=[r(582)],n=u,a="function"==typeof n?n.apply(t,o):n,!(void 0!==a&&(e.exports=a))}(this,function(e){"use strict";function t(e,t,r){if("function"==typeof Array.prototype.map)return e.map(t,r);for(var n=new Array(e.length),o=0;o<e.length;o++)n[o]=t.call(r,e[o]);return n}function r(e,t,r){if("function"==typeof Array.prototype.filter)return e.filter(t,r);for(var n=[],o=0;o<e.length;o++)t.call(r,e[o])&&n.push(e[o]);return n}function n(e,t){if("function"==typeof Array.prototype.indexOf)return e.indexOf(t);for(var r=0;r<e.length;r++)if(e[r]===t)return r;return-1}var o=/(^|@)\S+\:\d+/,a=/^\s*at .*(\S+\:\d+|\(native\))/m,i=/^(eval@)?(\[native code\])?$/;return{parse:function(e){if("undefined"!=typeof e.stacktrace||"undefined"!=typeof e["opera#sourceloc"])return this.parseOpera(e);if(e.stack&&e.stack.match(a))return this.parseV8OrIE(e);if(e.stack)return this.parseFFOrSafari(e);throw new Error("Cannot parse given Error object")},extractLocation:function(e){if(e.indexOf(":")===-1)return[e];var t=/(.+?)(?:\:(\d+))?(?:\:(\d+))?$/,r=t.exec(e.replace(/[\(\)]/g,""));return[r[1],r[2]||void 0,r[3]||void 0]},parseV8OrIE:function(o){var i=r(o.stack.split("\n"),function(e){return!!e.match(a)},this);return t(i,function(t){t.indexOf("(eval ")>-1&&(t=t.replace(/eval code/g,"eval").replace(/(\(eval at [^\()]*)|(\)\,.*$)/g,""));var r=t.replace(/^\s+/,"").replace(/\(eval code/g,"(").split(/\s+/).slice(1),o=this.extractLocation(r.pop()),a=r.join(" ")||void 0,i=n(["eval","<anonymous>"],o[0])>-1?void 0:o[0];return new e(a,void 0,i,o[1],o[2],t)},this)},parseFFOrSafari:function(n){var o=r(n.stack.split("\n"),function(e){return!e.match(i)},this);return t(o,function(t){if(t.indexOf(" > eval")>-1&&(t=t.replace(/ line (\d+)(?: > eval line \d+)* > eval\:\d+\:\d+/g,":$1")),t.indexOf("@")===-1&&t.indexOf(":")===-1)return new e(t);var r=t.split("@"),n=this.extractLocation(r.pop()),o=r.join("@")||void 0;return new e(o,void 0,n[0],n[1],n[2],t)},this)},parseOpera:function(e){return!e.stacktrace||e.message.indexOf("\n")>-1&&e.message.split("\n").length>e.stacktrace.split("\n").length?this.parseOpera9(e):e.stack?this.parseOpera11(e):this.parseOpera10(e)},parseOpera9:function(t){for(var r=/Line (\d+).*script (?:in )?(\S+)/i,n=t.message.split("\n"),o=[],a=2,i=n.length;a<i;a+=2){var u=r.exec(n[a]);u&&o.push(new e(void 0,void 0,u[2],u[1],void 0,n[a]))}return o},parseOpera10:function(t){for(var r=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,n=t.stacktrace.split("\n"),o=[],a=0,i=n.length;a<i;a+=2){var u=r.exec(n[a]);u&&o.push(new e(u[3]||void 0,void 0,u[2],u[1],void 0,n[a]))}return o},parseOpera11:function(n){var a=r(n.stack.split("\n"),function(e){return!!e.match(o)&&!e.match(/^Error created at/)},this);return t(a,function(t){var r,n=t.split("@"),o=this.extractLocation(n.pop()),a=n.shift()||"",i=a.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^\)]*\)/g,"")||void 0;a.match(/\(([^\)]*)\)/)&&(r=a.replace(/^[^\(]+\(([^\)]*)\)$/,"$1"));var u=void 0===r||"[arguments not available]"===r?void 0:r.split(",");return new e(i,u,o[0],o[1],o[2],t)},this)}}})},582:function(e,t,r){var n,o,a;!function(r,i){"use strict";o=[],n=i,a="function"==typeof n?n.apply(t,o):n,!(void 0!==a&&(e.exports=a))}(this,function(){"use strict";function e(e){return!isNaN(parseFloat(e))&&isFinite(e)}function t(e,t,r,n,o,a){void 0!==e&&this.setFunctionName(e),void 0!==t&&this.setArgs(t),void 0!==r&&this.setFileName(r),void 0!==n&&this.setLineNumber(n),void 0!==o&&this.setColumnNumber(o),void 0!==a&&this.setSource(a)}return t.prototype={getFunctionName:function(){return this.functionName},setFunctionName:function(e){this.functionName=String(e)},getArgs:function(){return this.args},setArgs:function(e){if("[object Array]"!==Object.prototype.toString.call(e))throw new TypeError("Args must be an Array");this.args=e},getFileName:function(){return this.fileName},setFileName:function(e){this.fileName=String(e)},getLineNumber:function(){return this.lineNumber},setLineNumber:function(t){if(!e(t))throw new TypeError("Line Number must be a Number");this.lineNumber=Number(t)},getColumnNumber:function(){return this.columnNumber},setColumnNumber:function(t){if(!e(t))throw new TypeError("Column Number must be a Number");this.columnNumber=Number(t)},getSource:function(){return this.source},setSource:function(e){this.source=String(e)},toString:function(){var t=this.getFunctionName()||"{anonymous}",r="("+(this.getArgs()||[]).join(",")+")",n=this.getFileName()?"@"+this.getFileName():"",o=e(this.getLineNumber())?":"+this.getLineNumber():"",a=e(this.getColumnNumber())?":"+this.getColumnNumber():"";return t+r+n+o+a}},t})},583:function(e,t){"use strict";function r(e){if(void 0===l||void 0===l[e])return n(e);var t=l[e];return t===f?void 0:t}function n(e){switch(e){case"filenameWithoutLoaders":return c;case"filenameHasSchema":return s}}function o(e,t){return"object"!==("undefined"==typeof e?"undefined":u(e))?(void 0===t?l[e]=f:l[e]=t,function(){a(e)}):void Object.keys(e).forEach(function(t){l[t]=e[t]})}function a(e){delete l[e]}function i(e){function t(){r.forEach(function(e){l[e]=n[e]})}var r=Object.keys(e),n={};return function(o){r.forEach(function(t){n[t]=l[t],l[t]=e[t]});var a=o();return a&&"function"==typeof a.then?a.then(t).catch(t):t(),a}}Object.defineProperty(t,"__esModule",{value:!0});var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c=t.filenameWithoutLoaders=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e.lastIndexOf("!");return t<0?e:e.substr(t+1)},s=(t.filenameHasLoaders=function(e){var t=r("filenameWithoutLoaders")(e);return t!==e},t.filenameHasSchema=function(e){return/^[\w]+\:/.test(e)}),l=(t.isFilenameAbsolute=function(e){var t=r("filenameWithoutLoaders")(e);return 0===t.indexOf("/")},t.makeUrl=function(e,t,n,o){var a=r("filenameWithoutLoaders")(e);if(r("filenameHasSchema")(e))return a;var i="file://"+a;return t&&(i=t+"://open?url="+i,n&&a===e&&(i=i+"&line="+n,o&&(i=i+"&column="+o))),i},t.makeLinkText=function(e,t,n){var o=r("filenameWithoutLoaders")(e);return t&&o===e&&(o=o+":"+t,n&&(o=o+":"+n)),o},Object.create(null)),f="__INTENTIONAL_UNDEFINED__",d={};!function(){function e(e,t){Object.defineProperty(d,e,{value:t,enumerable:!1,configurable:!0})}e("__get__",r),e("__GetDependency__",r),e("__Rewire__",o),e("__set__",o),e("__reset__",a),e("__ResetDependency__",a),e("__with__",i)}(),t.__get__=r,t.__GetDependency__=r,t.__Rewire__=o,t.__set__=o,t.__ResetDependency__=a,t.__RewireAPI__=d,t.default=d},584:function(e,t){"use strict";function r(e){var t=e.filename,r=(e.components,e.imports),a=o(r,3),i=a[0],u=a[1],c=a[2];if(!i||!i.Component)throw new Error("imports[0] for react-transform-catch-errors does not look like React.");if("function"!=typeof u)throw new Error("imports[1] for react-transform-catch-errors does not look like a React component.");return function(e,r){var o=e.prototype.render;return e.prototype.render=function(){try{return o.apply(this,arguments)}catch(e){return setTimeout(function(){if("undefined"==typeof console.reportErrorsAsExceptions)throw e;var t=console.reportErrorsAsExceptions;console.reportErrorsAsExceptions=!1,console.error(e),console.reportErrorsAsExceptions=t}),i.createElement(u,n({error:e,filename:t},c))}},e}}var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=function(){function e(e,t){var r=[],n=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(n=(i=u.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,a=e}finally{try{!n&&u.return&&u.return()}finally{if(o)throw a}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},585:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.filename,r=e.components,n=e.imports,o=e.locals,u=a(n,1),c=u[0],l=a(o,1),f=l[0].hot;if(!c.Component)throw new Error("imports[0] for react-transform-hmr does not look like React.");if(!f||"function"!=typeof f.accept)throw new Error("locals[0] does not appear to be a `module` object with Hot Module replacement API enabled. You should disable react-transform-hmr in production by using `env` section in Babel configuration. See the example in README: https://github.com/gaearon/react-transform-hmr");Object.keys(r).some(function(e){return!r[e].isInFunction})&&f.accept(function(e){e&&(console.warn("[React Transform HMR] There was an error updating "+t+":"),console.error(e))});var d=(0,i.getForceUpdate)(c);return function(e,n){var o=r[n],a=o.isInFunction,u=void 0!==a&&a,c=o.displayName,l=void 0===c?n:c;if(u)return e;var f=t+"$"+n;return s[f]?!function(){console.info("[React Transform HMR] Patching "+l);var t=s[f].update(e);setTimeout(function(){return t.forEach(d)})}():s[f]=(0,i.createProxy)(e),s[f].get()}}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){var r=[],n=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(n=(i=u.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,a=e}finally{try{!n&&u.return&&u.return()}finally{if(o)throw a}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.default=o;var i=r(586),u=r(730),c=n(u),s=void 0;c.default.__reactComponentProxies?s=c.default.__reactComponentProxies:(s={},Object.defineProperty(c.default,"__reactComponentProxies",{configurable:!0,enumerable:!1,writable:!1,value:s})),e.exports=t.default},586:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getForceUpdate=t.createProxy=void 0;var o=r(587),a=n(o),i=r(588),u=n(i),c=r(729),s=n(c);(0,a.default)()||console.warn("This JavaScript environment does not support __proto__. This means that react-proxy is unable to proxy React components. Features that rely on react-proxy, such as react-transform-hmr, will not function as expected."),t.createProxy=u.default,t.getForceUpdate=s.default},587:function(e,t){"use strict";function r(){return n.supports||!1}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var n={},o={supports:!0};try{n.__proto__=o}catch(e){}},588:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function a(e,t){if(!e&&!t)return!0;if(!e||!t)return!1;for(var r in e)if(e[r]!==t[r])return!1;return!0}function i(e){var t=(0,m.default)(P,function(t){var r=d(t,1),n=r[0];return n===e});return t?t[1]:null}function u(e,t){P.push([e,t])}function c(e){function t(e){var t=Object.getOwnPropertyDescriptor(m,e);return!a(h[e],t)}function r(e,t,r){var n=e();try{return n.apply(t,r)}catch(e){!function(){var e=new(Function.prototype.bind.apply(n,[null].concat(o(r))));Object.keys(e).forEach(function(r){x.indexOf(r)>-1||(t[r]=e[r])})}()}}function n(e){if("function"!=typeof e)throw new Error("Expected a constructor.");var r=i(e);if(r)return n(r.__getCurrent());p=e;var o=d.update(e.prototype);return m.prototype.constructor=m,m.__proto__=e.__proto__,Object.getOwnPropertyNames(e).forEach(function(r){if(!(x.indexOf(r)>-1)){var n=f({},Object.getOwnPropertyDescriptor(e,r),{configurable:!0});t(r)||(Object.defineProperty(m,r,n),h[r]=n)}}),Object.getOwnPropertyNames(m).forEach(function(r){if(!(x.indexOf(r)>-1||e.hasOwnProperty(r))){var n=Object.getOwnPropertyDescriptor(m,r);n&&!n.configurable||t(r)||(delete m[r],delete h[r])}}),m.displayName=e.displayName||e.name,o.forEach(b.default),o.forEach(g.default),o}function c(){return m}function s(){return p}var l=i(e);if(l)return l;var d=(0,y.default)(),p=void 0,m=void 0,h={};try{m=new Function("factory","instantiate","return function "+(e.name||"ProxyComponent")+"() {\n         return instantiate(factory, this, arguments);\n      }")(function(){return p},r)}catch(e){m=function(){return r(function(){return p},this,arguments)}}m.prototype=d.get(),m.toString=function(){return p.toString()},n(e);var v={get:c,update:n};return u(m,v),Object.defineProperty(v,"__getCurrent",{configurable:!1,writable:!1,enumerable:!1,value:s}),v}function s(e){var t=e;return{get:function(){return t},update:function(e){t=e}}}function l(e){return e.__proto__&&(0,O.default)()?c(e):s(e)}Object.defineProperty(t,"__esModule",{value:!0});var f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},d=function(){function e(e,t){var r=[],n=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(n=(i=u.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,a=e}finally{try{!n&&u.return&&u.return()}finally{if(o)throw a}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.default=c,t.default=l;var p=r(589),m=n(p),h=r(702),y=n(h),v=r(727),b=n(v),_=r(728),g=n(_),w=r(587),O=n(w),x=["length","name","arguments","caller","prototype","toString"],P=[]},589:function(e,t,r){var n=r(590),o=r(697),a=n(o);e.exports=a},590:function(e,t,r){function n(e){return function(t,r,n){var u=Object(t);if(!a(t)){var c=o(r,3);t=i(t),r=function(e){return c(u[e],e,u)}}var s=e(t,r,n);return s>-1?u[c?t[s]:s]:void 0}}var o=r(591),a=r(668),i=r(652);e.exports=n},697:function(e,t,r){function n(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var c=null==r?0:i(r);return c<0&&(c=u(n+c,0)),o(e,a(t,3),c)}var o=r(698),a=r(591),i=r(699),u=Math.max;e.exports=n},699:function(e,t,r){function n(e){var t=o(e),r=t%1;return t===t?r?t-r:t:0}var o=r(700);e.exports=n},700:function(e,t,r){function n(e){if(!e)return 0===e?e:0;if(e=o(e),e===a||e===-a){var t=e<0?-1:1;return t*i}return e===e?e:0}var o=r(701),a=1/0,i=1.7976931348623157e308;e.exports=n},701:function(e,t,r){function n(e){if("number"==typeof e)return e;if(a(e))return i;if(o(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=o(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(u,"");var r=s.test(e);return r||l.test(e)?f(e.slice(2),r?2:8):c.test(e)?i:+e}var o=r(612),a=r(682),i=NaN,u=/^\s+|\s+$/g,c=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,f=parseInt;e.exports=n},702:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(){function e(e){return function(){return"function"==typeof p[e]?p[e].toString():"<method was deleted>"}}function t(t){var r=function(){if("function"==typeof p[t])return p[t].apply(this,arguments)};return(0,i.default)(r,p[t]),r.toString=e(t),r}function r(){if(m.push(this),"function"==typeof p.componentDidMount)return p.componentDidMount.apply(this,arguments)}function n(){var e=m.indexOf(this);if(e!==-1&&m.splice(e,1),"function"==typeof p.componentWillUnmount)return p.componentWillUnmount.apply(this,arguments)}function o(e,t){Object.defineProperty(d,e,t)}function a(e,t){var r=Object.getOwnPropertyDescriptor(p,e)||{},n=r.enumerable,a=void 0!==n&&n,i=r.writable,u=void 0===i||i;o(e,{configurable:!0,enumerable:a,writable:u,value:t})}function u(){if(p.__reactAutoBindMap){var e={};for(var t in p.__reactAutoBindMap)"function"==typeof d[t]&&p.__reactAutoBindMap.hasOwnProperty(t)&&(e[t]=d[t]);return e}}function s(){for(var e=[],t=0;t<p.__reactAutoBindPairs.length;t+=2){var r=p.__reactAutoBindPairs[t],n=d[r];"function"==typeof n&&e.push(r,n)}return e}function l(e){p=e;var i=Object.getOwnPropertyNames(p),l=Object.getOwnPropertyNames(d),f=(0,c.default)(l,i);return f.forEach(function(e){delete d[e]}),i.forEach(function(e){var r=Object.getOwnPropertyDescriptor(p,e);"function"==typeof r.value?a(e,t(e)):o(e,r)}),a("componentDidMount",r),a("componentWillUnmount",n),p.hasOwnProperty("__reactAutoBindMap")&&a("__reactAutoBindMap",u()),p.hasOwnProperty("__reactAutoBindPairs")&&a("__reactAutoBindPairs",s()),d.__proto__=e,m}function f(){return d}var d={},p=null,m=[];return r.toString=e("componentDidMount"),n.toString=e("componentWillUnmount"),{update:l,get:f}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=r(703),i=n(a),u=r(717),c=n(u)},703:function(e,t,r){var n=r(704),o=r(707),a=r(708),i=r(668),u=r(666),c=r(652),s=Object.prototype,l=s.hasOwnProperty,f=a(function(e,t){if(u(t)||i(t))return void o(t,c(t),e);for(var r in t)l.call(t,r)&&n(e,r,t[r])});e.exports=f},704:function(e,t,r){function n(e,t,r){var n=e[t];u.call(e,t)&&a(n,r)&&(void 0!==r||t in e)||o(e,t,r)}var o=r(705),a=r(599),i=Object.prototype,u=i.hasOwnProperty;e.exports=n},707:function(e,t,r){function n(e,t,r,n){var i=!r;r||(r={});for(var u=-1,c=t.length;++u<c;){var s=t[u],l=n?n(r[s],e[s],s,r,e):void 0;void 0===l&&(l=e[s]),i?a(r,s,l):o(r,s,l)}return r}var o=r(704),a=r(705);e.exports=n},708:function(e,t,r){function n(e){return o(function(t,r){var n=-1,o=r.length,i=o>1?r[o-1]:void 0,u=o>2?r[2]:void 0;for(i=e.length>3&&"function"==typeof i?(o--,i):void 0,u&&a(r[0],r[1],u)&&(i=o<3?void 0:i,o=1),t=Object(t);++n<o;){var c=r[n];c&&e(t,c,n,i)}return t})}var o=r(709),a=r(716);e.exports=n},716:function(e,t,r){function n(e,t,r){if(!u(r))return!1;var n=typeof t;return!!("number"==n?a(r)&&i(t,r.length):"string"==n&&t in r)&&o(r[t],e)}var o=r(599),a=r(668),i=r(659),u=r(612);e.exports=n},727:function(e,t){"use strict";function r(e,t){var r=t.bind(e);r.__reactBoundContext=e,r.__reactBoundMethod=t,r.__reactBoundArguments=null;var n=e.constructor.displayName,o=r.bind;return r.bind=function(a){var i=Array.prototype.slice.call(arguments,1);if(a!==e&&null!==a)console.warn("bind(): React component methods may only be bound to the component instance. See "+n);else if(!i.length)return console.warn("bind(): You are binding a component method to the component. React does this for you automatically in a high-performance way, so you can safely remove this call. See "+n),r;var u=o.apply(r,arguments);return u.__reactBoundContext=e,u.__reactBoundMethod=t,u.__reactBoundArguments=i,u},r}function n(e){for(var t in e.__reactAutoBindMap){if(!e.__reactAutoBindMap.hasOwnProperty(t))return;if(!e.hasOwnProperty(t)||e[t].__reactBoundContext!==e){var n=e.__reactAutoBindMap[t];e[t]=r(e,n)}}}function o(e){e.__reactAutoBindPairs?a(e):e.__reactAutoBindMap&&n(e)}function a(e){var t=e.__reactAutoBindPairs;if(t)for(var n=0;n<t.length;n+=2){var o=t[n];if(!e.hasOwnProperty(o)||e[o].__reactBoundContext!==e){var a=t[n+1];e[o]=r(e,a)}}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o},728:function(e,t){"use strict";function r(e,t){return(!e.__reactAutoBindMap||!e.__reactAutoBindMap.hasOwnProperty(t))&&(!(e.__reactAutoBindPairs&&e.__reactAutoBindPairs.indexOf(t)>=0)&&null===e[t].__reactBoundArguments)}function n(e,t){var r=e.constructor.prototype,n=Object.getOwnPropertyDescriptor(r,t);return!(!n||!n.get)&&n.get().length===e[t].length}function o(e,t){var o=Object.getOwnPropertyDescriptor(e,t);if("function"==typeof o.value)return e.__reactAutoBindMap||e.__reactAutoBindPairs?r(e,t):n(e,t)}function a(e){var t=Object.getOwnPropertyNames(e);t.forEach(function(t){o(e,t)&&delete e[t]})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a},729:function(e,t){"use strict";function r(e,t,n){if(t(e,n),e._renderedComponent)r(e._renderedComponent,t,n);else for(var o in e._renderedChildren)e._renderedChildren.hasOwnProperty(o)&&r(e._renderedChildren[o],t,n)}function n(e){e._pendingForceUpdate===!1&&(e._pendingForceUpdate=!0)}function o(e,t){if(e._pendingForceUpdate===!0){var r=e._instance;t.Component.prototype.forceUpdate.call(r)}}function a(e){return function(t){var a=t._reactInternalInstance;r(a,n),r(a,o,e)}}t.__esModule=!0,t.default=a,e.exports=t.default},730:function(e,t){(function(t){"undefined"!=typeof window?e.exports=window:"undefined"!=typeof t?e.exports=t:"undefined"!=typeof self?e.exports=self:e.exports={}}).call(t,function(){return this}())},732:function(e,t,r){(function(e){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e){return function(t){return w(O(t,e),e)}}Object.defineProperty(t,"__esModule",{value:!0});var c=r(579),s=n(c),l=r(584),f=n(l),d=r(300),p=n(d),m=r(585),h=n(m),y=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),v=r(570),b=r(733),_=n(b);r(736);var g={Header:{displayName:"Header"}},w=(0,h.default)({filename:"/Users/fuhao/Workspace/fuhao/react-redux-github/src/components/Header/index.jsx",components:g,locals:[e],imports:[p.default]}),O=(0,f.default)({filename:"/Users/fuhao/Workspace/fuhao/react-redux-github/src/components/Header/index.jsx",components:g,locals:[],imports:[p.default,s.default]}),x=u("Header")(function(e){
function t(e){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),y(t,[{key:"go",value:function(e,t){"back"===e?this.props.dispatch((0,v.go)(-1)):this.props.dispatch((0,v.go)(t))}},{key:"goto",value:function(e){e&&this.props.dispatch((0,v.push)(e))}},{key:"render",value:function(){var e=this,t=this.props,r=t.left,n=t.center,o=t.right,a={width:28,height:28};return p.default.createElement("div",{className:"header"},p.default.createElement("div",{className:"navbar"},p.default.createElement("div",{className:"navbar-inner"},p.default.createElement("div",{className:"left link",onClick:function(){return e.go(r.event)}},r.icon?p.default.createElement(_.default,{name:r.icon,style:r.size?r.size:a}):r.text),p.default.createElement("div",{className:"center"},n.icon?p.default.createElement(_.default,{name:n.icon,style:n.size?n.size:a}):n.text),p.default.createElement("div",{className:"right link",onClick:function(){return e.goto(o.url)}},o.icon?p.default.createElement(_.default,{name:o.icon,style:o.size?o.size:a}):o.text))))}}]),t}(p.default.Component));x.propTypes={left:p.default.PropTypes.object.isRequired,center:p.default.PropTypes.object.isRequired,right:p.default.PropTypes.object.isRequired},t.default=x}).call(t,r(496)(e))},733:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(300),a=n(o);r(734);var i=function(e){var t="../src/img/icon/"+e.name+".png";return a.default.createElement("img",{className:"img-icon",src:t,style:e.style,alt:"icon"})};i.propTypes={children:a.default.PropTypes.any},t.default=i},734:function(e,t,r){var n=r(735);"string"==typeof n&&(n=[[e.id,n,""]]);var o=r(470)(n,{});n.locals&&(e.exports=n.locals),n.locals||e.hot.accept(735,function(){var t=r(735);"string"==typeof t&&(t=[[e.id,t,""]]),o(t)}),e.hot.dispose(function(){o()})},735:function(e,t,r){t=e.exports=r(468)(),t.push([e.id,".img-icon{vertical-align:middle;width:.213333rem;height:.213333rem}",""])},736:function(e,t,r){var n=r(737);"string"==typeof n&&(n=[[e.id,n,""]]);var o=r(470)(n,{});n.locals&&(e.exports=n.locals),n.locals||e.hot.accept(737,function(){var t=r(737);"string"==typeof t&&(t=[[e.id,t,""]]),o(t)}),e.hot.dispose(function(){o()})},737:function(e,t,r){t=e.exports=r(468)(),t.push([e.id,"body{background-color:#fff}.button-red{color:#fff;background-color:#f44336!important}.button-orange{color:#fff;background-color:#ff9800!important}.button-green{color:#fff;background-color:#4caf50!important}.button-blue{color:#fff;background-color:#2196f3!important}.button{border-radius:0}.entry-wrap,.entry-wrap>div,.entry-wrap>div>div{height:100%}.list-block .item-inner:after{display:none}.header .link.active-state{opacity:.4;filter:alpha(opacity=40)}",""])},738:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a=r(300),i=n(a),u=r(739),c=n(u);r(740);var s=function(e){return i.default.createElement("div",o({},e,{className:(0,c.default)("page-content",e.className)}),e.children)};s.propTypes={children:i.default.PropTypes.any.isRequired},t.default=s},739:function(e,t,r){var n,o;/*!
	  Copyright (c) 2016 Jed Watson.
	  Licensed under the MIT License (MIT), see
	  http://jedwatson.github.io/classnames
	*/
!function(){"use strict";function r(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"===o||"number"===o)e.push(n);else if(Array.isArray(n))e.push(r.apply(null,n));else if("object"===o)for(var i in n)a.call(n,i)&&n[i]&&e.push(i)}}return e.join(" ")}var a={}.hasOwnProperty;"undefined"!=typeof e&&e.exports?e.exports=r:(n=[],o=function(){return r}.apply(t,n),!(void 0!==o&&(e.exports=o)))}()},740:function(e,t,r){var n=r(741);"string"==typeof n&&(n=[[e.id,n,""]]);var o=r(470)(n,{});n.locals&&(e.exports=n.locals),n.locals||e.hot.accept(741,function(){var t=r(741);"string"==typeof t&&(t=[[e.id,t,""]]),o(t)}),e.hot.dispose(function(){o()})},741:function(e,t,r){t=e.exports=r(468)(),t.push([e.id,".page-content{overflow:scroll;height:calc(100% - .586667rem)}",""])},742:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(743),a=n(o),i=r(744),u=n(i);r(745);var c={List:a.default,Item:u.default};t.default=c},743:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(300),a=n(o),i=r(739),u=n(i),c=function(e){var t=e.className,r=e.children,n=(0,u.default)("list-block",t,{});return a.default.createElement("div",{className:n},a.default.createElement("ul",null,r))};c.propTypes={children:a.default.PropTypes.any},t.default=c},744:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(300),a=n(o),i=r(739),u=n(i),c=function(e){var t=e.className,r=e.media,n=e.children,o=(0,u.default)("item-content",t,{media:r});return a.default.createElement("li",{className:o},n)};c.propTypes={children:a.default.PropTypes.any},t.default=c},745:function(e,t,r){var n=r(746);"string"==typeof n&&(n=[[e.id,n,""]]);var o=r(470)(n,{});n.locals&&(e.exports=n.locals),n.locals||e.hot.accept(746,function(){var t=r(746);"string"==typeof t&&(t=[[e.id,t,""]]),o(t)}),e.hot.dispose(function(){o()})},746:function(e,t,r){t=e.exports=r(468)(),t.push([e.id,".list-block{margin:0}.list-block .item-content{display:block}.list-block .item-content.media{display:-webkit-box;display:-ms-flexbox;display:flex}.list-block UL:after,.list-block ul:before{display:none}.list-block li{border-bottom:.013333rem solid #ccc}",""])},747:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(464),a=n(o),i=a.default.$,u=i("#pages");t.default=function(){u.removeClass("toolbar-fixed")}},748:function(e,t,r){(function(e){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e){return function(t){return g(w(t,e),e)}}Object.defineProperty(t,"__esModule",{value:!0});var c=r(579),s=n(c),l=r(584),f=n(l),d=r(300),p=n(d),m=r(585),h=n(m),y=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),v=r(739),b=n(v);r(749);var _={Tab:{displayName:"Tab"}},g=(0,h.default)({filename:"/Users/fuhao/Workspace/fuhao/react-redux-github/src/components/Tab/index.jsx",components:_,locals:[e],imports:[p.default]}),w=(0,f.default)({filename:"/Users/fuhao/Workspace/fuhao/react-redux-github/src/components/Tab/index.jsx",components:_,locals:[],imports:[p.default,s.default]}),O=u("Tab")(function(e){function t(e){o(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.state={activeName:e.activeName},r}return i(t,e),y(t,[{key:"changeActiveName",value:function(e){this.setState({activeName:e}),"function"==typeof this.props.onChange&&this.props.onChange(e)}},{key:"render",value:function(){var e=this,t=this.props,r=t.tabs,n=t.isFetching;return p.default.createElement("div",{className:"tabs"},r.map(function(t){return p.default.createElement("div",{key:t.activeName,className:(0,b.default)("tab",{selected:e.state.activeName===t.activeName}),onClick:function(){return e.changeActiveName(t.activeName)},disabled:n},t.title)}))}}]),t}(p.default.Component));O.porpTypes={tabs:p.default.PropTypes.object.isRequired,activeName:p.default.PropTypes.string.isRequired,isFetching:p.default.PropTypes.bool},O.defaultProps={isFetching:!1},t.default=O}).call(t,r(496)(e))},749:function(e,t,r){var n=r(750);"string"==typeof n&&(n=[[e.id,n,""]]);var o=r(470)(n,{});n.locals&&(e.exports=n.locals),n.locals||e.hot.accept(750,function(){var t=r(750);"string"==typeof t&&(t=[[e.id,t,""]]),o(t)}),e.hot.dispose(function(){o()})},750:function(e,t,r){t=e.exports=r(468)(),t.push([e.id,".tabs{display:table;width:100%;table-layout:fixed;background:#fafafa}.tabs .tab{display:table-cell;text-align:center;padding:.133333rem 0}",""])},751:function(e,t,r){(function(e){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e){return function(t){return g(w(t,e),e)}}Object.defineProperty(t,"__esModule",{value:!0});var c=r(579),s=n(c),l=r(584),f=n(l),d=r(300),p=n(d),m=r(585),h=n(m),y=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),v=r(739),b=n(v);r(752);var _={CountPage:{displayName:"CountPage"}},g=(0,h.default)({filename:"/Users/fuhao/Workspace/fuhao/react-redux-github/src/components/CountPage/index.jsx",components:_,locals:[e],imports:[p.default]}),w=(0,f.default)({filename:"/Users/fuhao/Workspace/fuhao/react-redux-github/src/components/CountPage/index.jsx",components:_,locals:[],imports:[p.default,s.default]}),O=u("CountPage")(function(e){function t(e){o(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.state={page:1},r.addPage=r.addPage.bind(r),r.minusPage=r.minusPage.bind(r),r}return i(t,e),y(t,[{key:"componentWillReceiveProps",value:function(e){e.reset&&this.setState({page:1})}},{key:"addPage",value:function(){var e=this.state.page;e+=1,this.setState({page:e}),"function"==typeof this.props.onChange&&this.props.onChange(e)}},{key:"minusPage",value:function(){var e=this.state.page;e-=1,this.setState({page:e}),"function"==typeof this.props.onChange&&this.props.onChange(e)}},{key:"render",value:function(){var e=this,t=this.state.page,r=this.props,n=r.min,o=r.max;return p.default.createElement("div",{className:"pagination row no-gutter"},p.default.createElement("div",{className:(0,b.default)("col-33",{disabled:t<=n}),onClick:function(){return e.minusPage()}},"◀︎"),p.default.createElement("div",{className:"col-33 current-page"},t+"/"+o),p.default.createElement("div",{className:(0,b.default)("col-33",{disabled:t>=o}),onClick:function(){return e.addPage()}},"▶︎"))}}]),t}(p.default.Component));O.porpTypes={min:p.default.PropTypes.number,max:p.default.PropTypes.number.isRequired,reset:p.default.PropTypes.bool},O.defaultProps={min:1,max:1,reset:!1},t.default=O}).call(t,r(496)(e))},752:function(e,t,r){var n=r(753);"string"==typeof n&&(n=[[e.id,n,""]]);var o=r(470)(n,{});n.locals&&(e.exports=n.locals),n.locals||e.hot.accept(753,function(){var t=r(753);"string"==typeof t&&(t=[[e.id,t,""]]),o(t)}),e.hot.dispose(function(){o()})},753:function(e,t,r){t=e.exports=r(468)(),t.push([e.id,".pagination{text-align:center}.pagination div{padding:.133333rem .2rem;border-bottom:.013333rem solid #ddd}.pagination .current-page{border-right:.013333rem solid #ddd;border-left:.013333rem solid #ddd}.pagination .current-page.active-state{background:transparent}.pagination .active-state{background-color:#bfe5f3}",""])},754:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(300),a=n(o),i=r(731),u=n(i),c=r(742),s=n(c),l=r(755),f=n(l),d=r(756),p=n(d),m=r(759),h=n(m),y=s.default.List,v=s.default.Item,b=function(e){var t=e.items,r=e.isFetching;return r?a.default.createElement(h.default,null):0!==t.size?a.default.createElement(y,{className:"rep-items"},t.map(function(e){return a.default.createElement(v,{key:e.get("id")},a.default.createElement("div",{className:"item-wrap"},a.default.createElement("div",{className:"title"},e.get("full_name")),a.default.createElement("div",{className:"after"},e.get("stargazers_count"),a.default.createElement("span",null,"★"))),e.get("description")&&""!==e.get("description")&&a.default.createElement("div",{className:"des"},(0,f.default)(e.get("description"),200)))})):a.default.createElement(p.default,null)};b.propTypes={item:a.default.PropTypes.instanceOf(u.default.List),isFetching:a.default.PropTypes.bool},t.default=b},755:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return e.length>t?e.substring(0,t)+"...":e}},756:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(300),a=n(o);r(757);var i=function(){return a.default.createElement("div",{className:"search-placeholder"},"No results to show.")};t.default=i},757:function(e,t,r){var n=r(758);"string"==typeof n&&(n=[[e.id,n,""]]);var o=r(470)(n,{});n.locals&&(e.exports=n.locals),n.locals||e.hot.accept(758,function(){var t=r(758);"string"==typeof t&&(t=[[e.id,t,""]]),o(t)}),e.hot.dispose(function(){o()})},758:function(e,t,r){t=e.exports=r(468)(),t.push([e.id,".user-placeholder{padding:0;margin:.2rem;overflow:hidden;word-break:break-word;word-wrap:break-word;white-space:normal;border:.013333rem solid #ddd;border-radius:.04rem;background:#f5f5f5;border-color:#ccc;box-shadow:inset 0 0 .133333rem rgba(0,0,0,.1)}.user-placeholder .wrap{font-size:.2rem;color:#767676;text-align:center;padding:.2rem}.search-placeholder{padding:.6rem;font-weight:700;color:#767676;text-align:center}",""])},759:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(300),a=n(o);r(760);var i=function(){return a.default.createElement("div",{className:"loading"},a.default.createElement("div",{className:"loader"}),a.default.createElement("div",{className:"text"},"Loading..."))};t.default=i},760:function(e,t,r){var n=r(761);"string"==typeof n&&(n=[[e.id,n,""]]);var o=r(470)(n,{});n.locals&&(e.exports=n.locals),n.locals||e.hot.accept(761,function(){var t=r(761);"string"==typeof t&&(t=[[e.id,t,""]]),o(t)}),e.hot.dispose(function(){o()})},761:function(e,t,r){t=e.exports=r(468)(),t.push([e.id,".loading{margin:.266667rem auto;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;position:relative}.loading .text{position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);font-size:.24rem}.loading .loader,.loading .loader:after{border-radius:50%;width:10em;height:10em}.loading .loader{margin:.8rem auto;font-size:.133333rem;position:relative;text-indent:-9999em;border-top:1.1em solid hsla(0,0%,80%,.2);border-right:1.1em solid hsla(0,0%,80%,.2);border-bottom:1.1em solid hsla(0,0%,80%,.2);border-left:1.1em solid #ccc;-webkit-transform:translateZ(0);transform:translateZ(0);-webkit-animation:load8 1.1s infinite linear;animation:load8 1.1s infinite linear}@-webkit-keyframes load8{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes load8{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}",""])},762:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(300),a=n(o),i=r(731),u=n(i),c=r(742),s=n(c),l=r(755),f=n(l),d=r(756),p=n(d),m=r(759),h=n(m),y=s.default.List,v=s.default.Item,b=function(e){var t=e.items,r=e.isFetching;return r?a.default.createElement(h.default,null):0!==t.size?a.default.createElement(y,{className:"issues-items"},t.map(function(e){return a.default.createElement(v,{key:e.get("id")},a.default.createElement("div",{className:"item-wrap"},a.default.createElement("div",{className:"title"},e.get("title")),a.default.createElement("div",{className:"after"},a.default.createElement("span",null,"#"),e.get("number"))),e.get("body")&&""!==e.get("body")&&a.default.createElement("div",{className:"des"},(0,f.default)(e.get("body"),200)))})):a.default.createElement(p.default,null)};b.propTypes={item:a.default.PropTypes.instanceOf(u.default.List),isFetching:a.default.PropTypes.bool},t.default=b},763:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(300),a=n(o),i=r(731),u=n(i),c=r(742),s=n(c),l=r(756),f=n(l),d=r(759),p=n(d),m=s.default.List,h=s.default.Item,y=function(e){var t=e.items,r=e.gotoUser,n=e.isFetching;return n?a.default.createElement(p.default,null):0!==t.size?a.default.createElement(m,{className:"users-items"},t.map(function(e){return a.default.createElement(h,{key:e.get("id"),media:!0},a.default.createElement("div",{className:"item-media"},a.default.createElement("img",{src:e.get("avatar_url")})),a.default.createElement("div",{className:"item-inner"},a.default.createElement("div",{className:"item-title",onClick:function(){return r(e.get("login"))}},e.get("login"),a.default.createElement("span",{className:"name"},e.get("name"))),a.default.createElement("div",{className:"location"},e.get("location"))))})):a.default.createElement(f.default,null)};y.propTypes={item:a.default.PropTypes.instanceOf(u.default.List),isFetching:a.default.PropTypes.bool},t.default=y},764:function(e,t,r){var n=r(765);"string"==typeof n&&(n=[[e.id,n,""]]);var o=r(470)(n,{});n.locals&&(e.exports=n.locals),n.locals||e.hot.accept(765,function(){var t=r(765);"string"==typeof t&&(t=[[e.id,t,""]]),o(t)}),e.hot.dispose(function(){o()})},765:function(e,t,r){t=e.exports=r(468)(),t.push([e.id,"body{background-color:#fff}.button-red{color:#fff;background-color:#f44336!important}.button-orange{color:#fff;background-color:#ff9800!important}.button-green{color:#fff;background-color:#4caf50!important}.button-blue{color:#fff;background-color:#2196f3!important}.button{border-radius:0}.entry-wrap,.entry-wrap>div,.entry-wrap>div>div{height:100%}.list-block .item-inner:after{display:none}.search .search-input{border-bottom:none;background-color:#fafafa}.search .search-input .item-input{padding:.133333rem}.search .search-input input{padding:.133333rem;border:.013333rem solid #ddd}.search .tabs .tab{color:#4078c0;border-bottom:.013333rem solid #ddd}.search .tabs .tab[class*=selected]{color:#444;background-color:#fff;border-top:.026667rem solid #d26911;border-bottom-color:#fff}.search .tabs .selected:nth-child(1){border-right:.013333rem solid #ddd}.search .tabs .selected:nth-child(2){border-right:.013333rem solid #ddd;border-left:.013333rem solid #ddd}.search .tabs .selected:nth-child(3){border-left:.013333rem solid #ddd}.search .item-content{width:100%;padding:.186667rem .2rem .186667rem .466667rem}.search .item-wrap{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;margin-bottom:.04rem;font-size:.186667rem}.search .item-wrap .title{color:#4078c0}.search .item-wrap .after{color:#999}.search .item-wrap .des{font-size:.16rem;color:#767676}.search .issues-items .des,.search .rep-items .des{font-size:.16rem;color:#767676;word-wrap:break-word}.search .users-items .item-content.media{position:relative}.search .users-items .item-inner{display:block;margin-left:.6rem;color:#4078c0;font-size:.213333rem}.search .users-items .item-inner .name{color:#333;margin-left:.133333rem}.search .users-items .item-inner .location{font-size:.186667rem;color:#767676}.search .users-items .item-media{position:absolute;left:.2rem}.search .users-items .item-media img{width:.666667rem;height:.666667rem;border-radius:.4rem}",""])}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc2VhcmNoLjhmNzJmLmNodW5rLmpzIiwid2VicGFjazovLy8uL3NyYy9TZWFyY2gvY29udGFpbmVycy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvU2VhcmNoL2NvbXBvbmVudC5qc3giLCJ3ZWJwYWNrOi8vLy4vfi9yZWRib3gtcmVhY3QvbGliL2luZGV4LmpzIiwid2VicGFjazovLy8uL34vcmVkYm94LXJlYWN0L2xpYi9zdHlsZS5qcyIsIndlYnBhY2s6Ly8vLi9+L2Vycm9yLXN0YWNrLXBhcnNlci9lcnJvci1zdGFjay1wYXJzZXIuanMiLCJ3ZWJwYWNrOi8vLy4vfi9zdGFja2ZyYW1lL3N0YWNrZnJhbWUuanMiLCJ3ZWJwYWNrOi8vLy4vfi9yZWRib3gtcmVhY3QvbGliL2xpYi5qcyIsIndlYnBhY2s6Ly8vLi9+L3JlYWN0LXRyYW5zZm9ybS1jYXRjaC1lcnJvcnMvbGliL2luZGV4LmpzIiwid2VicGFjazovLy8uL34vcmVhY3QtdHJhbnNmb3JtLWhtci9saWIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vfi9yZWFjdC1wcm94eS9tb2R1bGVzL2luZGV4LmpzIiwid2VicGFjazovLy8uL34vcmVhY3QtcHJveHkvbW9kdWxlcy9zdXBwb3J0c1Byb3RvQXNzaWdubWVudC5qcyIsIndlYnBhY2s6Ly8vLi9+L3JlYWN0LXByb3h5L21vZHVsZXMvY3JlYXRlQ2xhc3NQcm94eS5qcyIsIndlYnBhY2s6Ly8vLi9+L2xvZGFzaC9maW5kLmpzIiwid2VicGFjazovLy8uL34vbG9kYXNoL19jcmVhdGVGaW5kLmpzIiwid2VicGFjazovLy8uL34vbG9kYXNoL2ZpbmRJbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9+L2xvZGFzaC90b0ludGVnZXIuanMiLCJ3ZWJwYWNrOi8vLy4vfi9sb2Rhc2gvdG9GaW5pdGUuanMiLCJ3ZWJwYWNrOi8vLy4vfi9sb2Rhc2gvdG9OdW1iZXIuanMiLCJ3ZWJwYWNrOi8vLy4vfi9yZWFjdC1wcm94eS9tb2R1bGVzL2NyZWF0ZVByb3RvdHlwZVByb3h5LmpzIiwid2VicGFjazovLy8uL34vbG9kYXNoL2Fzc2lnbi5qcyIsIndlYnBhY2s6Ly8vLi9+L2xvZGFzaC9fYXNzaWduVmFsdWUuanMiLCJ3ZWJwYWNrOi8vLy4vfi9sb2Rhc2gvX2NvcHlPYmplY3QuanMiLCJ3ZWJwYWNrOi8vLy4vfi9sb2Rhc2gvX2NyZWF0ZUFzc2lnbmVyLmpzIiwid2VicGFjazovLy8uL34vbG9kYXNoL19pc0l0ZXJhdGVlQ2FsbC5qcyIsIndlYnBhY2s6Ly8vLi9+L3JlYWN0LXByb3h5L21vZHVsZXMvYmluZEF1dG9CaW5kTWV0aG9kcy5qcyIsIndlYnBhY2s6Ly8vLi9+L3JlYWN0LXByb3h5L21vZHVsZXMvZGVsZXRlVW5rbm93bkF1dG9CaW5kTWV0aG9kcy5qcyIsIndlYnBhY2s6Ly8vLi9+L3JlYWN0LWRlZXAtZm9yY2UtdXBkYXRlL2xpYi9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9+L2dsb2JhbC93aW5kb3cuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvSGVhZGVyL2luZGV4LmpzeCIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9JY29uL2luZGV4LmpzeCIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9JY29uL3N0eWxlLmxlc3M/OWIzNSIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9JY29uL3N0eWxlLmxlc3MiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvSGVhZGVyL3N0eWxlLmxlc3M/MGQ2YyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9IZWFkZXIvc3R5bGUubGVzcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9Db250ZW50L2luZGV4LmpzeCIsIndlYnBhY2s6Ly8vLi9+L2NsYXNzbmFtZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvQ29udGVudC9zdHlsZS5sZXNzPzdkYjAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvQ29udGVudC9zdHlsZS5sZXNzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL0xpc3RCbG9jay9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9MaXN0QmxvY2svTGlzdC5qc3giLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvTGlzdEJsb2NrL0l0ZW0uanN4Iiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL0xpc3RCbG9jay9zdHlsZS5sZXNzPzNhZGIiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvTGlzdEJsb2NrL3N0eWxlLmxlc3MiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbW1vbi9jbGVhclRvb2xiYXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvVGFiL2luZGV4LmpzeCIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9UYWIvc3R5bGUubGVzcz8xOGFhIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL1RhYi9zdHlsZS5sZXNzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL0NvdW50UGFnZS9pbmRleC5qc3giLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvQ291bnRQYWdlL3N0eWxlLmxlc3M/MTg4OCIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9Db3VudFBhZ2Uvc3R5bGUubGVzcyIsIndlYnBhY2s6Ly8vLi9zcmMvU2VhcmNoL2NvbXBvbmVudHMvUmVwb3NpdG9yaWVzLmpzeCIsIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL2N1dFdvcmRzLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL1BsYWNlaG9sZGVyL1NlYXJjaFBsYWNlaG9sZGVyLmpzeCIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9QbGFjZWhvbGRlci9zdHlsZS5sZXNzP2I5MDciLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvUGxhY2Vob2xkZXIvc3R5bGUubGVzcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9Mb2FkaW5nL2luZGV4LmpzeCIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9Mb2FkaW5nL3N0eWxlLmxlc3M/NjI4OSIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9Mb2FkaW5nL3N0eWxlLmxlc3MiLCJ3ZWJwYWNrOi8vLy4vc3JjL1NlYXJjaC9jb21wb25lbnRzL0lzc3Vlcy5qc3giLCJ3ZWJwYWNrOi8vLy4vc3JjL1NlYXJjaC9jb21wb25lbnRzL1VzZXJzLmpzeCIsIndlYnBhY2s6Ly8vLi9zcmMvU2VhcmNoL3N0eWxlLmxlc3M/MGE5YiIsIndlYnBhY2s6Ly8vLi9zcmMvU2VhcmNoL3N0eWxlLmxlc3MiXSwibmFtZXMiOlsid2VicGFja0pzb25wIiwiNTc3IiwibW9kdWxlIiwiZXhwb3J0cyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0Iiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsInZhbHVlIiwiX3JlYWN0UmVkdXgiLCJfY29tcG9uZW50IiwiX2NvbXBvbmVudDIiLCJfc2VsZWN0b3JzIiwiY29udGFpbmVyIiwiY29ubmVjdCIsIm1hcFN0YXRlVG9Qcm9wcyIsIm1hcERpc3BhdGNoVG9Qcm9wcyIsIjU3OCIsIl9jbGFzc0NhbGxDaGVjayIsImluc3RhbmNlIiwiQ29uc3RydWN0b3IiLCJUeXBlRXJyb3IiLCJfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiIsInNlbGYiLCJjYWxsIiwiUmVmZXJlbmNlRXJyb3IiLCJfaW5oZXJpdHMiLCJzdWJDbGFzcyIsInN1cGVyQ2xhc3MiLCJwcm90b3R5cGUiLCJjcmVhdGUiLCJjb25zdHJ1Y3RvciIsImVudW1lcmFibGUiLCJ3cml0YWJsZSIsImNvbmZpZ3VyYWJsZSIsInNldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwiX3dyYXBDb21wb25lbnQiLCJpZCIsIkNvbXBvbmVudCIsIl9Vc2Vyc0Z1aGFvV29ya3NwYWNlRnVoYW9SZWFjdFJlZHV4R2l0aHViTm9kZV9tb2R1bGVzUmVhY3RUcmFuc2Zvcm1IbXJMaWJJbmRleEpzMiIsIl9Vc2Vyc0Z1aGFvV29ya3NwYWNlRnVoYW9SZWFjdFJlZHV4R2l0aHViTm9kZV9tb2R1bGVzUmVhY3RUcmFuc2Zvcm1DYXRjaEVycm9yc0xpYkluZGV4SnMyIiwiX2luZGV4IiwiX2luZGV4MiIsIl9pbmRleDMiLCJfaW5kZXg0IiwiX3JlYWN0MiIsIl9yZWFjdDMiLCJfaW5kZXg1IiwiX2luZGV4NiIsIl9jcmVhdGVDbGFzcyIsImRlZmluZVByb3BlcnRpZXMiLCJ0YXJnZXQiLCJwcm9wcyIsImkiLCJsZW5ndGgiLCJkZXNjcmlwdG9yIiwia2V5IiwicHJvdG9Qcm9wcyIsInN0YXRpY1Byb3BzIiwiX2ltbXV0YWJsZSIsIl9pbW11dGFibGUyIiwiX0hlYWRlciIsIl9IZWFkZXIyIiwiX0NvbnRlbnQiLCJfQ29udGVudDIiLCJfTGlzdEJsb2NrIiwiX0xpc3RCbG9jazIiLCJfY2xlYXJUb29sYmFyIiwiX2NsZWFyVG9vbGJhcjIiLCJfVGFiIiwiX1RhYjIiLCJfQ291bnRQYWdlIiwiX0NvdW50UGFnZTIiLCJfUmVwb3NpdG9yaWVzIiwiX1JlcG9zaXRvcmllczIiLCJfSXNzdWVzIiwiX0lzc3VlczIiLCJfVXNlcnMiLCJfVXNlcnMyIiwiX2NvbXBvbmVudHMiLCJTZWFyY2giLCJkaXNwbGF5TmFtZSIsImZpbGVuYW1lIiwiY29tcG9uZW50cyIsImxvY2FscyIsImltcG9ydHMiLCJMaXN0IiwiSXRlbSIsInRhYnMiLCJhY3RpdmVOYW1lIiwidGl0bGUiLCJfUmVhY3QkQ29tcG9uZW50IiwidGhpcyIsIl90aGlzIiwiZ2V0UHJvdG90eXBlT2YiLCJrZXlVcEhhbmRsZXIiLCJiaW5kIiwiZSIsImtleUNvZGUiLCJjaGFuZ2VBY3RpdmVOYW1lIiwiZ2V0SXRlbXMiLCJyZWZzIiwic2VhcmNoIiwicGFnZSIsIl90aGlzMiIsIl9wcm9wcyIsIml0ZW1zIiwidG90YWxQYWdlcyIsInJlc2V0UGFnZSIsImdvdG9Vc2VyIiwiaXNGZXRjaGluZyIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc05hbWUiLCJsZWZ0IiwiaWNvbiIsInNpemUiLCJ3aWR0aCIsImhlaWdodCIsImNlbnRlciIsInJpZ2h0IiwidHlwZSIsInJlZiIsIm9uS2V5VXAiLCJvbkNoYW5nZSIsIl9hY3RpdmVOYW1lIiwiY2hhbmdlVGFiSGFuZGxlciIsIm1heCIsInJlc2V0IiwiX3BhZ2UiLCJjaGFuZ2VQYWdlSGFuZGxlciIsInByb3BUeXBlcyIsIml0ZW0iLCJQcm9wVHlwZXMiLCJpbnN0YW5jZU9mIiwic3RyaW5nIiwibnVtYmVyIiwiYm9vbCIsIjU3OSIsIl9nZXRfXyIsInZhcmlhYmxlTmFtZSIsInVuZGVmaW5lZCIsIl9SZXdpcmVkRGF0YV9fIiwiX2dldF9vcmlnaW5hbF9fIiwiSU5URU5USU9OQUxfVU5ERUZJTkVEIiwiX3JlYWN0IiwiX29iamVjdEFzc2lnbjIiLCJfc3R5bGUyIiwiX2xpYiIsImlzRmlsZW5hbWVBYnNvbHV0ZSIsIm1ha2VVcmwiLCJtYWtlTGlua1RleHQiLCJfZXJyb3JTdGFja1BhcnNlcjIiLCJfcmVhY3REb20yIiwiUmVkQm94RXJyb3IiLCJfc2V0X18iLCJfdHlwZW9mIiwiX3Jlc2V0X18iLCJrZXlzIiwiZm9yRWFjaCIsIm5hbWUiLCJfd2l0aF9fIiwib2JqZWN0IiwicmV3aXJlZFZhcmlhYmxlTmFtZXMiLCJwcmV2aW91c1ZhbHVlcyIsImNhbGxiYWNrIiwicmVzdWx0IiwidGhlbiIsImNhdGNoIiwiYWRkTm9uRW51bWVyYWJsZVByb3BlcnR5IiwiUmVkQm94IiwiX19SZXdpcmVBUElfXyIsIl9fUmVzZXREZXBlbmRlbmN5X18iLCJfX3NldF9fIiwiX19SZXdpcmVfXyIsIl9fR2V0RGVwZW5kZW5jeV9fIiwiX19nZXRfXyIsIlN5bWJvbCIsIml0ZXJhdG9yIiwiX3JlYWN0RG9tIiwiX3N0eWxlIiwiX2Vycm9yU3RhY2tQYXJzZXIiLCJfb2JqZWN0QXNzaWduIiwiX2dldF9fMiIsImFwcGx5IiwiYXJndW1lbnRzIiwiZnJhbWVzIiwiZWRpdG9yU2NoZW1lIiwidXNlTGluZXMiLCJ1c2VDb2x1bW5zIiwiX2dldF9fMyIsInN0eWxlIiwiZnJhbWUiLCJmaWxlIiwibGlua1RvRmlsZSIsIm1hcCIsImYiLCJpbmRleCIsInRleHQiLCJ1cmwiLCJmaWxlTmFtZSIsImxpbmVzIiwibGluZU51bWJlciIsImNvbHVtbnMiLCJjb2x1bW5OdW1iZXIiLCJmdW5jdGlvbk5hbWUiLCJocmVmIiwiX3Byb3BzMiIsImVycm9yIiwiX2dldF9fNCIsInJlZGJveCIsIm1lc3NhZ2UiLCJzdGFjayIsInBhcnNlRXJyb3IiLCJwYXJzZSIsIkVycm9yIiwicmVuZGVyRnJhbWVzIiwiaXNSZXF1aXJlZCIsImRlZmF1bHRQcm9wcyIsIl9nZXRfXzUiLCJlbCIsImRvY3VtZW50IiwiYm9keSIsImFwcGVuZENoaWxkIiwicmVuZGVyUmVkQm94RXJyb3IiLCJ1bm1vdW50Q29tcG9uZW50QXROb2RlIiwicmVtb3ZlQ2hpbGQiLCJyZW5kZXIiLCJfUmV3aXJlQVBJX18iLCJhZGRQcm9wZXJ0eVRvQVBJT2JqZWN0IiwiX3R5cGVPZk9yaWdpbmFsRXhwb3J0IiwiaXNFeHRlbnNpYmxlIiwiNTgwIiwiX0RlZmF1bHRFeHBvcnRWYWx1ZSIsImJveFNpemluZyIsImZvbnRGYW1pbHkiLCJwb3NpdGlvbiIsInBhZGRpbmciLCJ0b3AiLCJib3R0b20iLCJiYWNrZ3JvdW5kIiwiY29sb3IiLCJ6SW5kZXgiLCJ0ZXh0QWxpZ24iLCJmb250U2l6ZSIsImxpbmVIZWlnaHQiLCJvdmVyZmxvdyIsImZvbnRXZWlnaHQiLCJtYXJnaW5Ub3AiLCJ0ZXh0RGVjb3JhdGlvbiIsIjU4MSIsIl9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXyIsIl9fV0VCUEFDS19BTURfREVGSU5FX0FSUkFZX18iLCJfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyIsInJvb3QiLCJmYWN0b3J5IiwiU3RhY2tGcmFtZSIsIl9tYXAiLCJhcnJheSIsImZuIiwidGhpc0FyZyIsIkFycmF5Iiwib3V0cHV0IiwiX2ZpbHRlciIsImZpbHRlciIsInB1c2giLCJfaW5kZXhPZiIsImluZGV4T2YiLCJGSVJFRk9YX1NBRkFSSV9TVEFDS19SRUdFWFAiLCJDSFJPTUVfSUVfU1RBQ0tfUkVHRVhQIiwiU0FGQVJJX05BVElWRV9DT0RFX1JFR0VYUCIsInN0YWNrdHJhY2UiLCJwYXJzZU9wZXJhIiwibWF0Y2giLCJwYXJzZVY4T3JJRSIsInBhcnNlRkZPclNhZmFyaSIsImV4dHJhY3RMb2NhdGlvbiIsInVybExpa2UiLCJyZWdFeHAiLCJwYXJ0cyIsImV4ZWMiLCJyZXBsYWNlIiwiZmlsdGVyZWQiLCJzcGxpdCIsImxpbmUiLCJ0b2tlbnMiLCJzbGljZSIsImxvY2F0aW9uUGFydHMiLCJwb3AiLCJqb2luIiwicGFyc2VPcGVyYTkiLCJwYXJzZU9wZXJhMTEiLCJwYXJzZU9wZXJhMTAiLCJsaW5lUkUiLCJsZW4iLCJhcmdzUmF3IiwiZnVuY3Rpb25DYWxsIiwic2hpZnQiLCJhcmdzIiwiNTgyIiwiX2lzTnVtYmVyIiwibiIsImlzTmFOIiwicGFyc2VGbG9hdCIsImlzRmluaXRlIiwic291cmNlIiwic2V0RnVuY3Rpb25OYW1lIiwic2V0QXJncyIsInNldEZpbGVOYW1lIiwic2V0TGluZU51bWJlciIsInNldENvbHVtbk51bWJlciIsInNldFNvdXJjZSIsImdldEZ1bmN0aW9uTmFtZSIsInYiLCJTdHJpbmciLCJnZXRBcmdzIiwidG9TdHJpbmciLCJnZXRGaWxlTmFtZSIsImdldExpbmVOdW1iZXIiLCJOdW1iZXIiLCJnZXRDb2x1bW5OdW1iZXIiLCJnZXRTb3VyY2UiLCI1ODMiLCJmaWxlbmFtZVdpdGhvdXRMb2FkZXJzIiwiZmlsZW5hbWVIYXNTY2hlbWEiLCJsYXN0SW5kZXhPZiIsInN1YnN0ciIsImZpbGVuYW1lSGFzTG9hZGVycyIsImFjdHVhbEZpbGVuYW1lIiwidGVzdCIsInNjaGVtZSIsImNvbHVtbiIsIjU4NCIsImNhdGNoRXJyb3JzIiwiX3JlZiIsIl9pbXBvcnRzIiwiX3NsaWNlZFRvQXJyYXkiLCJSZWFjdCIsIkVycm9yUmVwb3J0ZXIiLCJyZXBvcnRlck9wdGlvbnMiLCJSZWFjdENsYXNzIiwiY29tcG9uZW50SWQiLCJvcmlnaW5hbFJlbmRlciIsImVyciIsInNldFRpbWVvdXQiLCJjb25zb2xlIiwicmVwb3J0RXJyb3JzQXNFeGNlcHRpb25zIiwicHJldlJlcG9ydEVycm9yQXNFeGNlcHRpb25zIiwiX2V4dGVuZHMiLCJhc3NpZ24iLCJoYXNPd25Qcm9wZXJ0eSIsInNsaWNlSXRlcmF0b3IiLCJhcnIiLCJfYXJyIiwiX24iLCJfZCIsIl9lIiwiX3MiLCJfaSIsIm5leHQiLCJkb25lIiwiaXNBcnJheSIsIjU4NSIsInByb3h5UmVhY3RDb21wb25lbnRzIiwiX2xvY2FscyIsImhvdCIsImFjY2VwdCIsInNvbWUiLCJpc0luRnVuY3Rpb24iLCJ3YXJuIiwiZm9yY2VVcGRhdGUiLCJfcmVhY3RQcm94eSIsImdldEZvcmNlVXBkYXRlIiwidW5pcXVlSWQiLCJfY29tcG9uZW50cyR1bmlxdWVJZCIsIl9jb21wb25lbnRzJHVuaXF1ZUlkJGlzSW5GdW5jdGlvbiIsIl9jb21wb25lbnRzJHVuaXF1ZUlkJGRpc3BsYXlOYW1lIiwiZ2xvYmFsVW5pcXVlSWQiLCJjb21wb25lbnRQcm94aWVzIiwiaW5mbyIsImluc3RhbmNlcyIsInVwZGF0ZSIsImNyZWF0ZVByb3h5IiwiZ2V0IiwiX2dsb2JhbFdpbmRvdyIsIl9nbG9iYWxXaW5kb3cyIiwiX19yZWFjdENvbXBvbmVudFByb3hpZXMiLCI1ODYiLCJfc3VwcG9ydHNQcm90b0Fzc2lnbm1lbnQiLCJfc3VwcG9ydHNQcm90b0Fzc2lnbm1lbnQyIiwiX2NyZWF0ZUNsYXNzUHJveHkiLCJfY3JlYXRlQ2xhc3NQcm94eTIiLCJfcmVhY3REZWVwRm9yY2VVcGRhdGUiLCJfcmVhY3REZWVwRm9yY2VVcGRhdGUyIiwiNTg3Iiwic3VwcG9ydHNQcm90b0Fzc2lnbm1lbnQiLCJ4Iiwic3VwcG9ydHMiLCJ5IiwiNTg4IiwiX3RvQ29uc3VtYWJsZUFycmF5IiwiYXJyMiIsImZyb20iLCJpc0VxdWFsRGVzY3JpcHRvciIsImEiLCJiIiwiZmluZFByb3h5IiwicGFpciIsIl9maW5kMiIsImFsbFByb3hpZXMiLCJfcmVmMiIsImFkZFByb3h5IiwicHJveHkiLCJwcm94eUNsYXNzIiwiSW5pdGlhbENvbXBvbmVudCIsIndhc1N0YXRpY01vZGlmaWVkQnlVc2VyIiwiY3VycmVudERlc2NyaXB0b3IiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJQcm94eUNvbXBvbmVudCIsInN0YXRpY0Rlc2NyaXB0b3JzIiwiaW5zdGFudGlhdGUiLCJjb250ZXh0IiwicGFyYW1zIiwiY29tcG9uZW50IiwiRnVuY3Rpb24iLCJjb25jYXQiLCJSRVNFUlZFRF9TVEFUSUNTIiwiTmV4dENvbXBvbmVudCIsImV4aXN0aW5nUHJveHkiLCJfX2dldEN1cnJlbnQiLCJDdXJyZW50Q29tcG9uZW50IiwibW91bnRlZEluc3RhbmNlcyIsInByb3RvdHlwZVByb3h5IiwiZ2V0T3duUHJvcGVydHlOYW1lcyIsInN0YXRpY0Rlc2NyaXB0b3IiLCJfYmluZEF1dG9CaW5kTWV0aG9kczIiLCJfZGVsZXRlVW5rbm93bkF1dG9CaW5kTWV0aG9kczIiLCJnZXRDdXJyZW50IiwiX2NyZWF0ZVByb3RvdHlwZVByb3h5MiIsImNyZWF0ZUZhbGxiYWNrIiwiY3JlYXRlQ2xhc3NQcm94eSIsIl9maW5kIiwiX2NyZWF0ZVByb3RvdHlwZVByb3h5IiwiX2JpbmRBdXRvQmluZE1ldGhvZHMiLCJfZGVsZXRlVW5rbm93bkF1dG9CaW5kTWV0aG9kcyIsIjU4OSIsImNyZWF0ZUZpbmQiLCJmaW5kSW5kZXgiLCJmaW5kIiwiNTkwIiwiZmluZEluZGV4RnVuYyIsImNvbGxlY3Rpb24iLCJwcmVkaWNhdGUiLCJmcm9tSW5kZXgiLCJpdGVyYWJsZSIsImlzQXJyYXlMaWtlIiwiaXRlcmF0ZWUiLCJiYXNlSXRlcmF0ZWUiLCI2OTciLCJ0b0ludGVnZXIiLCJuYXRpdmVNYXgiLCJiYXNlRmluZEluZGV4IiwiTWF0aCIsIjY5OSIsInRvRmluaXRlIiwicmVtYWluZGVyIiwiNzAwIiwidG9OdW1iZXIiLCJJTkZJTklUWSIsInNpZ24iLCJNQVhfSU5URUdFUiIsIjcwMSIsImlzU3ltYm9sIiwiTkFOIiwiaXNPYmplY3QiLCJvdGhlciIsInZhbHVlT2YiLCJyZVRyaW0iLCJpc0JpbmFyeSIsInJlSXNCaW5hcnkiLCJyZUlzT2N0YWwiLCJmcmVlUGFyc2VJbnQiLCJyZUlzQmFkSGV4IiwicGFyc2VJbnQiLCI3MDIiLCJjcmVhdGVQcm90b3R5cGVQcm94eSIsInByb3h5VG9TdHJpbmciLCJjdXJyZW50IiwicHJveHlNZXRob2QiLCJwcm94aWVkTWV0aG9kIiwiX2Fzc2lnbjIiLCJwcm94aWVkQ29tcG9uZW50RGlkTW91bnQiLCJjb21wb25lbnREaWRNb3VudCIsInByb3hpZWRDb21wb25lbnRXaWxsVW5tb3VudCIsInNwbGljZSIsImNvbXBvbmVudFdpbGxVbm1vdW50IiwiZGVmaW5lUHJveHlQcm9wZXJ0eSIsImRlZmluZVByb3h5UHJvcGVydHlXaXRoVmFsdWUiLCJfcmVmJGVudW1lcmFibGUiLCJfcmVmJHdyaXRhYmxlIiwiY3JlYXRlQXV0b0JpbmRNYXAiLCJfX3JlYWN0QXV0b0JpbmRNYXAiLCJjcmVhdGVBdXRvQmluZFBhaXJzIiwiX19yZWFjdEF1dG9CaW5kUGFpcnMiLCJtZXRob2QiLCJjdXJyZW50TmFtZXMiLCJwcmV2aW91c05hbWUiLCJyZW1vdmVkTmFtZXMiLCJfZGlmZmVyZW5jZTIiLCJfYXNzaWduIiwiX2RpZmZlcmVuY2UiLCI3MDMiLCJhc3NpZ25WYWx1ZSIsImNvcHlPYmplY3QiLCJjcmVhdGVBc3NpZ25lciIsImlzUHJvdG90eXBlIiwib2JqZWN0UHJvdG8iLCI3MDQiLCJvYmpWYWx1ZSIsImVxIiwiYmFzZUFzc2lnblZhbHVlIiwiNzA3IiwiY3VzdG9taXplciIsImlzTmV3IiwibmV3VmFsdWUiLCI3MDgiLCJhc3NpZ25lciIsImJhc2VSZXN0Iiwic291cmNlcyIsImd1YXJkIiwiaXNJdGVyYXRlZUNhbGwiLCI3MTYiLCJpc0luZGV4IiwiNzI3IiwiYmluZEF1dG9CaW5kTWV0aG9kIiwiYm91bmRNZXRob2QiLCJfX3JlYWN0Qm91bmRDb250ZXh0IiwiX19yZWFjdEJvdW5kTWV0aG9kIiwiX19yZWFjdEJvdW5kQXJndW1lbnRzIiwiY29tcG9uZW50TmFtZSIsIl9iaW5kIiwibmV3VGhpcyIsInJlYm91bmRNZXRob2QiLCJiaW5kQXV0b0JpbmRNZXRob2RzRnJvbU1hcCIsImF1dG9CaW5kS2V5IiwiYmluZEF1dG9CaW5kTWV0aG9kcyIsImJpbmRBdXRvQmluZE1ldGhvZHNGcm9tQXJyYXkiLCJwYWlycyIsIjcyOCIsInNob3VsZERlbGV0ZUNsYXNzaWNJbnN0YW5jZU1ldGhvZCIsInNob3VsZERlbGV0ZU1vZGVybkluc3RhbmNlTWV0aG9kIiwicHJvdG90eXBlRGVzY3JpcHRvciIsInNob3VsZERlbGV0ZUluc3RhbmNlTWV0aG9kIiwiZGVsZXRlVW5rbm93bkF1dG9CaW5kTWV0aG9kcyIsIm5hbWVzIiwiNzI5IiwidHJhdmVyc2VSZW5kZXJlZENoaWxkcmVuIiwiaW50ZXJuYWxJbnN0YW5jZSIsImFyZ3VtZW50IiwiX3JlbmRlcmVkQ29tcG9uZW50IiwiX3JlbmRlcmVkQ2hpbGRyZW4iLCJzZXRQZW5kaW5nRm9yY2VVcGRhdGUiLCJfcGVuZGluZ0ZvcmNlVXBkYXRlIiwiZm9yY2VVcGRhdGVJZlBlbmRpbmciLCJwdWJsaWNJbnN0YW5jZSIsIl9pbnN0YW5jZSIsIl9yZWFjdEludGVybmFsSW5zdGFuY2UiLCI3MzAiLCJnbG9iYWwiLCJ3aW5kb3ciLCI3MzIiLCJfcmVhY3RSb3V0ZXJSZWR1eCIsIl9JY29uIiwiX0ljb24yIiwiSGVhZGVyIiwiZXZlbnQiLCJoaXN0b3J5IiwiZGlzcGF0Y2giLCJnbyIsImljb25TaXplIiwib25DbGljayIsImdvdG8iLCI3MzMiLCJJY29uIiwic3JjIiwiYWx0IiwiY2hpbGRyZW4iLCJhbnkiLCI3MzQiLCJjb250ZW50IiwibmV3Q29udGVudCIsImRpc3Bvc2UiLCI3MzUiLCI3MzYiLCI3MzciLCI3MzgiLCJfY2xhc3NuYW1lcyIsIl9jbGFzc25hbWVzMiIsIkNvbnRlbnQiLCI3MzkiLCJjbGFzc05hbWVzIiwiY2xhc3NlcyIsImFyZyIsImFyZ1R5cGUiLCJoYXNPd24iLCI3NDAiLCI3NDEiLCI3NDIiLCJfTGlzdCIsIl9MaXN0MiIsIl9JdGVtIiwiX0l0ZW0yIiwiTGlzdEJsb2NrIiwiNzQzIiwiY24iLCI3NDQiLCJtZWRpYSIsIjc0NSIsIjc0NiIsIjc0NyIsIl9mIiwiX2YyIiwiJCIsIiRwYWdlcyIsInJlbW92ZUNsYXNzIiwiNzQ4IiwiVGFiIiwic3RhdGUiLCJzZXRTdGF0ZSIsInRhYiIsInNlbGVjdGVkIiwiZGlzYWJsZWQiLCJwb3JwVHlwZXMiLCI3NDkiLCI3NTAiLCI3NTEiLCJDb3VudFBhZ2UiLCJhZGRQYWdlIiwibWludXNQYWdlIiwibmV4dFByb3MiLCJtaW4iLCI3NTIiLCI3NTMiLCI3NTQiLCJfY3V0V29yZHMiLCJfY3V0V29yZHMyIiwiX1NlYXJjaFBsYWNlaG9sZGVyIiwiX1NlYXJjaFBsYWNlaG9sZGVyMiIsIl9Mb2FkaW5nIiwiX0xvYWRpbmcyIiwiUmVwb3NpdG9yaWVzIiwicmVwIiwiNzU1Iiwic3Vic3RyaW5nIiwiNzU2IiwiU2VhcmNoUGxhY2Vob2xkZXIiLCI3NTciLCI3NTgiLCI3NTkiLCJMb2FkaW5nIiwiNzYwIiwiNzYxIiwiNzYyIiwiSXNzdWVzIiwiaXNzdWUiLCI3NjMiLCJVc2VycyIsInVzZXIiLCI3NjQiLCI3NjUiXSwibWFwcGluZ3MiOiJBQUFBQSxjQUFjLElBRVJDLElBQ0EsU0FBU0MsRUFBUUMsRUFBU0MsR0FFL0IsWUFjQSxTQUFTQyxHQUF1QkMsR0FBTyxNQUFPQSxJQUFPQSxFQUFJQyxXQUFhRCxHQUFRRSxRQUFTRixHQVp2RkcsT0FBT0MsZUFBZVAsRUFBUyxjQUMzQlEsT0FBTyxHQ1JaLElBQUFDLEdBQUFSLEVBQUEsS0FDQVMsRUFBQVQsRUFBQSxLRGNLVSxFQUFjVCxFQUF1QlEsR0NiMUNFLEVBQUFYLEVBQUEsS0FFTVksR0FBWSxF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QTRrQixTQUFBOWtCLEVBQUF1QyxHQUFBdWlCLEVBQUEsS0FFQSxJQUFBaE4sR0FBQTVYLEVBQUEsS0FBQTRrQixLQUNBQSxHQUFBeGYsU0FBQXRGLEVBQUFDLFFBQUE2a0IsRUFBQXhmLFFBSUF3ZixFQUFBeGYsUUFDQXRGLEVBQUE4VyxJQUFBQyxPQUFBLGVBQ0EsR0FBQWdPLEdBQUE3a0IsRUFBQSxJQUNBLGlCQUFBNmtCLFNBQUEva0IsRUFBQXVDLEdBQUF3aUIsRUFBQSxNQUNBak4sRUFBQWlOLEtBSUEva0IsRUFBQThXLElBQUFrTyxRQUFBLFdBQWdDbE4sTzdEK25JMUJnUyxJQUNBLFNBQVM5cEIsRUFBUUMsRUFBU0MsRzhEbnBJaENELEVBQUFELEVBQUFDLFFBQUFDLEVBQUEsT0FLQUQsRUFBQXlRLE1BQUExUSxFQUFBdUMsR0FBQSx3OURBQSsrRCIsImZpbGUiOiJzZWFyY2guOGY3MmYuY2h1bmsuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ3ZWJwYWNrSnNvbnAoWzFdLHtcblxuLyoqKi8gNTc3OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfcmVhY3RSZWR1eCA9IF9fd2VicGFja19yZXF1aXJlX18oNDcxKTtcblx0XG5cdHZhciBfY29tcG9uZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1NzgpO1xuXHRcblx0dmFyIF9jb21wb25lbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY29tcG9uZW50KTtcblx0XG5cdHZhciBfc2VsZWN0b3JzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3NjYpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdHZhciBjb250YWluZXIgPSAoMCwgX3JlYWN0UmVkdXguY29ubmVjdCkoX3NlbGVjdG9ycy5tYXBTdGF0ZVRvUHJvcHMsIF9zZWxlY3RvcnMubWFwRGlzcGF0Y2hUb1Byb3BzKShfY29tcG9uZW50Mi5kZWZhdWx0KTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IGNvbnRhaW5lcjtcblxuLyoqKi8gfSxcblxuLyoqKi8gNTc4OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKG1vZHVsZSkgeyd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2luZGV4ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1NzkpO1xuXHRcblx0dmFyIF9pbmRleDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmRleCk7XG5cdFxuXHR2YXIgX2luZGV4MyA9IF9fd2VicGFja19yZXF1aXJlX18oNTg0KTtcblx0XG5cdHZhciBfaW5kZXg0ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5kZXgzKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMDApO1xuXHRcblx0dmFyIF9yZWFjdDMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdDIpO1xuXHRcblx0dmFyIF9pbmRleDUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU4NSk7XG5cdFxuXHR2YXIgX2luZGV4NiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luZGV4NSk7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXHRcblx0dmFyIF9pbW11dGFibGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDczMSk7XG5cdFxuXHR2YXIgX2ltbXV0YWJsZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbW11dGFibGUpO1xuXHRcblx0dmFyIF9IZWFkZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDczMik7XG5cdFxuXHR2YXIgX0hlYWRlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9IZWFkZXIpO1xuXHRcblx0dmFyIF9Db250ZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MzgpO1xuXHRcblx0dmFyIF9Db250ZW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NvbnRlbnQpO1xuXHRcblx0dmFyIF9MaXN0QmxvY2sgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDc0Mik7XG5cdFxuXHR2YXIgX0xpc3RCbG9jazIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9MaXN0QmxvY2spO1xuXHRcblx0dmFyIF9jbGVhclRvb2xiYXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDc0Nyk7XG5cdFxuXHR2YXIgX2NsZWFyVG9vbGJhcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGVhclRvb2xiYXIpO1xuXHRcblx0dmFyIF9UYWIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDc0OCk7XG5cdFxuXHR2YXIgX1RhYjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UYWIpO1xuXHRcblx0dmFyIF9Db3VudFBhZ2UgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDc1MSk7XG5cdFxuXHR2YXIgX0NvdW50UGFnZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Db3VudFBhZ2UpO1xuXHRcblx0dmFyIF9SZXBvc2l0b3JpZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDc1NCk7XG5cdFxuXHR2YXIgX1JlcG9zaXRvcmllczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9SZXBvc2l0b3JpZXMpO1xuXHRcblx0dmFyIF9Jc3N1ZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDc2Mik7XG5cdFxuXHR2YXIgX0lzc3VlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Jc3N1ZXMpO1xuXHRcblx0dmFyIF9Vc2VycyA9IF9fd2VicGFja19yZXF1aXJlX18oNzYzKTtcblx0XG5cdHZhciBfVXNlcnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVXNlcnMpO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXyg3NjQpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cdFxuXHRmdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblx0XG5cdGZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXHRcblx0dmFyIF9jb21wb25lbnRzID0ge1xuXHQgICAgU2VhcmNoOiB7XG5cdCAgICAgICAgZGlzcGxheU5hbWU6ICdTZWFyY2gnXG5cdCAgICB9XG5cdH07XG5cdFxuXHR2YXIgX1VzZXJzRnVoYW9Xb3Jrc3BhY2VGdWhhb1JlYWN0UmVkdXhHaXRodWJOb2RlX21vZHVsZXNSZWFjdFRyYW5zZm9ybUhtckxpYkluZGV4SnMyID0gKDAsIF9pbmRleDYuZGVmYXVsdCkoe1xuXHQgICAgZmlsZW5hbWU6ICcvVXNlcnMvZnVoYW8vV29ya3NwYWNlL2Z1aGFvL3JlYWN0LXJlZHV4LWdpdGh1Yi9zcmMvU2VhcmNoL2NvbXBvbmVudC5qc3gnLFxuXHQgICAgY29tcG9uZW50czogX2NvbXBvbmVudHMsXG5cdCAgICBsb2NhbHM6IFttb2R1bGVdLFxuXHQgICAgaW1wb3J0czogW19yZWFjdDMuZGVmYXVsdF1cblx0fSk7XG5cdFxuXHR2YXIgX1VzZXJzRnVoYW9Xb3Jrc3BhY2VGdWhhb1JlYWN0UmVkdXhHaXRodWJOb2RlX21vZHVsZXNSZWFjdFRyYW5zZm9ybUNhdGNoRXJyb3JzTGliSW5kZXhKczIgPSAoMCwgX2luZGV4NC5kZWZhdWx0KSh7XG5cdCAgICBmaWxlbmFtZTogJy9Vc2Vycy9mdWhhby9Xb3Jrc3BhY2UvZnVoYW8vcmVhY3QtcmVkdXgtZ2l0aHViL3NyYy9TZWFyY2gvY29tcG9uZW50LmpzeCcsXG5cdCAgICBjb21wb25lbnRzOiBfY29tcG9uZW50cyxcblx0ICAgIGxvY2FsczogW10sXG5cdCAgICBpbXBvcnRzOiBbX3JlYWN0My5kZWZhdWx0LCBfaW5kZXgyLmRlZmF1bHRdXG5cdH0pO1xuXHRcblx0ZnVuY3Rpb24gX3dyYXBDb21wb25lbnQoaWQpIHtcblx0ICAgIHJldHVybiBmdW5jdGlvbiAoQ29tcG9uZW50KSB7XG5cdCAgICAgICAgcmV0dXJuIF9Vc2Vyc0Z1aGFvV29ya3NwYWNlRnVoYW9SZWFjdFJlZHV4R2l0aHViTm9kZV9tb2R1bGVzUmVhY3RUcmFuc2Zvcm1IbXJMaWJJbmRleEpzMihfVXNlcnNGdWhhb1dvcmtzcGFjZUZ1aGFvUmVhY3RSZWR1eEdpdGh1Yk5vZGVfbW9kdWxlc1JlYWN0VHJhbnNmb3JtQ2F0Y2hFcnJvcnNMaWJJbmRleEpzMihDb21wb25lbnQsIGlkKSwgaWQpO1xuXHQgICAgfTtcblx0fVxuXHRcblx0dmFyIExpc3QgPSBfTGlzdEJsb2NrMi5kZWZhdWx0Lkxpc3QsXG5cdCAgICBJdGVtID0gX0xpc3RCbG9jazIuZGVmYXVsdC5JdGVtO1xuXHRcblx0XG5cdHZhciB0YWJzID0gW3tcblx0ICAgIGFjdGl2ZU5hbWU6ICdyZXBvc2l0b3JpZXMnLFxuXHQgICAgdGl0bGU6ICdSZXBvc2l0b3JpZXMnXG5cdH0sIHtcblx0ICAgIGFjdGl2ZU5hbWU6ICdpc3N1ZXMnLFxuXHQgICAgdGl0bGU6ICdJc3N1ZXMnXG5cdH0sIHtcblx0ICAgIGFjdGl2ZU5hbWU6ICd1c2VycycsXG5cdCAgICB0aXRsZTogJ1VzZXJzJ1xuXHR9XTtcblx0XG5cdHZhciBTZWFyY2ggPSBfd3JhcENvbXBvbmVudCgnU2VhcmNoJykoZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcblx0ICAgIF9pbmhlcml0cyhTZWFyY2gsIF9SZWFjdCRDb21wb25lbnQpO1xuXHRcblx0ICAgIGZ1bmN0aW9uIFNlYXJjaChwcm9wcykge1xuXHQgICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTZWFyY2gpO1xuXHRcblx0ICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoU2VhcmNoLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoU2VhcmNoKSkuY2FsbCh0aGlzLCBwcm9wcykpO1xuXHRcblx0ICAgICAgICBfdGhpcy5rZXlVcEhhbmRsZXIgPSBfdGhpcy5rZXlVcEhhbmRsZXIuYmluZChfdGhpcyk7XG5cdCAgICAgICAgcmV0dXJuIF90aGlzO1xuXHQgICAgfVxuXHRcblx0ICAgIF9jcmVhdGVDbGFzcyhTZWFyY2gsIFt7XG5cdCAgICAgICAga2V5OiAnY29tcG9uZW50RGlkTW91bnQnLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcblx0ICAgICAgICAgICAgKDAsIF9jbGVhclRvb2xiYXIyLmRlZmF1bHQpKCk7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogJ2tleVVwSGFuZGxlcicsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGtleVVwSGFuZGxlcihlKSB7XG5cdFxuXHQgICAgICAgICAgICBpZiAoZS5rZXlDb2RlID09PSAxMykge1xuXHRcblx0ICAgICAgICAgICAgICAgIHZhciBhY3RpdmVOYW1lID0gdGhpcy5wcm9wcy5hY3RpdmVOYW1lID8gdGhpcy5wcm9wcy5hY3RpdmVOYW1lIDogdGFic1syXS5hY3RpdmVOYW1lO1xuXHRcblx0ICAgICAgICAgICAgICAgIHRoaXMucHJvcHMuY2hhbmdlQWN0aXZlTmFtZShhY3RpdmVOYW1lKTtcblx0ICAgICAgICAgICAgICAgIHRoaXMucHJvcHMuZ2V0SXRlbXMoZS50YXJnZXQudmFsdWUsIGFjdGl2ZU5hbWUpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogJ2NoYW5nZVRhYkhhbmRsZXInLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjaGFuZ2VUYWJIYW5kbGVyKGFjdGl2ZU5hbWUpIHtcblx0ICAgICAgICAgICAgdGhpcy5wcm9wcy5jaGFuZ2VBY3RpdmVOYW1lKGFjdGl2ZU5hbWUpO1xuXHQgICAgICAgICAgICB0aGlzLnByb3BzLmdldEl0ZW1zKHRoaXMucmVmcy5zZWFyY2gudmFsdWUsIGFjdGl2ZU5hbWUpO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICdjaGFuZ2VQYWdlSGFuZGxlcicsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNoYW5nZVBhZ2VIYW5kbGVyKHBhZ2UpIHtcblx0ICAgICAgICAgICAgdGhpcy5wcm9wcy5nZXRJdGVtcyh0aGlzLnJlZnMuc2VhcmNoLnZhbHVlLCB0aGlzLnByb3BzLmFjdGl2ZU5hbWUsIHBhZ2UpO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICdyZW5kZXInLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICAgICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXHRcblx0ICAgICAgICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG5cdCAgICAgICAgICAgICAgICBpdGVtcyA9IF9wcm9wcy5pdGVtcyxcblx0ICAgICAgICAgICAgICAgIGFjdGl2ZU5hbWUgPSBfcHJvcHMuYWN0aXZlTmFtZSxcblx0ICAgICAgICAgICAgICAgIHRvdGFsUGFnZXMgPSBfcHJvcHMudG90YWxQYWdlcyxcblx0ICAgICAgICAgICAgICAgIHJlc2V0UGFnZSA9IF9wcm9wcy5yZXNldFBhZ2UsXG5cdCAgICAgICAgICAgICAgICBnb3RvVXNlciA9IF9wcm9wcy5nb3RvVXNlcixcblx0ICAgICAgICAgICAgICAgIGlzRmV0Y2hpbmcgPSBfcHJvcHMuaXNGZXRjaGluZztcblx0XG5cdFxuXHQgICAgICAgICAgICByZXR1cm4gX3JlYWN0My5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAnc2VhcmNoJyB9LFxuXHQgICAgICAgICAgICAgICAgX3JlYWN0My5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0hlYWRlcjIuZGVmYXVsdCwge1xuXHQgICAgICAgICAgICAgICAgICAgIGxlZnQ6IHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogJ2FsaWduJyxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZToge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDIwLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAyMFxuXHQgICAgICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICAgICAgfSxcblx0ICAgICAgICAgICAgICAgICAgICBjZW50ZXI6IHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogJ2dpdGh1Yidcblx0ICAgICAgICAgICAgICAgICAgICB9LFxuXHQgICAgICAgICAgICAgICAgICAgIHJpZ2h0OiB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGljb246ICdiZWxsJyxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZToge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDI0LFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAyNFxuXHQgICAgICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICAgICAgfSB9KSxcblx0ICAgICAgICAgICAgICAgIF9yZWFjdDMuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICAgICAgIF9Db250ZW50Mi5kZWZhdWx0LFxuXHQgICAgICAgICAgICAgICAgICAgIG51bGwsXG5cdCAgICAgICAgICAgICAgICAgICAgX3JlYWN0My5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIExpc3QsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIG51bGwsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDMuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgSXRlbSxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAnc2VhcmNoLWlucHV0JyB9LFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0My5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdpdGVtLWlubmVyJyB9LFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDMuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdpdGVtLWlucHV0JyB9LFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QzLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgnaW5wdXQnLCB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAndGV4dCcsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWY6ICdzZWFyY2gnLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25LZXlVcDogdGhpcy5rZXlVcEhhbmRsZXIgfSlcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIClcblx0ICAgICAgICAgICAgICAgICAgICApLFxuXHQgICAgICAgICAgICAgICAgICAgIF9yZWFjdDMuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9UYWIyLmRlZmF1bHQsIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdGFiczogdGFicyxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgYWN0aXZlTmFtZTogdGFic1syXS5hY3RpdmVOYW1lLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UoX2FjdGl2ZU5hbWUpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIuY2hhbmdlVGFiSGFuZGxlcihfYWN0aXZlTmFtZSk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH0gfSksXG5cdCAgICAgICAgICAgICAgICAgICAgYWN0aXZlTmFtZSA9PT0gdGFic1swXS5hY3RpdmVOYW1lICYmIF9yZWFjdDMuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9SZXBvc2l0b3JpZXMyLmRlZmF1bHQsIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgaXRlbXM6IGl0ZW1zLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBpc0ZldGNoaW5nOiBpc0ZldGNoaW5nIH0pLFxuXHQgICAgICAgICAgICAgICAgICAgIGFjdGl2ZU5hbWUgPT09IHRhYnNbMV0uYWN0aXZlTmFtZSAmJiBfcmVhY3QzLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfSXNzdWVzMi5kZWZhdWx0LCB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1zOiBpdGVtcyxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgaXNGZXRjaGluZzogaXNGZXRjaGluZyB9KSxcblx0ICAgICAgICAgICAgICAgICAgICBhY3RpdmVOYW1lID09PSB0YWJzWzJdLmFjdGl2ZU5hbWUgJiYgX3JlYWN0My5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX1VzZXJzMi5kZWZhdWx0LCB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1zOiBpdGVtcyxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgZ290b1VzZXI6IGdvdG9Vc2VyLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBpc0ZldGNoaW5nOiBpc0ZldGNoaW5nIH0pLFxuXHQgICAgICAgICAgICAgICAgICAgIGl0ZW1zICYmIGl0ZW1zLnNpemUgPiAwICYmIF9yZWFjdDMuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9Db3VudFBhZ2UyLmRlZmF1bHQsIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgbWF4OiB0b3RhbFBhZ2VzLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICByZXNldDogcmVzZXRQYWdlLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UoX3BhZ2UpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIuY2hhbmdlUGFnZUhhbmRsZXIoX3BhZ2UpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB9IH0pXG5cdCAgICAgICAgICAgICAgICApXG5cdCAgICAgICAgICAgICk7XG5cdCAgICAgICAgfVxuXHQgICAgfV0pO1xuXHRcblx0ICAgIHJldHVybiBTZWFyY2g7XG5cdH0oX3JlYWN0My5kZWZhdWx0LkNvbXBvbmVudCkpO1xuXHRcblx0U2VhcmNoLnByb3BUeXBlcyA9IHtcblx0ICAgIGl0ZW06IF9yZWFjdDMuZGVmYXVsdC5Qcm9wVHlwZXMuaW5zdGFuY2VPZihfaW1tdXRhYmxlMi5kZWZhdWx0Lkxpc3QpLFxuXHQgICAgYWN0aXZlTmFtZTogX3JlYWN0My5kZWZhdWx0LlByb3BUeXBlcy5zdHJpbmcsXG5cdCAgICB0b3RhbFBhZ2VzOiBfcmVhY3QzLmRlZmF1bHQuUHJvcFR5cGVzLm51bWJlcixcblx0ICAgIHJlc2V0UGFnZTogX3JlYWN0My5kZWZhdWx0LlByb3BUeXBlcy5ib29sXG5cdH07XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBTZWFyY2g7XG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbChleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ5NikobW9kdWxlKSkpXG5cbi8qKiovIH0sXG5cbi8qKiovIDU3OTpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzLl9fUmV3aXJlQVBJX18gPSBleHBvcnRzLl9fUmVzZXREZXBlbmRlbmN5X18gPSBleHBvcnRzLl9fc2V0X18gPSBleHBvcnRzLl9fUmV3aXJlX18gPSBleHBvcnRzLl9fR2V0RGVwZW5kZW5jeV9fID0gZXhwb3J0cy5fX2dldF9fID0gZXhwb3J0cy5SZWRCb3hFcnJvciA9IHVuZGVmaW5lZDtcblx0XG5cdHZhciBfdHlwZW9mID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9IDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMDApO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX3JlYWN0RG9tID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMjcpO1xuXHRcblx0dmFyIF9yZWFjdERvbTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdERvbSk7XG5cdFxuXHR2YXIgX3N0eWxlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1ODApO1xuXHRcblx0dmFyIF9zdHlsZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zdHlsZSk7XG5cdFxuXHR2YXIgX2Vycm9yU3RhY2tQYXJzZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU4MSk7XG5cdFxuXHR2YXIgX2Vycm9yU3RhY2tQYXJzZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXJyb3JTdGFja1BhcnNlcik7XG5cdFxuXHR2YXIgX29iamVjdEFzc2lnbiA9IF9fd2VicGFja19yZXF1aXJlX18oMzAyKTtcblx0XG5cdHZhciBfb2JqZWN0QXNzaWduMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX29iamVjdEFzc2lnbik7XG5cdFxuXHR2YXIgX2xpYiA9IF9fd2VicGFja19yZXF1aXJlX18oNTgzKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXHRcblx0ZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cdFxuXHRmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblx0XG5cdHZhciBSZWRCb3hFcnJvciA9IGV4cG9ydHMuUmVkQm94RXJyb3IgPSBmdW5jdGlvbiAoX2dldF9fMikge1xuXHQgIF9pbmhlcml0cyhSZWRCb3hFcnJvciwgX2dldF9fMik7XG5cdFxuXHQgIGZ1bmN0aW9uIFJlZEJveEVycm9yKCkge1xuXHQgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFJlZEJveEVycm9yKTtcblx0XG5cdCAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFJlZEJveEVycm9yLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoUmVkQm94RXJyb3IpKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcblx0ICB9XG5cdFxuXHQgIF9jcmVhdGVDbGFzcyhSZWRCb3hFcnJvciwgW3tcblx0ICAgIGtleTogJ3JlbmRlckZyYW1lcycsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyRnJhbWVzKGZyYW1lcykge1xuXHQgICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcblx0ICAgICAgICAgIGZpbGVuYW1lID0gX3Byb3BzLmZpbGVuYW1lLFxuXHQgICAgICAgICAgZWRpdG9yU2NoZW1lID0gX3Byb3BzLmVkaXRvclNjaGVtZSxcblx0ICAgICAgICAgIHVzZUxpbmVzID0gX3Byb3BzLnVzZUxpbmVzLFxuXHQgICAgICAgICAgdXNlQ29sdW1ucyA9IF9wcm9wcy51c2VDb2x1bW5zO1xuXHRcblx0ICAgICAgdmFyIF9nZXRfXzMgPSBfZ2V0X18oJ2Fzc2lnbicpKHt9LCBfZ2V0X18oJ3N0eWxlJyksIHRoaXMucHJvcHMuc3R5bGUpLFxuXHQgICAgICAgICAgZnJhbWUgPSBfZ2V0X18zLmZyYW1lLFxuXHQgICAgICAgICAgZmlsZSA9IF9nZXRfXzMuZmlsZSxcblx0ICAgICAgICAgIGxpbmtUb0ZpbGUgPSBfZ2V0X18zLmxpbmtUb0ZpbGU7XG5cdFxuXHQgICAgICByZXR1cm4gZnJhbWVzLm1hcChmdW5jdGlvbiAoZiwgaW5kZXgpIHtcblx0ICAgICAgICB2YXIgdGV4dCA9IHZvaWQgMDtcblx0ICAgICAgICB2YXIgdXJsID0gdm9pZCAwO1xuXHRcblx0ICAgICAgICBpZiAoaW5kZXggPT09IDAgJiYgZmlsZW5hbWUgJiYgIV9nZXRfXygnaXNGaWxlbmFtZUFic29sdXRlJykoZi5maWxlTmFtZSkpIHtcblx0ICAgICAgICAgIHVybCA9IF9nZXRfXygnbWFrZVVybCcpKGZpbGVuYW1lLCBlZGl0b3JTY2hlbWUpO1xuXHQgICAgICAgICAgdGV4dCA9IF9nZXRfXygnbWFrZUxpbmtUZXh0JykoZmlsZW5hbWUpO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICB2YXIgbGluZXMgPSB1c2VMaW5lcyA/IGYubGluZU51bWJlciA6IG51bGw7XG5cdCAgICAgICAgICB2YXIgY29sdW1ucyA9IHVzZUNvbHVtbnMgPyBmLmNvbHVtbk51bWJlciA6IG51bGw7XG5cdCAgICAgICAgICB1cmwgPSBfZ2V0X18oJ21ha2VVcmwnKShmLmZpbGVOYW1lLCBlZGl0b3JTY2hlbWUsIGxpbmVzLCBjb2x1bW5zKTtcblx0ICAgICAgICAgIHRleHQgPSBfZ2V0X18oJ21ha2VMaW5rVGV4dCcpKGYuZmlsZU5hbWUsIGxpbmVzLCBjb2x1bW5zKTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIHJldHVybiBfZ2V0X18oJ1JlYWN0JykuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICdkaXYnLFxuXHQgICAgICAgICAgeyBzdHlsZTogZnJhbWUsIGtleTogaW5kZXggfSxcblx0ICAgICAgICAgIF9nZXRfXygnUmVhY3QnKS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgICAgbnVsbCxcblx0ICAgICAgICAgICAgZi5mdW5jdGlvbk5hbWVcblx0ICAgICAgICAgICksXG5cdCAgICAgICAgICBfZ2V0X18oJ1JlYWN0JykuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICAgIHsgc3R5bGU6IGZpbGUgfSxcblx0ICAgICAgICAgICAgX2dldF9fKCdSZWFjdCcpLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgJ2EnLFxuXHQgICAgICAgICAgICAgIHsgaHJlZjogdXJsLCBzdHlsZTogbGlua1RvRmlsZSB9LFxuXHQgICAgICAgICAgICAgIHRleHRcblx0ICAgICAgICAgICAgKVxuXHQgICAgICAgICAgKVxuXHQgICAgICAgICk7XG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3JlbmRlcicsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgICB2YXIgX3Byb3BzMiA9IHRoaXMucHJvcHMsXG5cdCAgICAgICAgICBlcnJvciA9IF9wcm9wczIuZXJyb3IsXG5cdCAgICAgICAgICBjbGFzc05hbWUgPSBfcHJvcHMyLmNsYXNzTmFtZTtcblx0XG5cdCAgICAgIHZhciBfZ2V0X180ID0gX2dldF9fKCdhc3NpZ24nKSh7fSwgX2dldF9fKCdzdHlsZScpLCB0aGlzLnByb3BzLnN0eWxlKSxcblx0ICAgICAgICAgIHJlZGJveCA9IF9nZXRfXzQucmVkYm94LFxuXHQgICAgICAgICAgbWVzc2FnZSA9IF9nZXRfXzQubWVzc2FnZSxcblx0ICAgICAgICAgIHN0YWNrID0gX2dldF9fNC5zdGFjayxcblx0ICAgICAgICAgIGZyYW1lID0gX2dldF9fNC5mcmFtZTtcblx0XG5cdCAgICAgIHZhciBmcmFtZXMgPSB2b2lkIDA7XG5cdCAgICAgIHZhciBwYXJzZUVycm9yID0gdm9pZCAwO1xuXHQgICAgICB0cnkge1xuXHQgICAgICAgIGZyYW1lcyA9IF9nZXRfXygnRXJyb3JTdGFja1BhcnNlcicpLnBhcnNlKGVycm9yKTtcblx0ICAgICAgfSBjYXRjaCAoZSkge1xuXHQgICAgICAgIHBhcnNlRXJyb3IgPSBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBwYXJzZSBzdGFjayB0cmFjZS4gU3RhY2sgdHJhY2UgaW5mb3JtYXRpb24gdW5hdmFpbGFibGUuJyk7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIGlmIChwYXJzZUVycm9yKSB7XG5cdCAgICAgICAgZnJhbWVzID0gX2dldF9fKCdSZWFjdCcpLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgIHsgc3R5bGU6IGZyYW1lLCBrZXk6IDAgfSxcblx0ICAgICAgICAgIF9nZXRfXygnUmVhY3QnKS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgICAgbnVsbCxcblx0ICAgICAgICAgICAgcGFyc2VFcnJvci5tZXNzYWdlXG5cdCAgICAgICAgICApXG5cdCAgICAgICAgKTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICBmcmFtZXMgPSB0aGlzLnJlbmRlckZyYW1lcyhmcmFtZXMpO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICByZXR1cm4gX2dldF9fKCdSZWFjdCcpLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgeyBzdHlsZTogcmVkYm94LCBjbGFzc05hbWU6IGNsYXNzTmFtZSB9LFxuXHQgICAgICAgIF9nZXRfXygnUmVhY3QnKS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICB7IHN0eWxlOiBtZXNzYWdlIH0sXG5cdCAgICAgICAgICBlcnJvci5uYW1lLFxuXHQgICAgICAgICAgJzogJyxcblx0ICAgICAgICAgIGVycm9yLm1lc3NhZ2Vcblx0ICAgICAgICApLFxuXHQgICAgICAgIF9nZXRfXygnUmVhY3QnKS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICB7IHN0eWxlOiBzdGFjayB9LFxuXHQgICAgICAgICAgZnJhbWVzXG5cdCAgICAgICAgKVxuXHQgICAgICApO1xuXHQgICAgfVxuXHQgIH1dKTtcblx0XG5cdCAgcmV0dXJuIFJlZEJveEVycm9yO1xuXHR9KF9nZXRfXygnQ29tcG9uZW50JykpO1xuXHRcblx0Ly8gXCJQb3J0YWxcIiBjb21wb25lbnQgZm9yIGFjdHVhbCBSZWRCb3hFcnJvciBjb21wb25lbnQgdG9cblx0Ly8gcmVuZGVyIHRvIChkaXJlY3RseSB1bmRlciBib2R5KS4gUHJldmVudHMgYnVncyBhcyBpbiAjMjcuXG5cdFxuXHRcblx0UmVkQm94RXJyb3IucHJvcFR5cGVzID0ge1xuXHQgIGVycm9yOiBfZ2V0X18oJ1Byb3BUeXBlcycpLmluc3RhbmNlT2YoRXJyb3IpLmlzUmVxdWlyZWQsXG5cdCAgZmlsZW5hbWU6IF9nZXRfXygnUHJvcFR5cGVzJykuc3RyaW5nLFxuXHQgIGVkaXRvclNjaGVtZTogX2dldF9fKCdQcm9wVHlwZXMnKS5zdHJpbmcsXG5cdCAgdXNlTGluZXM6IF9nZXRfXygnUHJvcFR5cGVzJykuYm9vbCxcblx0ICB1c2VDb2x1bW5zOiBfZ2V0X18oJ1Byb3BUeXBlcycpLmJvb2wsXG5cdCAgc3R5bGU6IF9nZXRfXygnUHJvcFR5cGVzJykub2JqZWN0LFxuXHQgIGNsYXNzTmFtZTogX2dldF9fKCdQcm9wVHlwZXMnKS5zdHJpbmdcblx0fTtcblx0UmVkQm94RXJyb3IuZGlzcGxheU5hbWUgPSAnUmVkQm94RXJyb3InO1xuXHRSZWRCb3hFcnJvci5kZWZhdWx0UHJvcHMgPSB7XG5cdCAgdXNlTGluZXM6IHRydWUsXG5cdCAgdXNlQ29sdW1uczogdHJ1ZVxuXHR9O1xuXHRcblx0dmFyIFJlZEJveCA9IGZ1bmN0aW9uIChfZ2V0X181KSB7XG5cdCAgX2luaGVyaXRzKFJlZEJveCwgX2dldF9fNSk7XG5cdFxuXHQgIGZ1bmN0aW9uIFJlZEJveCgpIHtcblx0ICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBSZWRCb3gpO1xuXHRcblx0ICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoUmVkQm94Ll9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoUmVkQm94KSkuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG5cdCAgfVxuXHRcblx0ICBfY3JlYXRlQ2xhc3MoUmVkQm94LCBbe1xuXHQgICAga2V5OiAnY29tcG9uZW50RGlkTW91bnQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuXHQgICAgICB0aGlzLmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdCAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5lbCk7XG5cdCAgICAgIHRoaXMucmVuZGVyUmVkQm94RXJyb3IoKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdjb21wb25lbnREaWRVcGRhdGUnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZFVwZGF0ZSgpIHtcblx0ICAgICAgdGhpcy5yZW5kZXJSZWRCb3hFcnJvcigpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2NvbXBvbmVudFdpbGxVbm1vdW50Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcblx0ICAgICAgX2dldF9fKCdSZWFjdERPTScpLnVubW91bnRDb21wb25lbnRBdE5vZGUodGhpcy5lbCk7XG5cdCAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQodGhpcy5lbCk7XG5cdCAgICAgIHRoaXMuZWwgPSBudWxsO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3JlbmRlclJlZEJveEVycm9yJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXJSZWRCb3hFcnJvcigpIHtcblx0ICAgICAgX2dldF9fKCdSZWFjdERPTScpLnJlbmRlcihfZ2V0X18oJ1JlYWN0JykuY3JlYXRlRWxlbWVudChfZ2V0X18oJ1JlZEJveEVycm9yJyksIHRoaXMucHJvcHMpLCB0aGlzLmVsKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdyZW5kZXInLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgICAgcmV0dXJuIG51bGw7XG5cdCAgICB9XG5cdCAgfV0pO1xuXHRcblx0ICByZXR1cm4gUmVkQm94O1xuXHR9KF9nZXRfXygnQ29tcG9uZW50JykpO1xuXHRcblx0UmVkQm94LnByb3BUeXBlcyA9IHtcblx0ICBlcnJvcjogX2dldF9fKCdQcm9wVHlwZXMnKS5pbnN0YW5jZU9mKEVycm9yKS5pc1JlcXVpcmVkXG5cdH07XG5cdFJlZEJveC5kaXNwbGF5TmFtZSA9ICdSZWRCb3gnO1xuXHRleHBvcnRzLmRlZmF1bHQgPSBSZWRCb3g7XG5cdFxuXHR2YXIgX1Jld2lyZWREYXRhX18gPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuXHRcblx0dmFyIElOVEVOVElPTkFMX1VOREVGSU5FRCA9ICdfX0lOVEVOVElPTkFMX1VOREVGSU5FRF9fJztcblx0dmFyIF9SZXdpcmVBUElfXyA9IHt9O1xuXHRcblx0KGZ1bmN0aW9uICgpIHtcblx0ICBmdW5jdGlvbiBhZGRQcm9wZXJ0eVRvQVBJT2JqZWN0KG5hbWUsIHZhbHVlKSB7XG5cdCAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoX1Jld2lyZUFQSV9fLCBuYW1lLCB7XG5cdCAgICAgIHZhbHVlOiB2YWx1ZSxcblx0ICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG5cdCAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuXHQgICAgfSk7XG5cdCAgfVxuXHRcblx0ICBhZGRQcm9wZXJ0eVRvQVBJT2JqZWN0KCdfX2dldF9fJywgX2dldF9fKTtcblx0ICBhZGRQcm9wZXJ0eVRvQVBJT2JqZWN0KCdfX0dldERlcGVuZGVuY3lfXycsIF9nZXRfXyk7XG5cdCAgYWRkUHJvcGVydHlUb0FQSU9iamVjdCgnX19SZXdpcmVfXycsIF9zZXRfXyk7XG5cdCAgYWRkUHJvcGVydHlUb0FQSU9iamVjdCgnX19zZXRfXycsIF9zZXRfXyk7XG5cdCAgYWRkUHJvcGVydHlUb0FQSU9iamVjdCgnX19yZXNldF9fJywgX3Jlc2V0X18pO1xuXHQgIGFkZFByb3BlcnR5VG9BUElPYmplY3QoJ19fUmVzZXREZXBlbmRlbmN5X18nLCBfcmVzZXRfXyk7XG5cdCAgYWRkUHJvcGVydHlUb0FQSU9iamVjdCgnX193aXRoX18nLCBfd2l0aF9fKTtcblx0fSkoKTtcblx0XG5cdGZ1bmN0aW9uIF9nZXRfXyh2YXJpYWJsZU5hbWUpIHtcblx0ICBpZiAoX1Jld2lyZWREYXRhX18gPT09IHVuZGVmaW5lZCB8fCBfUmV3aXJlZERhdGFfX1t2YXJpYWJsZU5hbWVdID09PSB1bmRlZmluZWQpIHtcblx0ICAgIHJldHVybiBfZ2V0X29yaWdpbmFsX18odmFyaWFibGVOYW1lKTtcblx0ICB9IGVsc2Uge1xuXHQgICAgdmFyIHZhbHVlID0gX1Jld2lyZWREYXRhX19bdmFyaWFibGVOYW1lXTtcblx0XG5cdCAgICBpZiAodmFsdWUgPT09IElOVEVOVElPTkFMX1VOREVGSU5FRCkge1xuXHQgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgcmV0dXJuIHZhbHVlO1xuXHQgICAgfVxuXHQgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gX2dldF9vcmlnaW5hbF9fKHZhcmlhYmxlTmFtZSkge1xuXHQgIHN3aXRjaCAodmFyaWFibGVOYW1lKSB7XG5cdCAgICBjYXNlICdQcm9wVHlwZXMnOlxuXHQgICAgICByZXR1cm4gX3JlYWN0LlByb3BUeXBlcztcblx0XG5cdCAgICBjYXNlICdhc3NpZ24nOlxuXHQgICAgICByZXR1cm4gX29iamVjdEFzc2lnbjIuZGVmYXVsdDtcblx0XG5cdCAgICBjYXNlICdzdHlsZSc6XG5cdCAgICAgIHJldHVybiBfc3R5bGUyLmRlZmF1bHQ7XG5cdFxuXHQgICAgY2FzZSAnaXNGaWxlbmFtZUFic29sdXRlJzpcblx0ICAgICAgcmV0dXJuIF9saWIuaXNGaWxlbmFtZUFic29sdXRlO1xuXHRcblx0ICAgIGNhc2UgJ21ha2VVcmwnOlxuXHQgICAgICByZXR1cm4gX2xpYi5tYWtlVXJsO1xuXHRcblx0ICAgIGNhc2UgJ21ha2VMaW5rVGV4dCc6XG5cdCAgICAgIHJldHVybiBfbGliLm1ha2VMaW5rVGV4dDtcblx0XG5cdCAgICBjYXNlICdFcnJvclN0YWNrUGFyc2VyJzpcblx0ICAgICAgcmV0dXJuIF9lcnJvclN0YWNrUGFyc2VyMi5kZWZhdWx0O1xuXHRcblx0ICAgIGNhc2UgJ0NvbXBvbmVudCc6XG5cdCAgICAgIHJldHVybiBfcmVhY3QuQ29tcG9uZW50O1xuXHRcblx0ICAgIGNhc2UgJ1JlYWN0RE9NJzpcblx0ICAgICAgcmV0dXJuIF9yZWFjdERvbTIuZGVmYXVsdDtcblx0XG5cdCAgICBjYXNlICdSZWFjdCc6XG5cdCAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQ7XG5cdFxuXHQgICAgY2FzZSAnUmVkQm94RXJyb3InOlxuXHQgICAgICByZXR1cm4gUmVkQm94RXJyb3I7XG5cdCAgfVxuXHRcblx0ICByZXR1cm4gdW5kZWZpbmVkO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBfYXNzaWduX18odmFyaWFibGVOYW1lLCB2YWx1ZSkge1xuXHQgIGlmIChfUmV3aXJlZERhdGFfXyA9PT0gdW5kZWZpbmVkIHx8IF9SZXdpcmVkRGF0YV9fW3ZhcmlhYmxlTmFtZV0gPT09IHVuZGVmaW5lZCkge1xuXHQgICAgcmV0dXJuIF9zZXRfb3JpZ2luYWxfXyh2YXJpYWJsZU5hbWUsIHZhbHVlKTtcblx0ICB9IGVsc2Uge1xuXHQgICAgcmV0dXJuIF9SZXdpcmVkRGF0YV9fW3ZhcmlhYmxlTmFtZV0gPSB2YWx1ZTtcblx0ICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIF9zZXRfb3JpZ2luYWxfXyh2YXJpYWJsZU5hbWUsIF92YWx1ZSkge1xuXHQgIHN3aXRjaCAodmFyaWFibGVOYW1lKSB7fVxuXHRcblx0ICByZXR1cm4gdW5kZWZpbmVkO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBfdXBkYXRlX29wZXJhdGlvbl9fKG9wZXJhdGlvbiwgdmFyaWFibGVOYW1lLCBwcmVmaXgpIHtcblx0ICB2YXIgb2xkVmFsdWUgPSBfZ2V0X18odmFyaWFibGVOYW1lKTtcblx0XG5cdCAgdmFyIG5ld1ZhbHVlID0gb3BlcmF0aW9uID09PSAnKysnID8gb2xkVmFsdWUgKyAxIDogb2xkVmFsdWUgLSAxO1xuXHRcblx0ICBfYXNzaWduX18odmFyaWFibGVOYW1lLCBuZXdWYWx1ZSk7XG5cdFxuXHQgIHJldHVybiBwcmVmaXggPyBuZXdWYWx1ZSA6IG9sZFZhbHVlO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBfc2V0X18odmFyaWFibGVOYW1lLCB2YWx1ZSkge1xuXHQgIGlmICgodHlwZW9mIHZhcmlhYmxlTmFtZSA9PT0gJ3VuZGVmaW5lZCcgPyAndW5kZWZpbmVkJyA6IF90eXBlb2YodmFyaWFibGVOYW1lKSkgPT09ICdvYmplY3QnKSB7XG5cdCAgICBPYmplY3Qua2V5cyh2YXJpYWJsZU5hbWUpLmZvckVhY2goZnVuY3Rpb24gKG5hbWUpIHtcblx0ICAgICAgX1Jld2lyZWREYXRhX19bbmFtZV0gPSB2YXJpYWJsZU5hbWVbbmFtZV07XG5cdCAgICB9KTtcblx0ICB9IGVsc2Uge1xuXHQgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcblx0ICAgICAgX1Jld2lyZWREYXRhX19bdmFyaWFibGVOYW1lXSA9IElOVEVOVElPTkFMX1VOREVGSU5FRDtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIF9SZXdpcmVkRGF0YV9fW3ZhcmlhYmxlTmFtZV0gPSB2YWx1ZTtcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuXHQgICAgICBfcmVzZXRfXyh2YXJpYWJsZU5hbWUpO1xuXHQgICAgfTtcblx0ICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIF9yZXNldF9fKHZhcmlhYmxlTmFtZSkge1xuXHQgIGRlbGV0ZSBfUmV3aXJlZERhdGFfX1t2YXJpYWJsZU5hbWVdO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBfd2l0aF9fKG9iamVjdCkge1xuXHQgIHZhciByZXdpcmVkVmFyaWFibGVOYW1lcyA9IE9iamVjdC5rZXlzKG9iamVjdCk7XG5cdCAgdmFyIHByZXZpb3VzVmFsdWVzID0ge307XG5cdFxuXHQgIGZ1bmN0aW9uIHJlc2V0KCkge1xuXHQgICAgcmV3aXJlZFZhcmlhYmxlTmFtZXMuZm9yRWFjaChmdW5jdGlvbiAodmFyaWFibGVOYW1lKSB7XG5cdCAgICAgIF9SZXdpcmVkRGF0YV9fW3ZhcmlhYmxlTmFtZV0gPSBwcmV2aW91c1ZhbHVlc1t2YXJpYWJsZU5hbWVdO1xuXHQgICAgfSk7XG5cdCAgfVxuXHRcblx0ICByZXR1cm4gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG5cdCAgICByZXdpcmVkVmFyaWFibGVOYW1lcy5mb3JFYWNoKGZ1bmN0aW9uICh2YXJpYWJsZU5hbWUpIHtcblx0ICAgICAgcHJldmlvdXNWYWx1ZXNbdmFyaWFibGVOYW1lXSA9IF9SZXdpcmVkRGF0YV9fW3ZhcmlhYmxlTmFtZV07XG5cdCAgICAgIF9SZXdpcmVkRGF0YV9fW3ZhcmlhYmxlTmFtZV0gPSBvYmplY3RbdmFyaWFibGVOYW1lXTtcblx0ICAgIH0pO1xuXHQgICAgdmFyIHJlc3VsdCA9IGNhbGxiYWNrKCk7XG5cdFxuXHQgICAgaWYgKCEhcmVzdWx0ICYmIHR5cGVvZiByZXN1bHQudGhlbiA9PSAnZnVuY3Rpb24nKSB7XG5cdCAgICAgIHJlc3VsdC50aGVuKHJlc2V0KS5jYXRjaChyZXNldCk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICByZXNldCgpO1xuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiByZXN1bHQ7XG5cdCAgfTtcblx0fVxuXHRcblx0dmFyIF90eXBlT2ZPcmlnaW5hbEV4cG9ydCA9IHR5cGVvZiBSZWRCb3ggPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKFJlZEJveCk7XG5cdFxuXHRmdW5jdGlvbiBhZGROb25FbnVtZXJhYmxlUHJvcGVydHkobmFtZSwgdmFsdWUpIHtcblx0ICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVkQm94LCBuYW1lLCB7XG5cdCAgICB2YWx1ZTogdmFsdWUsXG5cdCAgICBlbnVtZXJhYmxlOiBmYWxzZSxcblx0ICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuXHQgIH0pO1xuXHR9XG5cdFxuXHRpZiAoKF90eXBlT2ZPcmlnaW5hbEV4cG9ydCA9PT0gJ29iamVjdCcgfHwgX3R5cGVPZk9yaWdpbmFsRXhwb3J0ID09PSAnZnVuY3Rpb24nKSAmJiBPYmplY3QuaXNFeHRlbnNpYmxlKFJlZEJveCkpIHtcblx0ICBhZGROb25FbnVtZXJhYmxlUHJvcGVydHkoJ19fZ2V0X18nLCBfZ2V0X18pO1xuXHQgIGFkZE5vbkVudW1lcmFibGVQcm9wZXJ0eSgnX19HZXREZXBlbmRlbmN5X18nLCBfZ2V0X18pO1xuXHQgIGFkZE5vbkVudW1lcmFibGVQcm9wZXJ0eSgnX19SZXdpcmVfXycsIF9zZXRfXyk7XG5cdCAgYWRkTm9uRW51bWVyYWJsZVByb3BlcnR5KCdfX3NldF9fJywgX3NldF9fKTtcblx0ICBhZGROb25FbnVtZXJhYmxlUHJvcGVydHkoJ19fcmVzZXRfXycsIF9yZXNldF9fKTtcblx0ICBhZGROb25FbnVtZXJhYmxlUHJvcGVydHkoJ19fUmVzZXREZXBlbmRlbmN5X18nLCBfcmVzZXRfXyk7XG5cdCAgYWRkTm9uRW51bWVyYWJsZVByb3BlcnR5KCdfX3dpdGhfXycsIF93aXRoX18pO1xuXHQgIGFkZE5vbkVudW1lcmFibGVQcm9wZXJ0eSgnX19SZXdpcmVBUElfXycsIF9SZXdpcmVBUElfXyk7XG5cdH1cblx0XG5cdGV4cG9ydHMuX19nZXRfXyA9IF9nZXRfXztcblx0ZXhwb3J0cy5fX0dldERlcGVuZGVuY3lfXyA9IF9nZXRfXztcblx0ZXhwb3J0cy5fX1Jld2lyZV9fID0gX3NldF9fO1xuXHRleHBvcnRzLl9fc2V0X18gPSBfc2V0X187XG5cdGV4cG9ydHMuX19SZXNldERlcGVuZGVuY3lfXyA9IF9yZXNldF9fO1xuXHRleHBvcnRzLl9fUmV3aXJlQVBJX18gPSBfUmV3aXJlQVBJX187XG5cbi8qKiovIH0sXG5cbi8qKiovIDU4MDpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHR2YXIgX0RlZmF1bHRFeHBvcnRWYWx1ZSA9IHtcblx0ICByZWRib3g6IHtcblx0ICAgIGJveFNpemluZzogJ2JvcmRlci1ib3gnLFxuXHQgICAgZm9udEZhbWlseTogJ3NhbnMtc2VyaWYnLFxuXHQgICAgcG9zaXRpb246ICdmaXhlZCcsXG5cdCAgICBwYWRkaW5nOiAxMCxcblx0ICAgIHRvcDogJzBweCcsXG5cdCAgICBsZWZ0OiAnMHB4Jyxcblx0ICAgIGJvdHRvbTogJzBweCcsXG5cdCAgICByaWdodDogJzBweCcsXG5cdCAgICB3aWR0aDogJzEwMCUnLFxuXHQgICAgYmFja2dyb3VuZDogJ3JnYigyMDQsIDAsIDApJyxcblx0ICAgIGNvbG9yOiAnd2hpdGUnLFxuXHQgICAgekluZGV4OiAyMTQ3NDgzNjQ3LFxuXHQgICAgdGV4dEFsaWduOiAnbGVmdCcsXG5cdCAgICBmb250U2l6ZTogJzE2cHgnLFxuXHQgICAgbGluZUhlaWdodDogMS4yLFxuXHQgICAgb3ZlcmZsb3c6ICdzY3JvbGwnXG5cdCAgfSxcblx0ICBtZXNzYWdlOiB7XG5cdCAgICBmb250V2VpZ2h0OiAnYm9sZCdcblx0ICB9LFxuXHQgIHN0YWNrOiB7XG5cdCAgICBmb250RmFtaWx5OiAnbW9ub3NwYWNlJyxcblx0ICAgIG1hcmdpblRvcDogJzJlbSdcblx0ICB9LFxuXHQgIGZyYW1lOiB7XG5cdCAgICBtYXJnaW5Ub3A6ICcxZW0nXG5cdCAgfSxcblx0ICBmaWxlOiB7XG5cdCAgICBmb250U2l6ZTogJzAuOGVtJyxcblx0ICAgIGNvbG9yOiAncmdiYSgyNTUsIDI1NSwgMjU1LCAwLjcpJ1xuXHQgIH0sXG5cdCAgbGlua1RvRmlsZToge1xuXHQgICAgdGV4dERlY29yYXRpb246ICdub25lJyxcblx0ICAgIGNvbG9yOiAncmdiYSgyNTUsIDI1NSwgMjU1LCAwLjcpJ1xuXHQgIH1cblx0fTtcblx0ZXhwb3J0cy5kZWZhdWx0ID0gX0RlZmF1bHRFeHBvcnRWYWx1ZTtcblxuLyoqKi8gfSxcblxuLyoqKi8gNTgxOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXywgX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXywgX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX187KGZ1bmN0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0ICAgICd1c2Ugc3RyaWN0Jztcblx0ICAgIC8vIFVuaXZlcnNhbCBNb2R1bGUgRGVmaW5pdGlvbiAoVU1EKSB0byBzdXBwb3J0IEFNRCwgQ29tbW9uSlMvTm9kZS5qcywgUmhpbm8sIGFuZCBicm93c2Vycy5cblx0XG5cdCAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuXHQgICAgaWYgKHRydWUpIHtcblx0ICAgICAgICAhKF9fV0VCUEFDS19BTURfREVGSU5FX0FSUkFZX18gPSBbX193ZWJwYWNrX3JlcXVpcmVfXyg1ODIpXSwgX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fID0gKGZhY3RvcnkpLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyA9ICh0eXBlb2YgX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fID09PSAnZnVuY3Rpb24nID8gKF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXy5hcHBseShleHBvcnRzLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fKSkgOiBfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18pLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyAhPT0gdW5kZWZpbmVkICYmIChtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fKSk7XG5cdCAgICB9IGVsc2UgaWYgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jykge1xuXHQgICAgICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShyZXF1aXJlKCdzdGFja2ZyYW1lJykpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICByb290LkVycm9yU3RhY2tQYXJzZXIgPSBmYWN0b3J5KHJvb3QuU3RhY2tGcmFtZSk7XG5cdCAgICB9XG5cdH0odGhpcywgZnVuY3Rpb24gRXJyb3JTdGFja1BhcnNlcihTdGFja0ZyYW1lKSB7XG5cdCAgICAndXNlIHN0cmljdCc7XG5cdFxuXHQgICAgdmFyIEZJUkVGT1hfU0FGQVJJX1NUQUNLX1JFR0VYUCA9IC8oXnxAKVxcUytcXDpcXGQrLztcblx0ICAgIHZhciBDSFJPTUVfSUVfU1RBQ0tfUkVHRVhQID0gL15cXHMqYXQgLiooXFxTK1xcOlxcZCt8XFwobmF0aXZlXFwpKS9tO1xuXHQgICAgdmFyIFNBRkFSSV9OQVRJVkVfQ09ERV9SRUdFWFAgPSAvXihldmFsQCk/KFxcW25hdGl2ZSBjb2RlXFxdKT8kLztcblx0XG5cdCAgICBmdW5jdGlvbiBfbWFwKGFycmF5LCBmbiwgdGhpc0FyZykge1xuXHQgICAgICAgIGlmICh0eXBlb2YgQXJyYXkucHJvdG90eXBlLm1hcCA9PT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgICAgICAgICByZXR1cm4gYXJyYXkubWFwKGZuLCB0aGlzQXJnKTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICB2YXIgb3V0cHV0ID0gbmV3IEFycmF5KGFycmF5Lmxlbmd0aCk7XG5cdCAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICAgICAgICAgIG91dHB1dFtpXSA9IGZuLmNhbGwodGhpc0FyZywgYXJyYXlbaV0pO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIHJldHVybiBvdXRwdXQ7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIGZ1bmN0aW9uIF9maWx0ZXIoYXJyYXksIGZuLCB0aGlzQXJnKSB7XG5cdCAgICAgICAgaWYgKHR5cGVvZiBBcnJheS5wcm90b3R5cGUuZmlsdGVyID09PSAnZnVuY3Rpb24nKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBhcnJheS5maWx0ZXIoZm4sIHRoaXNBcmcpO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIHZhciBvdXRwdXQgPSBbXTtcblx0ICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgICAgICAgICAgaWYgKGZuLmNhbGwodGhpc0FyZywgYXJyYXlbaV0pKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgb3V0cHV0LnB1c2goYXJyYXlbaV0pO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIHJldHVybiBvdXRwdXQ7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIGZ1bmN0aW9uIF9pbmRleE9mKGFycmF5LCB0YXJnZXQpIHtcblx0ICAgICAgICBpZiAodHlwZW9mIEFycmF5LnByb3RvdHlwZS5pbmRleE9mID09PSAnZnVuY3Rpb24nKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBhcnJheS5pbmRleE9mKHRhcmdldCk7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgICAgICAgICAgaWYgKGFycmF5W2ldID09PSB0YXJnZXQpIHtcblx0ICAgICAgICAgICAgICAgICAgICByZXR1cm4gaTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICByZXR1cm4gLTE7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiB7XG5cdCAgICAgICAgLyoqXG5cdCAgICAgICAgICogR2l2ZW4gYW4gRXJyb3Igb2JqZWN0LCBleHRyYWN0IHRoZSBtb3N0IGluZm9ybWF0aW9uIGZyb20gaXQuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAcGFyYW0ge0Vycm9yfSBlcnJvciBvYmplY3Rcblx0ICAgICAgICAgKiBAcmV0dXJuIHtBcnJheX0gb2YgU3RhY2tGcmFtZXNcblx0ICAgICAgICAgKi9cblx0ICAgICAgICBwYXJzZTogZnVuY3Rpb24gRXJyb3JTdGFja1BhcnNlciQkcGFyc2UoZXJyb3IpIHtcblx0ICAgICAgICAgICAgaWYgKHR5cGVvZiBlcnJvci5zdGFja3RyYWNlICE9PSAndW5kZWZpbmVkJyB8fCB0eXBlb2YgZXJyb3JbJ29wZXJhI3NvdXJjZWxvYyddICE9PSAndW5kZWZpbmVkJykge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucGFyc2VPcGVyYShlcnJvcik7XG5cdCAgICAgICAgICAgIH0gZWxzZSBpZiAoZXJyb3Iuc3RhY2sgJiYgZXJyb3Iuc3RhY2subWF0Y2goQ0hST01FX0lFX1NUQUNLX1JFR0VYUCkpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnBhcnNlVjhPcklFKGVycm9yKTtcblx0ICAgICAgICAgICAgfSBlbHNlIGlmIChlcnJvci5zdGFjaykge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucGFyc2VGRk9yU2FmYXJpKGVycm9yKTtcblx0ICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IHBhcnNlIGdpdmVuIEVycm9yIG9iamVjdCcpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfSxcblx0XG5cdCAgICAgICAgLy8gU2VwYXJhdGUgbGluZSBhbmQgY29sdW1uIG51bWJlcnMgZnJvbSBhIHN0cmluZyBvZiB0aGUgZm9ybTogKFVSSTpMaW5lOkNvbHVtbilcblx0ICAgICAgICBleHRyYWN0TG9jYXRpb246IGZ1bmN0aW9uIEVycm9yU3RhY2tQYXJzZXIkJGV4dHJhY3RMb2NhdGlvbih1cmxMaWtlKSB7XG5cdCAgICAgICAgICAgIC8vIEZhaWwtZmFzdCBidXQgcmV0dXJuIGxvY2F0aW9ucyBsaWtlIFwiKG5hdGl2ZSlcIlxuXHQgICAgICAgICAgICBpZiAodXJsTGlrZS5pbmRleE9mKCc6JykgPT09IC0xKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gW3VybExpa2VdO1xuXHQgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICB2YXIgcmVnRXhwID0gLyguKz8pKD86XFw6KFxcZCspKT8oPzpcXDooXFxkKykpPyQvO1xuXHQgICAgICAgICAgICB2YXIgcGFydHMgPSByZWdFeHAuZXhlYyh1cmxMaWtlLnJlcGxhY2UoL1tcXChcXCldL2csICcnKSk7XG5cdCAgICAgICAgICAgIHJldHVybiBbcGFydHNbMV0sIHBhcnRzWzJdIHx8IHVuZGVmaW5lZCwgcGFydHNbM10gfHwgdW5kZWZpbmVkXTtcblx0ICAgICAgICB9LFxuXHRcblx0ICAgICAgICBwYXJzZVY4T3JJRTogZnVuY3Rpb24gRXJyb3JTdGFja1BhcnNlciQkcGFyc2VWOE9ySUUoZXJyb3IpIHtcblx0ICAgICAgICAgICAgdmFyIGZpbHRlcmVkID0gX2ZpbHRlcihlcnJvci5zdGFjay5zcGxpdCgnXFxuJyksIGZ1bmN0aW9uKGxpbmUpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiAhIWxpbmUubWF0Y2goQ0hST01FX0lFX1NUQUNLX1JFR0VYUCk7XG5cdCAgICAgICAgICAgIH0sIHRoaXMpO1xuXHRcblx0ICAgICAgICAgICAgcmV0dXJuIF9tYXAoZmlsdGVyZWQsIGZ1bmN0aW9uKGxpbmUpIHtcblx0ICAgICAgICAgICAgICAgIGlmIChsaW5lLmluZGV4T2YoJyhldmFsICcpID4gLTEpIHtcblx0ICAgICAgICAgICAgICAgICAgICAvLyBUaHJvdyBhd2F5IGV2YWwgaW5mb3JtYXRpb24gdW50aWwgd2UgaW1wbGVtZW50IHN0YWNrdHJhY2UuanMvc3RhY2tmcmFtZSM4XG5cdCAgICAgICAgICAgICAgICAgICAgbGluZSA9IGxpbmUucmVwbGFjZSgvZXZhbCBjb2RlL2csICdldmFsJykucmVwbGFjZSgvKFxcKGV2YWwgYXQgW15cXCgpXSopfChcXClcXCwuKiQpL2csICcnKTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIHZhciB0b2tlbnMgPSBsaW5lLnJlcGxhY2UoL15cXHMrLywgJycpLnJlcGxhY2UoL1xcKGV2YWwgY29kZS9nLCAnKCcpLnNwbGl0KC9cXHMrLykuc2xpY2UoMSk7XG5cdCAgICAgICAgICAgICAgICB2YXIgbG9jYXRpb25QYXJ0cyA9IHRoaXMuZXh0cmFjdExvY2F0aW9uKHRva2Vucy5wb3AoKSk7XG5cdCAgICAgICAgICAgICAgICB2YXIgZnVuY3Rpb25OYW1lID0gdG9rZW5zLmpvaW4oJyAnKSB8fCB1bmRlZmluZWQ7XG5cdCAgICAgICAgICAgICAgICB2YXIgZmlsZU5hbWUgPSBfaW5kZXhPZihbJ2V2YWwnLCAnPGFub255bW91cz4nXSwgbG9jYXRpb25QYXJ0c1swXSkgPiAtMSA/IHVuZGVmaW5lZCA6IGxvY2F0aW9uUGFydHNbMF07XG5cdFxuXHQgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBTdGFja0ZyYW1lKGZ1bmN0aW9uTmFtZSwgdW5kZWZpbmVkLCBmaWxlTmFtZSwgbG9jYXRpb25QYXJ0c1sxXSwgbG9jYXRpb25QYXJ0c1syXSwgbGluZSk7XG5cdCAgICAgICAgICAgIH0sIHRoaXMpO1xuXHQgICAgICAgIH0sXG5cdFxuXHQgICAgICAgIHBhcnNlRkZPclNhZmFyaTogZnVuY3Rpb24gRXJyb3JTdGFja1BhcnNlciQkcGFyc2VGRk9yU2FmYXJpKGVycm9yKSB7XG5cdCAgICAgICAgICAgIHZhciBmaWx0ZXJlZCA9IF9maWx0ZXIoZXJyb3Iuc3RhY2suc3BsaXQoJ1xcbicpLCBmdW5jdGlvbihsaW5lKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gIWxpbmUubWF0Y2goU0FGQVJJX05BVElWRV9DT0RFX1JFR0VYUCk7XG5cdCAgICAgICAgICAgIH0sIHRoaXMpO1xuXHRcblx0ICAgICAgICAgICAgcmV0dXJuIF9tYXAoZmlsdGVyZWQsIGZ1bmN0aW9uKGxpbmUpIHtcblx0ICAgICAgICAgICAgICAgIC8vIFRocm93IGF3YXkgZXZhbCBpbmZvcm1hdGlvbiB1bnRpbCB3ZSBpbXBsZW1lbnQgc3RhY2t0cmFjZS5qcy9zdGFja2ZyYW1lIzhcblx0ICAgICAgICAgICAgICAgIGlmIChsaW5lLmluZGV4T2YoJyA+IGV2YWwnKSA+IC0xKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgbGluZSA9IGxpbmUucmVwbGFjZSgvIGxpbmUgKFxcZCspKD86ID4gZXZhbCBsaW5lIFxcZCspKiA+IGV2YWxcXDpcXGQrXFw6XFxkKy9nLCAnOiQxJyk7XG5cdCAgICAgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICAgICAgaWYgKGxpbmUuaW5kZXhPZignQCcpID09PSAtMSAmJiBsaW5lLmluZGV4T2YoJzonKSA9PT0gLTEpIHtcblx0ICAgICAgICAgICAgICAgICAgICAvLyBTYWZhcmkgZXZhbCBmcmFtZXMgb25seSBoYXZlIGZ1bmN0aW9uIG5hbWVzIGFuZCBub3RoaW5nIGVsc2Vcblx0ICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFN0YWNrRnJhbWUobGluZSk7XG5cdCAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgICAgIHZhciB0b2tlbnMgPSBsaW5lLnNwbGl0KCdAJyk7XG5cdCAgICAgICAgICAgICAgICAgICAgdmFyIGxvY2F0aW9uUGFydHMgPSB0aGlzLmV4dHJhY3RMb2NhdGlvbih0b2tlbnMucG9wKCkpO1xuXHQgICAgICAgICAgICAgICAgICAgIHZhciBmdW5jdGlvbk5hbWUgPSB0b2tlbnMuam9pbignQCcpIHx8IHVuZGVmaW5lZDtcblx0ICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFN0YWNrRnJhbWUoZnVuY3Rpb25OYW1lLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICB1bmRlZmluZWQsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uUGFydHNbMF0sXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uUGFydHNbMV0sXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uUGFydHNbMl0sXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGxpbmUpO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9LCB0aGlzKTtcblx0ICAgICAgICB9LFxuXHRcblx0ICAgICAgICBwYXJzZU9wZXJhOiBmdW5jdGlvbiBFcnJvclN0YWNrUGFyc2VyJCRwYXJzZU9wZXJhKGUpIHtcblx0ICAgICAgICAgICAgaWYgKCFlLnN0YWNrdHJhY2UgfHwgKGUubWVzc2FnZS5pbmRleE9mKCdcXG4nKSA+IC0xICYmXG5cdCAgICAgICAgICAgICAgICBlLm1lc3NhZ2Uuc3BsaXQoJ1xcbicpLmxlbmd0aCA+IGUuc3RhY2t0cmFjZS5zcGxpdCgnXFxuJykubGVuZ3RoKSkge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucGFyc2VPcGVyYTkoZSk7XG5cdCAgICAgICAgICAgIH0gZWxzZSBpZiAoIWUuc3RhY2spIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnBhcnNlT3BlcmExMChlKTtcblx0ICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnBhcnNlT3BlcmExMShlKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH0sXG5cdFxuXHQgICAgICAgIHBhcnNlT3BlcmE5OiBmdW5jdGlvbiBFcnJvclN0YWNrUGFyc2VyJCRwYXJzZU9wZXJhOShlKSB7XG5cdCAgICAgICAgICAgIHZhciBsaW5lUkUgPSAvTGluZSAoXFxkKykuKnNjcmlwdCAoPzppbiApPyhcXFMrKS9pO1xuXHQgICAgICAgICAgICB2YXIgbGluZXMgPSBlLm1lc3NhZ2Uuc3BsaXQoJ1xcbicpO1xuXHQgICAgICAgICAgICB2YXIgcmVzdWx0ID0gW107XG5cdFxuXHQgICAgICAgICAgICBmb3IgKHZhciBpID0gMiwgbGVuID0gbGluZXMubGVuZ3RoOyBpIDwgbGVuOyBpICs9IDIpIHtcblx0ICAgICAgICAgICAgICAgIHZhciBtYXRjaCA9IGxpbmVSRS5leGVjKGxpbmVzW2ldKTtcblx0ICAgICAgICAgICAgICAgIGlmIChtYXRjaCkge1xuXHQgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG5ldyBTdGFja0ZyYW1lKHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBtYXRjaFsyXSwgbWF0Y2hbMV0sIHVuZGVmaW5lZCwgbGluZXNbaV0pKTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcblx0ICAgICAgICB9LFxuXHRcblx0ICAgICAgICBwYXJzZU9wZXJhMTA6IGZ1bmN0aW9uIEVycm9yU3RhY2tQYXJzZXIkJHBhcnNlT3BlcmExMChlKSB7XG5cdCAgICAgICAgICAgIHZhciBsaW5lUkUgPSAvTGluZSAoXFxkKykuKnNjcmlwdCAoPzppbiApPyhcXFMrKSg/OjogSW4gZnVuY3Rpb24gKFxcUyspKT8kL2k7XG5cdCAgICAgICAgICAgIHZhciBsaW5lcyA9IGUuc3RhY2t0cmFjZS5zcGxpdCgnXFxuJyk7XG5cdCAgICAgICAgICAgIHZhciByZXN1bHQgPSBbXTtcblx0XG5cdCAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBsaW5lcy5sZW5ndGg7IGkgPCBsZW47IGkgKz0gMikge1xuXHQgICAgICAgICAgICAgICAgdmFyIG1hdGNoID0gbGluZVJFLmV4ZWMobGluZXNbaV0pO1xuXHQgICAgICAgICAgICAgICAgaWYgKG1hdGNoKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBTdGFja0ZyYW1lKFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hbM10gfHwgdW5kZWZpbmVkLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5kZWZpbmVkLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hbMl0sXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaFsxXSxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuZGVmaW5lZCxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVzW2ldXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIClcblx0ICAgICAgICAgICAgICAgICAgICApO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuXHQgICAgICAgIH0sXG5cdFxuXHQgICAgICAgIC8vIE9wZXJhIDEwLjY1KyBFcnJvci5zdGFjayB2ZXJ5IHNpbWlsYXIgdG8gRkYvU2FmYXJpXG5cdCAgICAgICAgcGFyc2VPcGVyYTExOiBmdW5jdGlvbiBFcnJvclN0YWNrUGFyc2VyJCRwYXJzZU9wZXJhMTEoZXJyb3IpIHtcblx0ICAgICAgICAgICAgdmFyIGZpbHRlcmVkID0gX2ZpbHRlcihlcnJvci5zdGFjay5zcGxpdCgnXFxuJyksIGZ1bmN0aW9uKGxpbmUpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiAhIWxpbmUubWF0Y2goRklSRUZPWF9TQUZBUklfU1RBQ0tfUkVHRVhQKSAmJiAhbGluZS5tYXRjaCgvXkVycm9yIGNyZWF0ZWQgYXQvKTtcblx0ICAgICAgICAgICAgfSwgdGhpcyk7XG5cdFxuXHQgICAgICAgICAgICByZXR1cm4gX21hcChmaWx0ZXJlZCwgZnVuY3Rpb24obGluZSkge1xuXHQgICAgICAgICAgICAgICAgdmFyIHRva2VucyA9IGxpbmUuc3BsaXQoJ0AnKTtcblx0ICAgICAgICAgICAgICAgIHZhciBsb2NhdGlvblBhcnRzID0gdGhpcy5leHRyYWN0TG9jYXRpb24odG9rZW5zLnBvcCgpKTtcblx0ICAgICAgICAgICAgICAgIHZhciBmdW5jdGlvbkNhbGwgPSAodG9rZW5zLnNoaWZ0KCkgfHwgJycpO1xuXHQgICAgICAgICAgICAgICAgdmFyIGZ1bmN0aW9uTmFtZSA9IGZ1bmN0aW9uQ2FsbFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvPGFub255bW91cyBmdW5jdGlvbig6IChcXHcrKSk/Pi8sICckMicpXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9cXChbXlxcKV0qXFwpL2csICcnKSB8fCB1bmRlZmluZWQ7XG5cdCAgICAgICAgICAgICAgICB2YXIgYXJnc1Jhdztcblx0ICAgICAgICAgICAgICAgIGlmIChmdW5jdGlvbkNhbGwubWF0Y2goL1xcKChbXlxcKV0qKVxcKS8pKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgYXJnc1JhdyA9IGZ1bmN0aW9uQ2FsbC5yZXBsYWNlKC9eW15cXChdK1xcKChbXlxcKV0qKVxcKSQvLCAnJDEnKTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIHZhciBhcmdzID0gKGFyZ3NSYXcgPT09IHVuZGVmaW5lZCB8fCBhcmdzUmF3ID09PSAnW2FyZ3VtZW50cyBub3QgYXZhaWxhYmxlXScpID9cblx0ICAgICAgICAgICAgICAgICAgICB1bmRlZmluZWQgOiBhcmdzUmF3LnNwbGl0KCcsJyk7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFN0YWNrRnJhbWUoXG5cdCAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb25OYW1lLFxuXHQgICAgICAgICAgICAgICAgICAgIGFyZ3MsXG5cdCAgICAgICAgICAgICAgICAgICAgbG9jYXRpb25QYXJ0c1swXSxcblx0ICAgICAgICAgICAgICAgICAgICBsb2NhdGlvblBhcnRzWzFdLFxuXHQgICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uUGFydHNbMl0sXG5cdCAgICAgICAgICAgICAgICAgICAgbGluZSk7XG5cdCAgICAgICAgICAgIH0sIHRoaXMpO1xuXHQgICAgICAgIH1cblx0ICAgIH07XG5cdH0pKTtcblx0XG5cblxuLyoqKi8gfSxcblxuLyoqKi8gNTgyOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXywgX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXywgX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX187KGZ1bmN0aW9uIChyb290LCBmYWN0b3J5KSB7XG5cdCAgICAndXNlIHN0cmljdCc7XG5cdCAgICAvLyBVbml2ZXJzYWwgTW9kdWxlIERlZmluaXRpb24gKFVNRCkgdG8gc3VwcG9ydCBBTUQsIENvbW1vbkpTL05vZGUuanMsIFJoaW5vLCBhbmQgYnJvd3NlcnMuXG5cdFxuXHQgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cblx0ICAgIGlmICh0cnVlKSB7XG5cdCAgICAgICAgIShfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fID0gW10sIF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXyA9IChmYWN0b3J5KSwgX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18gPSAodHlwZW9mIF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXyA9PT0gJ2Z1bmN0aW9uJyA/IChfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18uYXBwbHkoZXhwb3J0cywgX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXykpIDogX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fKSwgX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18gIT09IHVuZGVmaW5lZCAmJiAobW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXykpO1xuXHQgICAgfSBlbHNlIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpIHtcblx0ICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcm9vdC5TdGFja0ZyYW1lID0gZmFjdG9yeSgpO1xuXHQgICAgfVxuXHR9KHRoaXMsIGZ1bmN0aW9uICgpIHtcblx0ICAgICd1c2Ugc3RyaWN0Jztcblx0ICAgIGZ1bmN0aW9uIF9pc051bWJlcihuKSB7XG5cdCAgICAgICAgcmV0dXJuICFpc05hTihwYXJzZUZsb2F0KG4pKSAmJiBpc0Zpbml0ZShuKTtcblx0ICAgIH1cblx0XG5cdCAgICBmdW5jdGlvbiBTdGFja0ZyYW1lKGZ1bmN0aW9uTmFtZSwgYXJncywgZmlsZU5hbWUsIGxpbmVOdW1iZXIsIGNvbHVtbk51bWJlciwgc291cmNlKSB7XG5cdCAgICAgICAgaWYgKGZ1bmN0aW9uTmFtZSAhPT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgICAgIHRoaXMuc2V0RnVuY3Rpb25OYW1lKGZ1bmN0aW9uTmFtZSk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmIChhcmdzICE9PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICAgICAgdGhpcy5zZXRBcmdzKGFyZ3MpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpZiAoZmlsZU5hbWUgIT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgICAgICB0aGlzLnNldEZpbGVOYW1lKGZpbGVOYW1lKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgaWYgKGxpbmVOdW1iZXIgIT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgICAgICB0aGlzLnNldExpbmVOdW1iZXIobGluZU51bWJlcik7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmIChjb2x1bW5OdW1iZXIgIT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgICAgICB0aGlzLnNldENvbHVtbk51bWJlcihjb2x1bW5OdW1iZXIpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpZiAoc291cmNlICE9PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICAgICAgdGhpcy5zZXRTb3VyY2Uoc291cmNlKTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgU3RhY2tGcmFtZS5wcm90b3R5cGUgPSB7XG5cdCAgICAgICAgZ2V0RnVuY3Rpb25OYW1lOiBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzLmZ1bmN0aW9uTmFtZTtcblx0ICAgICAgICB9LFxuXHQgICAgICAgIHNldEZ1bmN0aW9uTmFtZTogZnVuY3Rpb24gKHYpIHtcblx0ICAgICAgICAgICAgdGhpcy5mdW5jdGlvbk5hbWUgPSBTdHJpbmcodik7XG5cdCAgICAgICAgfSxcblx0XG5cdCAgICAgICAgZ2V0QXJnczogZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICByZXR1cm4gdGhpcy5hcmdzO1xuXHQgICAgICAgIH0sXG5cdCAgICAgICAgc2V0QXJnczogZnVuY3Rpb24gKHYpIHtcblx0ICAgICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2KSAhPT0gJ1tvYmplY3QgQXJyYXldJykge1xuXHQgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJncyBtdXN0IGJlIGFuIEFycmF5Jyk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgdGhpcy5hcmdzID0gdjtcblx0ICAgICAgICB9LFxuXHRcblx0ICAgICAgICAvLyBOT1RFOiBQcm9wZXJ0eSBuYW1lIG1heSBiZSBtaXNsZWFkaW5nIGFzIGl0IGluY2x1ZGVzIHRoZSBwYXRoLFxuXHQgICAgICAgIC8vIGJ1dCBpdCBzb21ld2hhdCBtaXJyb3JzIFY4J3MgSmF2YVNjcmlwdFN0YWNrVHJhY2VBcGlcblx0ICAgICAgICAvLyBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL3Y4L3dpa2kvSmF2YVNjcmlwdFN0YWNrVHJhY2VBcGkgYW5kIEdlY2tvJ3Ncblx0ICAgICAgICAvLyBodHRwOi8vbXhyLm1vemlsbGEub3JnL21vemlsbGEtY2VudHJhbC9zb3VyY2UveHBjb20vYmFzZS9uc0lFeGNlcHRpb24uaWRsIzE0XG5cdCAgICAgICAgZ2V0RmlsZU5hbWU6IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXMuZmlsZU5hbWU7XG5cdCAgICAgICAgfSxcblx0ICAgICAgICBzZXRGaWxlTmFtZTogZnVuY3Rpb24gKHYpIHtcblx0ICAgICAgICAgICAgdGhpcy5maWxlTmFtZSA9IFN0cmluZyh2KTtcblx0ICAgICAgICB9LFxuXHRcblx0ICAgICAgICBnZXRMaW5lTnVtYmVyOiBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzLmxpbmVOdW1iZXI7XG5cdCAgICAgICAgfSxcblx0ICAgICAgICBzZXRMaW5lTnVtYmVyOiBmdW5jdGlvbiAodikge1xuXHQgICAgICAgICAgICBpZiAoIV9pc051bWJlcih2KSkge1xuXHQgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignTGluZSBOdW1iZXIgbXVzdCBiZSBhIE51bWJlcicpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIHRoaXMubGluZU51bWJlciA9IE51bWJlcih2KTtcblx0ICAgICAgICB9LFxuXHRcblx0ICAgICAgICBnZXRDb2x1bW5OdW1iZXI6IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29sdW1uTnVtYmVyO1xuXHQgICAgICAgIH0sXG5cdCAgICAgICAgc2V0Q29sdW1uTnVtYmVyOiBmdW5jdGlvbiAodikge1xuXHQgICAgICAgICAgICBpZiAoIV9pc051bWJlcih2KSkge1xuXHQgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQ29sdW1uIE51bWJlciBtdXN0IGJlIGEgTnVtYmVyJyk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgdGhpcy5jb2x1bW5OdW1iZXIgPSBOdW1iZXIodik7XG5cdCAgICAgICAgfSxcblx0XG5cdCAgICAgICAgZ2V0U291cmNlOiBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzLnNvdXJjZTtcblx0ICAgICAgICB9LFxuXHQgICAgICAgIHNldFNvdXJjZTogZnVuY3Rpb24gKHYpIHtcblx0ICAgICAgICAgICAgdGhpcy5zb3VyY2UgPSBTdHJpbmcodik7XG5cdCAgICAgICAgfSxcblx0XG5cdCAgICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgICB2YXIgZnVuY3Rpb25OYW1lID0gdGhpcy5nZXRGdW5jdGlvbk5hbWUoKSB8fCAne2Fub255bW91c30nO1xuXHQgICAgICAgICAgICB2YXIgYXJncyA9ICcoJyArICh0aGlzLmdldEFyZ3MoKSB8fCBbXSkuam9pbignLCcpICsgJyknO1xuXHQgICAgICAgICAgICB2YXIgZmlsZU5hbWUgPSB0aGlzLmdldEZpbGVOYW1lKCkgPyAoJ0AnICsgdGhpcy5nZXRGaWxlTmFtZSgpKSA6ICcnO1xuXHQgICAgICAgICAgICB2YXIgbGluZU51bWJlciA9IF9pc051bWJlcih0aGlzLmdldExpbmVOdW1iZXIoKSkgPyAoJzonICsgdGhpcy5nZXRMaW5lTnVtYmVyKCkpIDogJyc7XG5cdCAgICAgICAgICAgIHZhciBjb2x1bW5OdW1iZXIgPSBfaXNOdW1iZXIodGhpcy5nZXRDb2x1bW5OdW1iZXIoKSkgPyAoJzonICsgdGhpcy5nZXRDb2x1bW5OdW1iZXIoKSkgOiAnJztcblx0ICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uTmFtZSArIGFyZ3MgKyBmaWxlTmFtZSArIGxpbmVOdW1iZXIgKyBjb2x1bW5OdW1iZXI7XG5cdCAgICAgICAgfVxuXHQgICAgfTtcblx0XG5cdCAgICByZXR1cm4gU3RhY2tGcmFtZTtcblx0fSkpO1xuXG5cbi8qKiovIH0sXG5cbi8qKiovIDU4Mzpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9O1xuXHRcblx0dmFyIGZpbGVuYW1lV2l0aG91dExvYWRlcnMgPSBleHBvcnRzLmZpbGVuYW1lV2l0aG91dExvYWRlcnMgPSBmdW5jdGlvbiBmaWxlbmFtZVdpdGhvdXRMb2FkZXJzKCkge1xuXHQgIHZhciBmaWxlbmFtZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogJyc7XG5cdFxuXHQgIHZhciBpbmRleCA9IGZpbGVuYW1lLmxhc3RJbmRleE9mKCchJyk7XG5cdFxuXHQgIHJldHVybiBpbmRleCA8IDAgPyBmaWxlbmFtZSA6IGZpbGVuYW1lLnN1YnN0cihpbmRleCArIDEpO1xuXHR9O1xuXHRcblx0dmFyIGZpbGVuYW1lSGFzTG9hZGVycyA9IGV4cG9ydHMuZmlsZW5hbWVIYXNMb2FkZXJzID0gZnVuY3Rpb24gZmlsZW5hbWVIYXNMb2FkZXJzKGZpbGVuYW1lKSB7XG5cdCAgdmFyIGFjdHVhbEZpbGVuYW1lID0gX2dldF9fKCdmaWxlbmFtZVdpdGhvdXRMb2FkZXJzJykoZmlsZW5hbWUpO1xuXHRcblx0ICByZXR1cm4gYWN0dWFsRmlsZW5hbWUgIT09IGZpbGVuYW1lO1xuXHR9O1xuXHRcblx0dmFyIGZpbGVuYW1lSGFzU2NoZW1hID0gZXhwb3J0cy5maWxlbmFtZUhhc1NjaGVtYSA9IGZ1bmN0aW9uIGZpbGVuYW1lSGFzU2NoZW1hKGZpbGVuYW1lKSB7XG5cdCAgcmV0dXJuICgvXltcXHddK1xcOi8udGVzdChmaWxlbmFtZSlcblx0ICApO1xuXHR9O1xuXHRcblx0dmFyIGlzRmlsZW5hbWVBYnNvbHV0ZSA9IGV4cG9ydHMuaXNGaWxlbmFtZUFic29sdXRlID0gZnVuY3Rpb24gaXNGaWxlbmFtZUFic29sdXRlKGZpbGVuYW1lKSB7XG5cdCAgdmFyIGFjdHVhbEZpbGVuYW1lID0gX2dldF9fKCdmaWxlbmFtZVdpdGhvdXRMb2FkZXJzJykoZmlsZW5hbWUpO1xuXHRcblx0ICBpZiAoYWN0dWFsRmlsZW5hbWUuaW5kZXhPZignLycpID09PSAwKSB7XG5cdCAgICByZXR1cm4gdHJ1ZTtcblx0ICB9XG5cdFxuXHQgIHJldHVybiBmYWxzZTtcblx0fTtcblx0XG5cdHZhciBtYWtlVXJsID0gZXhwb3J0cy5tYWtlVXJsID0gZnVuY3Rpb24gbWFrZVVybChmaWxlbmFtZSwgc2NoZW1lLCBsaW5lLCBjb2x1bW4pIHtcblx0ICB2YXIgYWN0dWFsRmlsZW5hbWUgPSBfZ2V0X18oJ2ZpbGVuYW1lV2l0aG91dExvYWRlcnMnKShmaWxlbmFtZSk7XG5cdFxuXHQgIGlmIChfZ2V0X18oJ2ZpbGVuYW1lSGFzU2NoZW1hJykoZmlsZW5hbWUpKSB7XG5cdCAgICByZXR1cm4gYWN0dWFsRmlsZW5hbWU7XG5cdCAgfVxuXHRcblx0ICB2YXIgdXJsID0gJ2ZpbGU6Ly8nICsgYWN0dWFsRmlsZW5hbWU7XG5cdFxuXHQgIGlmIChzY2hlbWUpIHtcblx0ICAgIHVybCA9IHNjaGVtZSArICc6Ly9vcGVuP3VybD0nICsgdXJsO1xuXHRcblx0ICAgIGlmIChsaW5lICYmIGFjdHVhbEZpbGVuYW1lID09PSBmaWxlbmFtZSkge1xuXHQgICAgICB1cmwgPSB1cmwgKyAnJmxpbmU9JyArIGxpbmU7XG5cdFxuXHQgICAgICBpZiAoY29sdW1uKSB7XG5cdCAgICAgICAgdXJsID0gdXJsICsgJyZjb2x1bW49JyArIGNvbHVtbjtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH1cblx0XG5cdCAgcmV0dXJuIHVybDtcblx0fTtcblx0XG5cdHZhciBtYWtlTGlua1RleHQgPSBleHBvcnRzLm1ha2VMaW5rVGV4dCA9IGZ1bmN0aW9uIG1ha2VMaW5rVGV4dChmaWxlbmFtZSwgbGluZSwgY29sdW1uKSB7XG5cdCAgdmFyIHRleHQgPSBfZ2V0X18oJ2ZpbGVuYW1lV2l0aG91dExvYWRlcnMnKShmaWxlbmFtZSk7XG5cdFxuXHQgIGlmIChsaW5lICYmIHRleHQgPT09IGZpbGVuYW1lKSB7XG5cdCAgICB0ZXh0ID0gdGV4dCArICc6JyArIGxpbmU7XG5cdFxuXHQgICAgaWYgKGNvbHVtbikge1xuXHQgICAgICB0ZXh0ID0gdGV4dCArICc6JyArIGNvbHVtbjtcblx0ICAgIH1cblx0ICB9XG5cdFxuXHQgIHJldHVybiB0ZXh0O1xuXHR9O1xuXHRcblx0dmFyIF9SZXdpcmVkRGF0YV9fID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcblx0XG5cdHZhciBJTlRFTlRJT05BTF9VTkRFRklORUQgPSAnX19JTlRFTlRJT05BTF9VTkRFRklORURfXyc7XG5cdHZhciBfUmV3aXJlQVBJX18gPSB7fTtcblx0XG5cdChmdW5jdGlvbiAoKSB7XG5cdCAgZnVuY3Rpb24gYWRkUHJvcGVydHlUb0FQSU9iamVjdChuYW1lLCB2YWx1ZSkge1xuXHQgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KF9SZXdpcmVBUElfXywgbmFtZSwge1xuXHQgICAgICB2YWx1ZTogdmFsdWUsXG5cdCAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuXHQgICAgICBjb25maWd1cmFibGU6IHRydWVcblx0ICAgIH0pO1xuXHQgIH1cblx0XG5cdCAgYWRkUHJvcGVydHlUb0FQSU9iamVjdCgnX19nZXRfXycsIF9nZXRfXyk7XG5cdCAgYWRkUHJvcGVydHlUb0FQSU9iamVjdCgnX19HZXREZXBlbmRlbmN5X18nLCBfZ2V0X18pO1xuXHQgIGFkZFByb3BlcnR5VG9BUElPYmplY3QoJ19fUmV3aXJlX18nLCBfc2V0X18pO1xuXHQgIGFkZFByb3BlcnR5VG9BUElPYmplY3QoJ19fc2V0X18nLCBfc2V0X18pO1xuXHQgIGFkZFByb3BlcnR5VG9BUElPYmplY3QoJ19fcmVzZXRfXycsIF9yZXNldF9fKTtcblx0ICBhZGRQcm9wZXJ0eVRvQVBJT2JqZWN0KCdfX1Jlc2V0RGVwZW5kZW5jeV9fJywgX3Jlc2V0X18pO1xuXHQgIGFkZFByb3BlcnR5VG9BUElPYmplY3QoJ19fd2l0aF9fJywgX3dpdGhfXyk7XG5cdH0pKCk7XG5cdFxuXHRmdW5jdGlvbiBfZ2V0X18odmFyaWFibGVOYW1lKSB7XG5cdCAgaWYgKF9SZXdpcmVkRGF0YV9fID09PSB1bmRlZmluZWQgfHwgX1Jld2lyZWREYXRhX19bdmFyaWFibGVOYW1lXSA9PT0gdW5kZWZpbmVkKSB7XG5cdCAgICByZXR1cm4gX2dldF9vcmlnaW5hbF9fKHZhcmlhYmxlTmFtZSk7XG5cdCAgfSBlbHNlIHtcblx0ICAgIHZhciB2YWx1ZSA9IF9SZXdpcmVkRGF0YV9fW3ZhcmlhYmxlTmFtZV07XG5cdFxuXHQgICAgaWYgKHZhbHVlID09PSBJTlRFTlRJT05BTF9VTkRFRklORUQpIHtcblx0ICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHJldHVybiB2YWx1ZTtcblx0ICAgIH1cblx0ICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIF9nZXRfb3JpZ2luYWxfXyh2YXJpYWJsZU5hbWUpIHtcblx0ICBzd2l0Y2ggKHZhcmlhYmxlTmFtZSkge1xuXHQgICAgY2FzZSAnZmlsZW5hbWVXaXRob3V0TG9hZGVycyc6XG5cdCAgICAgIHJldHVybiBmaWxlbmFtZVdpdGhvdXRMb2FkZXJzO1xuXHRcblx0ICAgIGNhc2UgJ2ZpbGVuYW1lSGFzU2NoZW1hJzpcblx0ICAgICAgcmV0dXJuIGZpbGVuYW1lSGFzU2NoZW1hO1xuXHQgIH1cblx0XG5cdCAgcmV0dXJuIHVuZGVmaW5lZDtcblx0fVxuXHRcblx0ZnVuY3Rpb24gX2Fzc2lnbl9fKHZhcmlhYmxlTmFtZSwgdmFsdWUpIHtcblx0ICBpZiAoX1Jld2lyZWREYXRhX18gPT09IHVuZGVmaW5lZCB8fCBfUmV3aXJlZERhdGFfX1t2YXJpYWJsZU5hbWVdID09PSB1bmRlZmluZWQpIHtcblx0ICAgIHJldHVybiBfc2V0X29yaWdpbmFsX18odmFyaWFibGVOYW1lLCB2YWx1ZSk7XG5cdCAgfSBlbHNlIHtcblx0ICAgIHJldHVybiBfUmV3aXJlZERhdGFfX1t2YXJpYWJsZU5hbWVdID0gdmFsdWU7XG5cdCAgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBfc2V0X29yaWdpbmFsX18odmFyaWFibGVOYW1lLCBfdmFsdWUpIHtcblx0ICBzd2l0Y2ggKHZhcmlhYmxlTmFtZSkge31cblx0XG5cdCAgcmV0dXJuIHVuZGVmaW5lZDtcblx0fVxuXHRcblx0ZnVuY3Rpb24gX3VwZGF0ZV9vcGVyYXRpb25fXyhvcGVyYXRpb24sIHZhcmlhYmxlTmFtZSwgcHJlZml4KSB7XG5cdCAgdmFyIG9sZFZhbHVlID0gX2dldF9fKHZhcmlhYmxlTmFtZSk7XG5cdFxuXHQgIHZhciBuZXdWYWx1ZSA9IG9wZXJhdGlvbiA9PT0gJysrJyA/IG9sZFZhbHVlICsgMSA6IG9sZFZhbHVlIC0gMTtcblx0XG5cdCAgX2Fzc2lnbl9fKHZhcmlhYmxlTmFtZSwgbmV3VmFsdWUpO1xuXHRcblx0ICByZXR1cm4gcHJlZml4ID8gbmV3VmFsdWUgOiBvbGRWYWx1ZTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gX3NldF9fKHZhcmlhYmxlTmFtZSwgdmFsdWUpIHtcblx0ICBpZiAoKHR5cGVvZiB2YXJpYWJsZU5hbWUgPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKHZhcmlhYmxlTmFtZSkpID09PSAnb2JqZWN0Jykge1xuXHQgICAgT2JqZWN0LmtleXModmFyaWFibGVOYW1lKS5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7XG5cdCAgICAgIF9SZXdpcmVkRGF0YV9fW25hbWVdID0gdmFyaWFibGVOYW1lW25hbWVdO1xuXHQgICAgfSk7XG5cdCAgfSBlbHNlIHtcblx0ICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgIF9SZXdpcmVkRGF0YV9fW3ZhcmlhYmxlTmFtZV0gPSBJTlRFTlRJT05BTF9VTkRFRklORUQ7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICBfUmV3aXJlZERhdGFfX1t2YXJpYWJsZU5hbWVdID0gdmFsdWU7XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgX3Jlc2V0X18odmFyaWFibGVOYW1lKTtcblx0ICAgIH07XG5cdCAgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBfcmVzZXRfXyh2YXJpYWJsZU5hbWUpIHtcblx0ICBkZWxldGUgX1Jld2lyZWREYXRhX19bdmFyaWFibGVOYW1lXTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gX3dpdGhfXyhvYmplY3QpIHtcblx0ICB2YXIgcmV3aXJlZFZhcmlhYmxlTmFtZXMgPSBPYmplY3Qua2V5cyhvYmplY3QpO1xuXHQgIHZhciBwcmV2aW91c1ZhbHVlcyA9IHt9O1xuXHRcblx0ICBmdW5jdGlvbiByZXNldCgpIHtcblx0ICAgIHJld2lyZWRWYXJpYWJsZU5hbWVzLmZvckVhY2goZnVuY3Rpb24gKHZhcmlhYmxlTmFtZSkge1xuXHQgICAgICBfUmV3aXJlZERhdGFfX1t2YXJpYWJsZU5hbWVdID0gcHJldmlvdXNWYWx1ZXNbdmFyaWFibGVOYW1lXTtcblx0ICAgIH0pO1xuXHQgIH1cblx0XG5cdCAgcmV0dXJuIGZ1bmN0aW9uIChjYWxsYmFjaykge1xuXHQgICAgcmV3aXJlZFZhcmlhYmxlTmFtZXMuZm9yRWFjaChmdW5jdGlvbiAodmFyaWFibGVOYW1lKSB7XG5cdCAgICAgIHByZXZpb3VzVmFsdWVzW3ZhcmlhYmxlTmFtZV0gPSBfUmV3aXJlZERhdGFfX1t2YXJpYWJsZU5hbWVdO1xuXHQgICAgICBfUmV3aXJlZERhdGFfX1t2YXJpYWJsZU5hbWVdID0gb2JqZWN0W3ZhcmlhYmxlTmFtZV07XG5cdCAgICB9KTtcblx0ICAgIHZhciByZXN1bHQgPSBjYWxsYmFjaygpO1xuXHRcblx0ICAgIGlmICghIXJlc3VsdCAmJiB0eXBlb2YgcmVzdWx0LnRoZW4gPT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgICByZXN1bHQudGhlbihyZXNldCkuY2F0Y2gocmVzZXQpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgcmVzZXQoKTtcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gcmVzdWx0O1xuXHQgIH07XG5cdH1cblx0XG5cdGV4cG9ydHMuX19nZXRfXyA9IF9nZXRfXztcblx0ZXhwb3J0cy5fX0dldERlcGVuZGVuY3lfXyA9IF9nZXRfXztcblx0ZXhwb3J0cy5fX1Jld2lyZV9fID0gX3NldF9fO1xuXHRleHBvcnRzLl9fc2V0X18gPSBfc2V0X187XG5cdGV4cG9ydHMuX19SZXNldERlcGVuZGVuY3lfXyA9IF9yZXNldF9fO1xuXHRleHBvcnRzLl9fUmV3aXJlQVBJX18gPSBfUmV3aXJlQVBJX187XG5cdGV4cG9ydHMuZGVmYXVsdCA9IF9SZXdpcmVBUElfXztcblxuLyoqKi8gfSxcblxuLyoqKi8gNTg0OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0dmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblx0XG5cdHZhciBfc2xpY2VkVG9BcnJheSA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gc2xpY2VJdGVyYXRvcihhcnIsIGkpIHsgdmFyIF9hcnIgPSBbXTsgdmFyIF9uID0gdHJ1ZTsgdmFyIF9kID0gZmFsc2U7IHZhciBfZSA9IHVuZGVmaW5lZDsgdHJ5IHsgZm9yICh2YXIgX2kgPSBhcnJbU3ltYm9sLml0ZXJhdG9yXSgpLCBfczsgIShfbiA9IChfcyA9IF9pLm5leHQoKSkuZG9uZSk7IF9uID0gdHJ1ZSkgeyBfYXJyLnB1c2goX3MudmFsdWUpOyBpZiAoaSAmJiBfYXJyLmxlbmd0aCA9PT0gaSkgYnJlYWs7IH0gfSBjYXRjaCAoZXJyKSB7IF9kID0gdHJ1ZTsgX2UgPSBlcnI7IH0gZmluYWxseSB7IHRyeSB7IGlmICghX24gJiYgX2lbXCJyZXR1cm5cIl0pIF9pW1wicmV0dXJuXCJdKCk7IH0gZmluYWxseSB7IGlmIChfZCkgdGhyb3cgX2U7IH0gfSByZXR1cm4gX2FycjsgfSByZXR1cm4gZnVuY3Rpb24gKGFyciwgaSkgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSB7IHJldHVybiBhcnI7IH0gZWxzZSBpZiAoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChhcnIpKSB7IHJldHVybiBzbGljZUl0ZXJhdG9yKGFyciwgaSk7IH0gZWxzZSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlXCIpOyB9IH07IH0oKTtcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzLmRlZmF1bHQgPSBjYXRjaEVycm9ycztcblx0ZnVuY3Rpb24gY2F0Y2hFcnJvcnMoX3JlZikge1xuXHQgIHZhciBmaWxlbmFtZSA9IF9yZWYuZmlsZW5hbWU7XG5cdCAgdmFyIGNvbXBvbmVudHMgPSBfcmVmLmNvbXBvbmVudHM7XG5cdCAgdmFyIGltcG9ydHMgPSBfcmVmLmltcG9ydHM7XG5cdFxuXHQgIHZhciBfaW1wb3J0cyA9IF9zbGljZWRUb0FycmF5KGltcG9ydHMsIDMpO1xuXHRcblx0ICB2YXIgUmVhY3QgPSBfaW1wb3J0c1swXTtcblx0ICB2YXIgRXJyb3JSZXBvcnRlciA9IF9pbXBvcnRzWzFdO1xuXHQgIHZhciByZXBvcnRlck9wdGlvbnMgPSBfaW1wb3J0c1syXTtcblx0XG5cdCAgaWYgKCFSZWFjdCB8fCAhUmVhY3QuQ29tcG9uZW50KSB7XG5cdCAgICB0aHJvdyBuZXcgRXJyb3IoJ2ltcG9ydHNbMF0gZm9yIHJlYWN0LXRyYW5zZm9ybS1jYXRjaC1lcnJvcnMgZG9lcyBub3QgbG9vayBsaWtlIFJlYWN0LicpO1xuXHQgIH1cblx0ICBpZiAodHlwZW9mIEVycm9yUmVwb3J0ZXIgIT09ICdmdW5jdGlvbicpIHtcblx0ICAgIHRocm93IG5ldyBFcnJvcignaW1wb3J0c1sxXSBmb3IgcmVhY3QtdHJhbnNmb3JtLWNhdGNoLWVycm9ycyBkb2VzIG5vdCBsb29rIGxpa2UgYSBSZWFjdCBjb21wb25lbnQuJyk7XG5cdCAgfVxuXHRcblx0ICByZXR1cm4gZnVuY3Rpb24gd3JhcFRvQ2F0Y2hFcnJvcnMoUmVhY3RDbGFzcywgY29tcG9uZW50SWQpIHtcblx0ICAgIHZhciBvcmlnaW5hbFJlbmRlciA9IFJlYWN0Q2xhc3MucHJvdG90eXBlLnJlbmRlcjtcblx0XG5cdCAgICBSZWFjdENsYXNzLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiB0cnlSZW5kZXIoKSB7XG5cdCAgICAgIHRyeSB7XG5cdCAgICAgICAgcmV0dXJuIG9yaWdpbmFsUmVuZGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdCAgICAgIH0gY2F0Y2ggKGVycikge1xuXHQgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgaWYgKHR5cGVvZiBjb25zb2xlLnJlcG9ydEVycm9yc0FzRXhjZXB0aW9ucyAhPT0gJ3VuZGVmaW5lZCcpIHtcblx0ICAgICAgICAgICAgdmFyIHByZXZSZXBvcnRFcnJvckFzRXhjZXB0aW9ucyA9IGNvbnNvbGUucmVwb3J0RXJyb3JzQXNFeGNlcHRpb25zO1xuXHQgICAgICAgICAgICAvLyBXZSdyZSBpbiBSZWFjdCBOYXRpdmUuIERvbid0IHRocm93LlxuXHQgICAgICAgICAgICAvLyBTdG9wIHJlYWN0LW5hdGl2ZSBmcm9tIHRyaWdnZXJpbmcgaXRzIG93biBlcnJvciBoYW5kbGVyXG5cdCAgICAgICAgICAgIGNvbnNvbGUucmVwb3J0RXJyb3JzQXNFeGNlcHRpb25zID0gZmFsc2U7XG5cdCAgICAgICAgICAgIC8vIExvZyBhbiBlcnJvclxuXHQgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG5cdCAgICAgICAgICAgIC8vIFJlYWN0aXZhdGUgaXQgc28gb3RoZXIgZXJyb3JzIGFyZSBzdGlsbCBoYW5kbGVkXG5cdCAgICAgICAgICAgIGNvbnNvbGUucmVwb3J0RXJyb3JzQXNFeGNlcHRpb25zID0gcHJldlJlcG9ydEVycm9yQXNFeGNlcHRpb25zO1xuXHQgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgdGhyb3cgZXJyO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH0pO1xuXHRcblx0ICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChFcnJvclJlcG9ydGVyLCBfZXh0ZW5kcyh7XG5cdCAgICAgICAgICBlcnJvcjogZXJyLFxuXHQgICAgICAgICAgZmlsZW5hbWU6IGZpbGVuYW1lXG5cdCAgICAgICAgfSwgcmVwb3J0ZXJPcHRpb25zKSk7XG5cdCAgICAgIH1cblx0ICAgIH07XG5cdFxuXHQgICAgcmV0dXJuIFJlYWN0Q2xhc3M7XG5cdCAgfTtcblx0fVxuXG4vKioqLyB9LFxuXG4vKioqLyA1ODU6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX3NsaWNlZFRvQXJyYXkgPSAoZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBzbGljZUl0ZXJhdG9yKGFyciwgaSkgeyB2YXIgX2FyciA9IFtdOyB2YXIgX24gPSB0cnVlOyB2YXIgX2QgPSBmYWxzZTsgdmFyIF9lID0gdW5kZWZpbmVkOyB0cnkgeyBmb3IgKHZhciBfaSA9IGFycltTeW1ib2wuaXRlcmF0b3JdKCksIF9zOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7IF9hcnIucHVzaChfcy52YWx1ZSk7IGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhazsgfSB9IGNhdGNoIChlcnIpIHsgX2QgPSB0cnVlOyBfZSA9IGVycjsgfSBmaW5hbGx5IHsgdHJ5IHsgaWYgKCFfbiAmJiBfaVsncmV0dXJuJ10pIF9pWydyZXR1cm4nXSgpOyB9IGZpbmFsbHkgeyBpZiAoX2QpIHRocm93IF9lOyB9IH0gcmV0dXJuIF9hcnI7IH0gcmV0dXJuIGZ1bmN0aW9uIChhcnIsIGkpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgeyByZXR1cm4gYXJyOyB9IGVsc2UgaWYgKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoYXJyKSkgeyByZXR1cm4gc2xpY2VJdGVyYXRvcihhcnIsIGkpOyB9IGVsc2UgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlJyk7IH0gfTsgfSkoKTtcblx0XG5cdGV4cG9ydHNbJ2RlZmF1bHQnXSA9IHByb3h5UmVhY3RDb21wb25lbnRzO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXHRcblx0dmFyIF9yZWFjdFByb3h5ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1ODYpO1xuXHRcblx0dmFyIF9nbG9iYWxXaW5kb3cgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDczMCk7XG5cdFxuXHR2YXIgX2dsb2JhbFdpbmRvdzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nbG9iYWxXaW5kb3cpO1xuXHRcblx0dmFyIGNvbXBvbmVudFByb3hpZXMgPSB1bmRlZmluZWQ7XG5cdGlmIChfZ2xvYmFsV2luZG93MlsnZGVmYXVsdCddLl9fcmVhY3RDb21wb25lbnRQcm94aWVzKSB7XG5cdCAgY29tcG9uZW50UHJveGllcyA9IF9nbG9iYWxXaW5kb3cyWydkZWZhdWx0J10uX19yZWFjdENvbXBvbmVudFByb3hpZXM7XG5cdH0gZWxzZSB7XG5cdCAgY29tcG9uZW50UHJveGllcyA9IHt9O1xuXHQgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShfZ2xvYmFsV2luZG93MlsnZGVmYXVsdCddLCAnX19yZWFjdENvbXBvbmVudFByb3hpZXMnLCB7XG5cdCAgICBjb25maWd1cmFibGU6IHRydWUsXG5cdCAgICBlbnVtZXJhYmxlOiBmYWxzZSxcblx0ICAgIHdyaXRhYmxlOiBmYWxzZSxcblx0ICAgIHZhbHVlOiBjb21wb25lbnRQcm94aWVzXG5cdCAgfSk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHByb3h5UmVhY3RDb21wb25lbnRzKF9yZWYpIHtcblx0ICB2YXIgZmlsZW5hbWUgPSBfcmVmLmZpbGVuYW1lO1xuXHQgIHZhciBjb21wb25lbnRzID0gX3JlZi5jb21wb25lbnRzO1xuXHQgIHZhciBpbXBvcnRzID0gX3JlZi5pbXBvcnRzO1xuXHQgIHZhciBsb2NhbHMgPSBfcmVmLmxvY2Fscztcblx0XG5cdCAgdmFyIF9pbXBvcnRzID0gX3NsaWNlZFRvQXJyYXkoaW1wb3J0cywgMSk7XG5cdFxuXHQgIHZhciBSZWFjdCA9IF9pbXBvcnRzWzBdO1xuXHRcblx0ICB2YXIgX2xvY2FscyA9IF9zbGljZWRUb0FycmF5KGxvY2FscywgMSk7XG5cdFxuXHQgIHZhciBob3QgPSBfbG9jYWxzWzBdLmhvdDtcblx0XG5cdCAgaWYgKCFSZWFjdC5Db21wb25lbnQpIHtcblx0ICAgIHRocm93IG5ldyBFcnJvcignaW1wb3J0c1swXSBmb3IgcmVhY3QtdHJhbnNmb3JtLWhtciBkb2VzIG5vdCBsb29rIGxpa2UgUmVhY3QuJyk7XG5cdCAgfVxuXHRcblx0ICBpZiAoIWhvdCB8fCB0eXBlb2YgaG90LmFjY2VwdCAhPT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgdGhyb3cgbmV3IEVycm9yKCdsb2NhbHNbMF0gZG9lcyBub3QgYXBwZWFyIHRvIGJlIGEgYG1vZHVsZWAgb2JqZWN0IHdpdGggSG90IE1vZHVsZSAnICsgJ3JlcGxhY2VtZW50IEFQSSBlbmFibGVkLiBZb3Ugc2hvdWxkIGRpc2FibGUgcmVhY3QtdHJhbnNmb3JtLWhtciBpbiAnICsgJ3Byb2R1Y3Rpb24gYnkgdXNpbmcgYGVudmAgc2VjdGlvbiBpbiBCYWJlbCBjb25maWd1cmF0aW9uLiBTZWUgdGhlICcgKyAnZXhhbXBsZSBpbiBSRUFETUU6IGh0dHBzOi8vZ2l0aHViLmNvbS9nYWVhcm9uL3JlYWN0LXRyYW5zZm9ybS1obXInKTtcblx0ICB9XG5cdFxuXHQgIGlmIChPYmplY3Qua2V5cyhjb21wb25lbnRzKS5zb21lKGZ1bmN0aW9uIChrZXkpIHtcblx0ICAgIHJldHVybiAhY29tcG9uZW50c1trZXldLmlzSW5GdW5jdGlvbjtcblx0ICB9KSkge1xuXHQgICAgaG90LmFjY2VwdChmdW5jdGlvbiAoZXJyKSB7XG5cdCAgICAgIGlmIChlcnIpIHtcblx0ICAgICAgICBjb25zb2xlLndhcm4oJ1tSZWFjdCBUcmFuc2Zvcm0gSE1SXSBUaGVyZSB3YXMgYW4gZXJyb3IgdXBkYXRpbmcgJyArIGZpbGVuYW1lICsgJzonKTtcblx0ICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG5cdCAgICAgIH1cblx0ICAgIH0pO1xuXHQgIH1cblx0XG5cdCAgdmFyIGZvcmNlVXBkYXRlID0gKDAsIF9yZWFjdFByb3h5LmdldEZvcmNlVXBkYXRlKShSZWFjdCk7XG5cdFxuXHQgIHJldHVybiBmdW5jdGlvbiB3cmFwV2l0aFByb3h5KFJlYWN0Q2xhc3MsIHVuaXF1ZUlkKSB7XG5cdCAgICB2YXIgX2NvbXBvbmVudHMkdW5pcXVlSWQgPSBjb21wb25lbnRzW3VuaXF1ZUlkXTtcblx0ICAgIHZhciBfY29tcG9uZW50cyR1bmlxdWVJZCRpc0luRnVuY3Rpb24gPSBfY29tcG9uZW50cyR1bmlxdWVJZC5pc0luRnVuY3Rpb247XG5cdCAgICB2YXIgaXNJbkZ1bmN0aW9uID0gX2NvbXBvbmVudHMkdW5pcXVlSWQkaXNJbkZ1bmN0aW9uID09PSB1bmRlZmluZWQgPyBmYWxzZSA6IF9jb21wb25lbnRzJHVuaXF1ZUlkJGlzSW5GdW5jdGlvbjtcblx0ICAgIHZhciBfY29tcG9uZW50cyR1bmlxdWVJZCRkaXNwbGF5TmFtZSA9IF9jb21wb25lbnRzJHVuaXF1ZUlkLmRpc3BsYXlOYW1lO1xuXHQgICAgdmFyIGRpc3BsYXlOYW1lID0gX2NvbXBvbmVudHMkdW5pcXVlSWQkZGlzcGxheU5hbWUgPT09IHVuZGVmaW5lZCA/IHVuaXF1ZUlkIDogX2NvbXBvbmVudHMkdW5pcXVlSWQkZGlzcGxheU5hbWU7XG5cdFxuXHQgICAgaWYgKGlzSW5GdW5jdGlvbikge1xuXHQgICAgICByZXR1cm4gUmVhY3RDbGFzcztcblx0ICAgIH1cblx0XG5cdCAgICB2YXIgZ2xvYmFsVW5pcXVlSWQgPSBmaWxlbmFtZSArICckJyArIHVuaXF1ZUlkO1xuXHQgICAgaWYgKGNvbXBvbmVudFByb3hpZXNbZ2xvYmFsVW5pcXVlSWRdKSB7XG5cdCAgICAgIChmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgY29uc29sZS5pbmZvKCdbUmVhY3QgVHJhbnNmb3JtIEhNUl0gUGF0Y2hpbmcgJyArIGRpc3BsYXlOYW1lKTtcblx0ICAgICAgICB2YXIgaW5zdGFuY2VzID0gY29tcG9uZW50UHJveGllc1tnbG9iYWxVbmlxdWVJZF0udXBkYXRlKFJlYWN0Q2xhc3MpO1xuXHQgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgcmV0dXJuIGluc3RhbmNlcy5mb3JFYWNoKGZvcmNlVXBkYXRlKTtcblx0ICAgICAgICB9KTtcblx0ICAgICAgfSkoKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIGNvbXBvbmVudFByb3hpZXNbZ2xvYmFsVW5pcXVlSWRdID0gKDAsIF9yZWFjdFByb3h5LmNyZWF0ZVByb3h5KShSZWFjdENsYXNzKTtcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gY29tcG9uZW50UHJveGllc1tnbG9iYWxVbmlxdWVJZF0uZ2V0KCk7XG5cdCAgfTtcblx0fVxuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG5cbi8qKiovIDU4Njpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzLmdldEZvcmNlVXBkYXRlID0gZXhwb3J0cy5jcmVhdGVQcm94eSA9IHVuZGVmaW5lZDtcblx0XG5cdHZhciBfc3VwcG9ydHNQcm90b0Fzc2lnbm1lbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU4Nyk7XG5cdFxuXHR2YXIgX3N1cHBvcnRzUHJvdG9Bc3NpZ25tZW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3N1cHBvcnRzUHJvdG9Bc3NpZ25tZW50KTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3NQcm94eSA9IF9fd2VicGFja19yZXF1aXJlX18oNTg4KTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3NQcm94eTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVDbGFzc1Byb3h5KTtcblx0XG5cdHZhciBfcmVhY3REZWVwRm9yY2VVcGRhdGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcyOSk7XG5cdFxuXHR2YXIgX3JlYWN0RGVlcEZvcmNlVXBkYXRlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0RGVlcEZvcmNlVXBkYXRlKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRpZiAoISgwLCBfc3VwcG9ydHNQcm90b0Fzc2lnbm1lbnQyLmRlZmF1bHQpKCkpIHtcblx0ICBjb25zb2xlLndhcm4oJ1RoaXMgSmF2YVNjcmlwdCBlbnZpcm9ubWVudCBkb2VzIG5vdCBzdXBwb3J0IF9fcHJvdG9fXy4gJyArICdUaGlzIG1lYW5zIHRoYXQgcmVhY3QtcHJveHkgaXMgdW5hYmxlIHRvIHByb3h5IFJlYWN0IGNvbXBvbmVudHMuICcgKyAnRmVhdHVyZXMgdGhhdCByZWx5IG9uIHJlYWN0LXByb3h5LCBzdWNoIGFzIHJlYWN0LXRyYW5zZm9ybS1obXIsICcgKyAnd2lsbCBub3QgZnVuY3Rpb24gYXMgZXhwZWN0ZWQuJyk7XG5cdH1cblx0XG5cdGV4cG9ydHMuY3JlYXRlUHJveHkgPSBfY3JlYXRlQ2xhc3NQcm94eTIuZGVmYXVsdDtcblx0ZXhwb3J0cy5nZXRGb3JjZVVwZGF0ZSA9IF9yZWFjdERlZXBGb3JjZVVwZGF0ZTIuZGVmYXVsdDtcblxuLyoqKi8gfSxcblxuLyoqKi8gNTg3OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0cy5kZWZhdWx0ID0gc3VwcG9ydHNQcm90b0Fzc2lnbm1lbnQ7XG5cdHZhciB4ID0ge307XG5cdHZhciB5ID0geyBzdXBwb3J0czogdHJ1ZSB9O1xuXHR0cnkge1xuXHQgIHguX19wcm90b19fID0geTtcblx0fSBjYXRjaCAoZXJyKSB7fVxuXHRcblx0ZnVuY3Rpb24gc3VwcG9ydHNQcm90b0Fzc2lnbm1lbnQoKSB7XG5cdCAgcmV0dXJuIHguc3VwcG9ydHMgfHwgZmFsc2U7XG5cdH07XG5cbi8qKiovIH0sXG5cbi8qKiovIDU4ODpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblx0XG5cdHZhciBfc2xpY2VkVG9BcnJheSA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gc2xpY2VJdGVyYXRvcihhcnIsIGkpIHsgdmFyIF9hcnIgPSBbXTsgdmFyIF9uID0gdHJ1ZTsgdmFyIF9kID0gZmFsc2U7IHZhciBfZSA9IHVuZGVmaW5lZDsgdHJ5IHsgZm9yICh2YXIgX2kgPSBhcnJbU3ltYm9sLml0ZXJhdG9yXSgpLCBfczsgIShfbiA9IChfcyA9IF9pLm5leHQoKSkuZG9uZSk7IF9uID0gdHJ1ZSkgeyBfYXJyLnB1c2goX3MudmFsdWUpOyBpZiAoaSAmJiBfYXJyLmxlbmd0aCA9PT0gaSkgYnJlYWs7IH0gfSBjYXRjaCAoZXJyKSB7IF9kID0gdHJ1ZTsgX2UgPSBlcnI7IH0gZmluYWxseSB7IHRyeSB7IGlmICghX24gJiYgX2lbXCJyZXR1cm5cIl0pIF9pW1wicmV0dXJuXCJdKCk7IH0gZmluYWxseSB7IGlmIChfZCkgdGhyb3cgX2U7IH0gfSByZXR1cm4gX2FycjsgfSByZXR1cm4gZnVuY3Rpb24gKGFyciwgaSkgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSB7IHJldHVybiBhcnI7IH0gZWxzZSBpZiAoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChhcnIpKSB7IHJldHVybiBzbGljZUl0ZXJhdG9yKGFyciwgaSk7IH0gZWxzZSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlXCIpOyB9IH07IH0oKTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IHByb3h5Q2xhc3M7XG5cdGV4cG9ydHMuZGVmYXVsdCA9IGNyZWF0ZUNsYXNzUHJveHk7XG5cdFxuXHR2YXIgX2ZpbmQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU4OSk7XG5cdFxuXHR2YXIgX2ZpbmQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZmluZCk7XG5cdFxuXHR2YXIgX2NyZWF0ZVByb3RvdHlwZVByb3h5ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MDIpO1xuXHRcblx0dmFyIF9jcmVhdGVQcm90b3R5cGVQcm94eTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVQcm90b3R5cGVQcm94eSk7XG5cdFxuXHR2YXIgX2JpbmRBdXRvQmluZE1ldGhvZHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcyNyk7XG5cdFxuXHR2YXIgX2JpbmRBdXRvQmluZE1ldGhvZHMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYmluZEF1dG9CaW5kTWV0aG9kcyk7XG5cdFxuXHR2YXIgX2RlbGV0ZVVua25vd25BdXRvQmluZE1ldGhvZHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcyOCk7XG5cdFxuXHR2YXIgX2RlbGV0ZVVua25vd25BdXRvQmluZE1ldGhvZHMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGVsZXRlVW5rbm93bkF1dG9CaW5kTWV0aG9kcyk7XG5cdFxuXHR2YXIgX3N1cHBvcnRzUHJvdG9Bc3NpZ25tZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1ODcpO1xuXHRcblx0dmFyIF9zdXBwb3J0c1Byb3RvQXNzaWdubWVudDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zdXBwb3J0c1Byb3RvQXNzaWdubWVudCk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSB7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gQXJyYXkoYXJyLmxlbmd0aCk7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHsgYXJyMltpXSA9IGFycltpXTsgfSByZXR1cm4gYXJyMjsgfSBlbHNlIHsgcmV0dXJuIEFycmF5LmZyb20oYXJyKTsgfSB9XG5cdFxuXHR2YXIgUkVTRVJWRURfU1RBVElDUyA9IFsnbGVuZ3RoJywgJ25hbWUnLCAnYXJndW1lbnRzJywgJ2NhbGxlcicsICdwcm90b3R5cGUnLCAndG9TdHJpbmcnXTtcblx0XG5cdGZ1bmN0aW9uIGlzRXF1YWxEZXNjcmlwdG9yKGEsIGIpIHtcblx0ICBpZiAoIWEgJiYgIWIpIHtcblx0ICAgIHJldHVybiB0cnVlO1xuXHQgIH1cblx0ICBpZiAoIWEgfHwgIWIpIHtcblx0ICAgIHJldHVybiBmYWxzZTtcblx0ICB9XG5cdCAgZm9yICh2YXIga2V5IGluIGEpIHtcblx0ICAgIGlmIChhW2tleV0gIT09IGJba2V5XSkge1xuXHQgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICB9XG5cdCAgfVxuXHQgIHJldHVybiB0cnVlO1xuXHR9XG5cdFxuXHQvLyBUaGlzIHdhcyBvcmlnaW5hbGx5IGEgV2Vha01hcCBidXQgd2UgaGFkIGlzc3VlcyB3aXRoIFJlYWN0IE5hdGl2ZTpcblx0Ly8gaHR0cHM6Ly9naXRodWIuY29tL2dhZWFyb24vcmVhY3QtcHJveHkvaXNzdWVzLzUwI2lzc3VlY29tbWVudC0xOTI5MjgwNjZcblx0dmFyIGFsbFByb3hpZXMgPSBbXTtcblx0ZnVuY3Rpb24gZmluZFByb3h5KENvbXBvbmVudCkge1xuXHQgIHZhciBwYWlyID0gKDAsIF9maW5kMi5kZWZhdWx0KShhbGxQcm94aWVzLCBmdW5jdGlvbiAoX3JlZikge1xuXHQgICAgdmFyIF9yZWYyID0gX3NsaWNlZFRvQXJyYXkoX3JlZiwgMSk7XG5cdFxuXHQgICAgdmFyIGtleSA9IF9yZWYyWzBdO1xuXHQgICAgcmV0dXJuIGtleSA9PT0gQ29tcG9uZW50O1xuXHQgIH0pO1xuXHQgIHJldHVybiBwYWlyID8gcGFpclsxXSA6IG51bGw7XG5cdH1cblx0ZnVuY3Rpb24gYWRkUHJveHkoQ29tcG9uZW50LCBwcm94eSkge1xuXHQgIGFsbFByb3hpZXMucHVzaChbQ29tcG9uZW50LCBwcm94eV0pO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBwcm94eUNsYXNzKEluaXRpYWxDb21wb25lbnQpIHtcblx0ICAvLyBQcmV2ZW50IGRvdWJsZSB3cmFwcGluZy5cblx0ICAvLyBHaXZlbiBhIHByb3h5IGNsYXNzLCByZXR1cm4gdGhlIGV4aXN0aW5nIHByb3h5IG1hbmFnaW5nIGl0LlxuXHQgIHZhciBleGlzdGluZ1Byb3h5ID0gZmluZFByb3h5KEluaXRpYWxDb21wb25lbnQpO1xuXHQgIGlmIChleGlzdGluZ1Byb3h5KSB7XG5cdCAgICByZXR1cm4gZXhpc3RpbmdQcm94eTtcblx0ICB9XG5cdFxuXHQgIHZhciBwcm90b3R5cGVQcm94eSA9ICgwLCBfY3JlYXRlUHJvdG90eXBlUHJveHkyLmRlZmF1bHQpKCk7XG5cdCAgdmFyIEN1cnJlbnRDb21wb25lbnQgPSB1bmRlZmluZWQ7XG5cdCAgdmFyIFByb3h5Q29tcG9uZW50ID0gdW5kZWZpbmVkO1xuXHRcblx0ICB2YXIgc3RhdGljRGVzY3JpcHRvcnMgPSB7fTtcblx0ICBmdW5jdGlvbiB3YXNTdGF0aWNNb2RpZmllZEJ5VXNlcihrZXkpIHtcblx0ICAgIC8vIENvbXBhcmUgdGhlIGRlc2NyaXB0b3Igd2l0aCB0aGUgb25lIHdlIHByZXZpb3VzbHkgc2V0IG91cnNlbHZlcy5cblx0ICAgIHZhciBjdXJyZW50RGVzY3JpcHRvciA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoUHJveHlDb21wb25lbnQsIGtleSk7XG5cdCAgICByZXR1cm4gIWlzRXF1YWxEZXNjcmlwdG9yKHN0YXRpY0Rlc2NyaXB0b3JzW2tleV0sIGN1cnJlbnREZXNjcmlwdG9yKTtcblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIGluc3RhbnRpYXRlKGZhY3RvcnksIGNvbnRleHQsIHBhcmFtcykge1xuXHQgICAgdmFyIGNvbXBvbmVudCA9IGZhY3RvcnkoKTtcblx0XG5cdCAgICB0cnkge1xuXHQgICAgICByZXR1cm4gY29tcG9uZW50LmFwcGx5KGNvbnRleHQsIHBhcmFtcyk7XG5cdCAgICB9IGNhdGNoIChlcnIpIHtcblx0ICAgICAgKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAvLyBOYXRpdmUgRVM2IGNsYXNzIGluc3RhbnRpYXRpb25cblx0ICAgICAgICB2YXIgaW5zdGFuY2UgPSBuZXcgKEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmFwcGx5KGNvbXBvbmVudCwgW251bGxdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkocGFyYW1zKSkpKSgpO1xuXHRcblx0ICAgICAgICBPYmplY3Qua2V5cyhpbnN0YW5jZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG5cdCAgICAgICAgICBpZiAoUkVTRVJWRURfU1RBVElDUy5pbmRleE9mKGtleSkgPiAtMSkge1xuXHQgICAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgICBjb250ZXh0W2tleV0gPSBpbnN0YW5jZVtrZXldO1xuXHQgICAgICAgIH0pO1xuXHQgICAgICB9KSgpO1xuXHQgICAgfVxuXHQgIH1cblx0XG5cdCAgdHJ5IHtcblx0ICAgIC8vIENyZWF0ZSBhIHByb3h5IGNvbnN0cnVjdG9yIHdpdGggbWF0Y2hpbmcgbmFtZVxuXHQgICAgUHJveHlDb21wb25lbnQgPSBuZXcgRnVuY3Rpb24oJ2ZhY3RvcnknLCAnaW5zdGFudGlhdGUnLCAncmV0dXJuIGZ1bmN0aW9uICcgKyAoSW5pdGlhbENvbXBvbmVudC5uYW1lIHx8ICdQcm94eUNvbXBvbmVudCcpICsgJygpIHtcXG4gICAgICAgICByZXR1cm4gaW5zdGFudGlhdGUoZmFjdG9yeSwgdGhpcywgYXJndW1lbnRzKTtcXG4gICAgICB9JykoZnVuY3Rpb24gKCkge1xuXHQgICAgICByZXR1cm4gQ3VycmVudENvbXBvbmVudDtcblx0ICAgIH0sIGluc3RhbnRpYXRlKTtcblx0ICB9IGNhdGNoIChlcnIpIHtcblx0ICAgIC8vIFNvbWUgZW52aXJvbm1lbnRzIG1heSBmb3JiaWQgZHluYW1pYyBldmFsdWF0aW9uXG5cdCAgICBQcm94eUNvbXBvbmVudCA9IGZ1bmN0aW9uIFByb3h5Q29tcG9uZW50KCkge1xuXHQgICAgICByZXR1cm4gaW5zdGFudGlhdGUoZnVuY3Rpb24gKCkge1xuXHQgICAgICAgIHJldHVybiBDdXJyZW50Q29tcG9uZW50O1xuXHQgICAgICB9LCB0aGlzLCBhcmd1bWVudHMpO1xuXHQgICAgfTtcblx0ICB9XG5cdFxuXHQgIC8vIFBvaW50IHByb3h5IGNvbnN0cnVjdG9yIHRvIHRoZSBwcm94eSBwcm90b3R5cGVcblx0ICBQcm94eUNvbXBvbmVudC5wcm90b3R5cGUgPSBwcm90b3R5cGVQcm94eS5nZXQoKTtcblx0XG5cdCAgLy8gUHJveHkgdG9TdHJpbmcoKSB0byB0aGUgY3VycmVudCBjb25zdHJ1Y3RvclxuXHQgIFByb3h5Q29tcG9uZW50LnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG5cdCAgICByZXR1cm4gQ3VycmVudENvbXBvbmVudC50b1N0cmluZygpO1xuXHQgIH07XG5cdFxuXHQgIGZ1bmN0aW9uIHVwZGF0ZShOZXh0Q29tcG9uZW50KSB7XG5cdCAgICBpZiAodHlwZW9mIE5leHRDb21wb25lbnQgIT09ICdmdW5jdGlvbicpIHtcblx0ICAgICAgdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCBhIGNvbnN0cnVjdG9yLicpO1xuXHQgICAgfVxuXHRcblx0ICAgIC8vIFByZXZlbnQgcHJveHkgY3ljbGVzXG5cdCAgICB2YXIgZXhpc3RpbmdQcm94eSA9IGZpbmRQcm94eShOZXh0Q29tcG9uZW50KTtcblx0ICAgIGlmIChleGlzdGluZ1Byb3h5KSB7XG5cdCAgICAgIHJldHVybiB1cGRhdGUoZXhpc3RpbmdQcm94eS5fX2dldEN1cnJlbnQoKSk7XG5cdCAgICB9XG5cdFxuXHQgICAgLy8gU2F2ZSB0aGUgbmV4dCBjb25zdHJ1Y3RvciBzbyB3ZSBjYWxsIGl0XG5cdCAgICBDdXJyZW50Q29tcG9uZW50ID0gTmV4dENvbXBvbmVudDtcblx0XG5cdCAgICAvLyBVcGRhdGUgdGhlIHByb3RvdHlwZSBwcm94eSB3aXRoIG5ldyBtZXRob2RzXG5cdCAgICB2YXIgbW91bnRlZEluc3RhbmNlcyA9IHByb3RvdHlwZVByb3h5LnVwZGF0ZShOZXh0Q29tcG9uZW50LnByb3RvdHlwZSk7XG5cdFxuXHQgICAgLy8gU2V0IHVwIHRoZSBjb25zdHJ1Y3RvciBwcm9wZXJ0eSBzbyBhY2Nlc3NpbmcgdGhlIHN0YXRpY3Mgd29ya1xuXHQgICAgUHJveHlDb21wb25lbnQucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gUHJveHlDb21wb25lbnQ7XG5cdFxuXHQgICAgLy8gU2V0IHVwIHRoZSBzYW1lIHByb3RvdHlwZSBmb3IgaW5oZXJpdGVkIHN0YXRpY3Ncblx0ICAgIFByb3h5Q29tcG9uZW50Ll9fcHJvdG9fXyA9IE5leHRDb21wb25lbnQuX19wcm90b19fO1xuXHRcblx0ICAgIC8vIENvcHkgc3RhdGljIG1ldGhvZHMgYW5kIHByb3BlcnRpZXNcblx0ICAgIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKE5leHRDb21wb25lbnQpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuXHQgICAgICBpZiAoUkVTRVJWRURfU1RBVElDUy5pbmRleE9mKGtleSkgPiAtMSkge1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgdmFyIHN0YXRpY0Rlc2NyaXB0b3IgPSBfZXh0ZW5kcyh7fSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihOZXh0Q29tcG9uZW50LCBrZXkpLCB7XG5cdCAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG5cdCAgICAgIH0pO1xuXHRcblx0ICAgICAgLy8gQ29weSBzdGF0aWMgdW5sZXNzIHVzZXIgaGFzIHJlZGVmaW5lZCBpdCBhdCBydW50aW1lXG5cdCAgICAgIGlmICghd2FzU3RhdGljTW9kaWZpZWRCeVVzZXIoa2V5KSkge1xuXHQgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShQcm94eUNvbXBvbmVudCwga2V5LCBzdGF0aWNEZXNjcmlwdG9yKTtcblx0ICAgICAgICBzdGF0aWNEZXNjcmlwdG9yc1trZXldID0gc3RhdGljRGVzY3JpcHRvcjtcblx0ICAgICAgfVxuXHQgICAgfSk7XG5cdFxuXHQgICAgLy8gUmVtb3ZlIG9sZCBzdGF0aWMgbWV0aG9kcyBhbmQgcHJvcGVydGllc1xuXHQgICAgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoUHJveHlDb21wb25lbnQpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuXHQgICAgICBpZiAoUkVTRVJWRURfU1RBVElDUy5pbmRleE9mKGtleSkgPiAtMSkge1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgLy8gU2tpcCBzdGF0aWNzIHRoYXQgZXhpc3Qgb24gdGhlIG5leHQgY2xhc3Ncblx0ICAgICAgaWYgKE5leHRDb21wb25lbnQuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgLy8gU2tpcCBub24tY29uZmlndXJhYmxlIHN0YXRpY3Ncblx0ICAgICAgdmFyIGRlc2NyaXB0b3IgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKFByb3h5Q29tcG9uZW50LCBrZXkpO1xuXHQgICAgICBpZiAoZGVzY3JpcHRvciAmJiAhZGVzY3JpcHRvci5jb25maWd1cmFibGUpIHtcblx0ICAgICAgICByZXR1cm47XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIC8vIERlbGV0ZSBzdGF0aWMgdW5sZXNzIHVzZXIgaGFzIHJlZGVmaW5lZCBpdCBhdCBydW50aW1lXG5cdCAgICAgIGlmICghd2FzU3RhdGljTW9kaWZpZWRCeVVzZXIoa2V5KSkge1xuXHQgICAgICAgIGRlbGV0ZSBQcm94eUNvbXBvbmVudFtrZXldO1xuXHQgICAgICAgIGRlbGV0ZSBzdGF0aWNEZXNjcmlwdG9yc1trZXldO1xuXHQgICAgICB9XG5cdCAgICB9KTtcblx0XG5cdCAgICAvLyBUcnkgdG8gaW5mZXIgZGlzcGxheU5hbWVcblx0ICAgIFByb3h5Q29tcG9uZW50LmRpc3BsYXlOYW1lID0gTmV4dENvbXBvbmVudC5kaXNwbGF5TmFtZSB8fCBOZXh0Q29tcG9uZW50Lm5hbWU7XG5cdFxuXHQgICAgLy8gV2UgbWlnaHQgaGF2ZSBhZGRlZCBuZXcgbWV0aG9kcyB0aGF0IG5lZWQgdG8gYmUgYXV0by1ib3VuZFxuXHQgICAgbW91bnRlZEluc3RhbmNlcy5mb3JFYWNoKF9iaW5kQXV0b0JpbmRNZXRob2RzMi5kZWZhdWx0KTtcblx0ICAgIG1vdW50ZWRJbnN0YW5jZXMuZm9yRWFjaChfZGVsZXRlVW5rbm93bkF1dG9CaW5kTWV0aG9kczIuZGVmYXVsdCk7XG5cdFxuXHQgICAgLy8gTGV0IHRoZSB1c2VyIHRha2UgY2FyZSBvZiByZWRyYXdpbmdcblx0ICAgIHJldHVybiBtb3VudGVkSW5zdGFuY2VzO1xuXHQgIH07XG5cdFxuXHQgIGZ1bmN0aW9uIGdldCgpIHtcblx0ICAgIHJldHVybiBQcm94eUNvbXBvbmVudDtcblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIGdldEN1cnJlbnQoKSB7XG5cdCAgICByZXR1cm4gQ3VycmVudENvbXBvbmVudDtcblx0ICB9XG5cdFxuXHQgIHVwZGF0ZShJbml0aWFsQ29tcG9uZW50KTtcblx0XG5cdCAgdmFyIHByb3h5ID0geyBnZXQ6IGdldCwgdXBkYXRlOiB1cGRhdGUgfTtcblx0ICBhZGRQcm94eShQcm94eUNvbXBvbmVudCwgcHJveHkpO1xuXHRcblx0ICBPYmplY3QuZGVmaW5lUHJvcGVydHkocHJveHksICdfX2dldEN1cnJlbnQnLCB7XG5cdCAgICBjb25maWd1cmFibGU6IGZhbHNlLFxuXHQgICAgd3JpdGFibGU6IGZhbHNlLFxuXHQgICAgZW51bWVyYWJsZTogZmFsc2UsXG5cdCAgICB2YWx1ZTogZ2V0Q3VycmVudFxuXHQgIH0pO1xuXHRcblx0ICByZXR1cm4gcHJveHk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGNyZWF0ZUZhbGxiYWNrKENvbXBvbmVudCkge1xuXHQgIHZhciBDdXJyZW50Q29tcG9uZW50ID0gQ29tcG9uZW50O1xuXHRcblx0ICByZXR1cm4ge1xuXHQgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG5cdCAgICAgIHJldHVybiBDdXJyZW50Q29tcG9uZW50O1xuXHQgICAgfSxcblx0ICAgIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlKE5leHRDb21wb25lbnQpIHtcblx0ICAgICAgQ3VycmVudENvbXBvbmVudCA9IE5leHRDb21wb25lbnQ7XG5cdCAgICB9XG5cdCAgfTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gY3JlYXRlQ2xhc3NQcm94eShDb21wb25lbnQpIHtcblx0ICByZXR1cm4gQ29tcG9uZW50Ll9fcHJvdG9fXyAmJiAoMCwgX3N1cHBvcnRzUHJvdG9Bc3NpZ25tZW50Mi5kZWZhdWx0KSgpID8gcHJveHlDbGFzcyhDb21wb25lbnQpIDogY3JlYXRlRmFsbGJhY2soQ29tcG9uZW50KTtcblx0fVxuXG4vKioqLyB9LFxuXG4vKioqLyA1ODk6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgY3JlYXRlRmluZCA9IF9fd2VicGFja19yZXF1aXJlX18oNTkwKSxcblx0ICAgIGZpbmRJbmRleCA9IF9fd2VicGFja19yZXF1aXJlX18oNjk3KTtcblx0XG5cdC8qKlxuXHQgKiBJdGVyYXRlcyBvdmVyIGVsZW1lbnRzIG9mIGBjb2xsZWN0aW9uYCwgcmV0dXJuaW5nIHRoZSBmaXJzdCBlbGVtZW50XG5cdCAqIGBwcmVkaWNhdGVgIHJldHVybnMgdHJ1dGh5IGZvci4gVGhlIHByZWRpY2F0ZSBpcyBpbnZva2VkIHdpdGggdGhyZWVcblx0ICogYXJndW1lbnRzOiAodmFsdWUsIGluZGV4fGtleSwgY29sbGVjdGlvbikuXG5cdCAqXG5cdCAqIEBzdGF0aWNcblx0ICogQG1lbWJlck9mIF9cblx0ICogQHNpbmNlIDAuMS4wXG5cdCAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG5cdCAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGluc3BlY3QuXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cblx0ICogQHBhcmFtIHtudW1iZXJ9IFtmcm9tSW5kZXg9MF0gVGhlIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuXHQgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbWF0Y2hlZCBlbGVtZW50LCBlbHNlIGB1bmRlZmluZWRgLlxuXHQgKiBAZXhhbXBsZVxuXHQgKlxuXHQgKiB2YXIgdXNlcnMgPSBbXG5cdCAqICAgeyAndXNlcic6ICdiYXJuZXknLCAgJ2FnZSc6IDM2LCAnYWN0aXZlJzogdHJ1ZSB9LFxuXHQgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgICdhZ2UnOiA0MCwgJ2FjdGl2ZSc6IGZhbHNlIH0sXG5cdCAqICAgeyAndXNlcic6ICdwZWJibGVzJywgJ2FnZSc6IDEsICAnYWN0aXZlJzogdHJ1ZSB9XG5cdCAqIF07XG5cdCAqXG5cdCAqIF8uZmluZCh1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gby5hZ2UgPCA0MDsgfSk7XG5cdCAqIC8vID0+IG9iamVjdCBmb3IgJ2Jhcm5leSdcblx0ICpcblx0ICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cblx0ICogXy5maW5kKHVzZXJzLCB7ICdhZ2UnOiAxLCAnYWN0aXZlJzogdHJ1ZSB9KTtcblx0ICogLy8gPT4gb2JqZWN0IGZvciAncGViYmxlcydcblx0ICpcblx0ICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuXHQgKiBfLmZpbmQodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcblx0ICogLy8gPT4gb2JqZWN0IGZvciAnZnJlZCdcblx0ICpcblx0ICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG5cdCAqIF8uZmluZCh1c2VycywgJ2FjdGl2ZScpO1xuXHQgKiAvLyA9PiBvYmplY3QgZm9yICdiYXJuZXknXG5cdCAqL1xuXHR2YXIgZmluZCA9IGNyZWF0ZUZpbmQoZmluZEluZGV4KTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gZmluZDtcblxuXG4vKioqLyB9LFxuXG4vKioqLyA1OTA6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgYmFzZUl0ZXJhdGVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1OTEpLFxuXHQgICAgaXNBcnJheUxpa2UgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY2OCksXG5cdCAgICBrZXlzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2NTIpO1xuXHRcblx0LyoqXG5cdCAqIENyZWF0ZXMgYSBgXy5maW5kYCBvciBgXy5maW5kTGFzdGAgZnVuY3Rpb24uXG5cdCAqXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IGZpbmRJbmRleEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGZpbmQgdGhlIGNvbGxlY3Rpb24gaW5kZXguXG5cdCAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZpbmQgZnVuY3Rpb24uXG5cdCAqL1xuXHRmdW5jdGlvbiBjcmVhdGVGaW5kKGZpbmRJbmRleEZ1bmMpIHtcblx0ICByZXR1cm4gZnVuY3Rpb24oY29sbGVjdGlvbiwgcHJlZGljYXRlLCBmcm9tSW5kZXgpIHtcblx0ICAgIHZhciBpdGVyYWJsZSA9IE9iamVjdChjb2xsZWN0aW9uKTtcblx0ICAgIGlmICghaXNBcnJheUxpa2UoY29sbGVjdGlvbikpIHtcblx0ICAgICAgdmFyIGl0ZXJhdGVlID0gYmFzZUl0ZXJhdGVlKHByZWRpY2F0ZSwgMyk7XG5cdCAgICAgIGNvbGxlY3Rpb24gPSBrZXlzKGNvbGxlY3Rpb24pO1xuXHQgICAgICBwcmVkaWNhdGUgPSBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIGl0ZXJhdGVlKGl0ZXJhYmxlW2tleV0sIGtleSwgaXRlcmFibGUpOyB9O1xuXHQgICAgfVxuXHQgICAgdmFyIGluZGV4ID0gZmluZEluZGV4RnVuYyhjb2xsZWN0aW9uLCBwcmVkaWNhdGUsIGZyb21JbmRleCk7XG5cdCAgICByZXR1cm4gaW5kZXggPiAtMSA/IGl0ZXJhYmxlW2l0ZXJhdGVlID8gY29sbGVjdGlvbltpbmRleF0gOiBpbmRleF0gOiB1bmRlZmluZWQ7XG5cdCAgfTtcblx0fVxuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBjcmVhdGVGaW5kO1xuXG5cbi8qKiovIH0sXG5cbi8qKiovIDY5Nzpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBiYXNlRmluZEluZGV4ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2OTgpLFxuXHQgICAgYmFzZUl0ZXJhdGVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1OTEpLFxuXHQgICAgdG9JbnRlZ2VyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2OTkpO1xuXHRcblx0LyogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgZm9yIHRob3NlIHdpdGggdGhlIHNhbWUgbmFtZSBhcyBvdGhlciBgbG9kYXNoYCBtZXRob2RzLiAqL1xuXHR2YXIgbmF0aXZlTWF4ID0gTWF0aC5tYXg7XG5cdFxuXHQvKipcblx0ICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5maW5kYCBleGNlcHQgdGhhdCBpdCByZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgZmlyc3Rcblx0ICogZWxlbWVudCBgcHJlZGljYXRlYCByZXR1cm5zIHRydXRoeSBmb3IgaW5zdGVhZCBvZiB0aGUgZWxlbWVudCBpdHNlbGYuXG5cdCAqXG5cdCAqIEBzdGF0aWNcblx0ICogQG1lbWJlck9mIF9cblx0ICogQHNpbmNlIDEuMS4wXG5cdCAqIEBjYXRlZ29yeSBBcnJheVxuXHQgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cblx0ICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuXHQgKiBAcGFyYW0ge251bWJlcn0gW2Zyb21JbmRleD0wXSBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG5cdCAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBmb3VuZCBlbGVtZW50LCBlbHNlIGAtMWAuXG5cdCAqIEBleGFtcGxlXG5cdCAqXG5cdCAqIHZhciB1c2VycyA9IFtcblx0ICogICB7ICd1c2VyJzogJ2Jhcm5leScsICAnYWN0aXZlJzogZmFsc2UgfSxcblx0ICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICAnYWN0aXZlJzogZmFsc2UgfSxcblx0ICogICB7ICd1c2VyJzogJ3BlYmJsZXMnLCAnYWN0aXZlJzogdHJ1ZSB9XG5cdCAqIF07XG5cdCAqXG5cdCAqIF8uZmluZEluZGV4KHVzZXJzLCBmdW5jdGlvbihvKSB7IHJldHVybiBvLnVzZXIgPT0gJ2Jhcm5leSc7IH0pO1xuXHQgKiAvLyA9PiAwXG5cdCAqXG5cdCAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG5cdCAqIF8uZmluZEluZGV4KHVzZXJzLCB7ICd1c2VyJzogJ2ZyZWQnLCAnYWN0aXZlJzogZmFsc2UgfSk7XG5cdCAqIC8vID0+IDFcblx0ICpcblx0ICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuXHQgKiBfLmZpbmRJbmRleCh1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuXHQgKiAvLyA9PiAwXG5cdCAqXG5cdCAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuXHQgKiBfLmZpbmRJbmRleCh1c2VycywgJ2FjdGl2ZScpO1xuXHQgKiAvLyA9PiAyXG5cdCAqL1xuXHRmdW5jdGlvbiBmaW5kSW5kZXgoYXJyYXksIHByZWRpY2F0ZSwgZnJvbUluZGV4KSB7XG5cdCAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuXHQgIGlmICghbGVuZ3RoKSB7XG5cdCAgICByZXR1cm4gLTE7XG5cdCAgfVxuXHQgIHZhciBpbmRleCA9IGZyb21JbmRleCA9PSBudWxsID8gMCA6IHRvSW50ZWdlcihmcm9tSW5kZXgpO1xuXHQgIGlmIChpbmRleCA8IDApIHtcblx0ICAgIGluZGV4ID0gbmF0aXZlTWF4KGxlbmd0aCArIGluZGV4LCAwKTtcblx0ICB9XG5cdCAgcmV0dXJuIGJhc2VGaW5kSW5kZXgoYXJyYXksIGJhc2VJdGVyYXRlZShwcmVkaWNhdGUsIDMpLCBpbmRleCk7XG5cdH1cblx0XG5cdG1vZHVsZS5leHBvcnRzID0gZmluZEluZGV4O1xuXG5cbi8qKiovIH0sXG5cbi8qKiovIDY5OTpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciB0b0Zpbml0ZSA9IF9fd2VicGFja19yZXF1aXJlX18oNzAwKTtcblx0XG5cdC8qKlxuXHQgKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGFuIGludGVnZXIuXG5cdCAqXG5cdCAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBsb29zZWx5IGJhc2VkIG9uXG5cdCAqIFtgVG9JbnRlZ2VyYF0oaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXRvaW50ZWdlcikuXG5cdCAqXG5cdCAqIEBzdGF0aWNcblx0ICogQG1lbWJlck9mIF9cblx0ICogQHNpbmNlIDQuMC4wXG5cdCAqIEBjYXRlZ29yeSBMYW5nXG5cdCAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG5cdCAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBpbnRlZ2VyLlxuXHQgKiBAZXhhbXBsZVxuXHQgKlxuXHQgKiBfLnRvSW50ZWdlcigzLjIpO1xuXHQgKiAvLyA9PiAzXG5cdCAqXG5cdCAqIF8udG9JbnRlZ2VyKE51bWJlci5NSU5fVkFMVUUpO1xuXHQgKiAvLyA9PiAwXG5cdCAqXG5cdCAqIF8udG9JbnRlZ2VyKEluZmluaXR5KTtcblx0ICogLy8gPT4gMS43OTc2OTMxMzQ4NjIzMTU3ZSszMDhcblx0ICpcblx0ICogXy50b0ludGVnZXIoJzMuMicpO1xuXHQgKiAvLyA9PiAzXG5cdCAqL1xuXHRmdW5jdGlvbiB0b0ludGVnZXIodmFsdWUpIHtcblx0ICB2YXIgcmVzdWx0ID0gdG9GaW5pdGUodmFsdWUpLFxuXHQgICAgICByZW1haW5kZXIgPSByZXN1bHQgJSAxO1xuXHRcblx0ICByZXR1cm4gcmVzdWx0ID09PSByZXN1bHQgPyAocmVtYWluZGVyID8gcmVzdWx0IC0gcmVtYWluZGVyIDogcmVzdWx0KSA6IDA7XG5cdH1cblx0XG5cdG1vZHVsZS5leHBvcnRzID0gdG9JbnRlZ2VyO1xuXG5cbi8qKiovIH0sXG5cbi8qKiovIDcwMDpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciB0b051bWJlciA9IF9fd2VicGFja19yZXF1aXJlX18oNzAxKTtcblx0XG5cdC8qKiBVc2VkIGFzIHJlZmVyZW5jZXMgZm9yIHZhcmlvdXMgYE51bWJlcmAgY29uc3RhbnRzLiAqL1xuXHR2YXIgSU5GSU5JVFkgPSAxIC8gMCxcblx0ICAgIE1BWF9JTlRFR0VSID0gMS43OTc2OTMxMzQ4NjIzMTU3ZSszMDg7XG5cdFxuXHQvKipcblx0ICogQ29udmVydHMgYHZhbHVlYCB0byBhIGZpbml0ZSBudW1iZXIuXG5cdCAqXG5cdCAqIEBzdGF0aWNcblx0ICogQG1lbWJlck9mIF9cblx0ICogQHNpbmNlIDQuMTIuMFxuXHQgKiBAY2F0ZWdvcnkgTGFuZ1xuXHQgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuXHQgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgbnVtYmVyLlxuXHQgKiBAZXhhbXBsZVxuXHQgKlxuXHQgKiBfLnRvRmluaXRlKDMuMik7XG5cdCAqIC8vID0+IDMuMlxuXHQgKlxuXHQgKiBfLnRvRmluaXRlKE51bWJlci5NSU5fVkFMVUUpO1xuXHQgKiAvLyA9PiA1ZS0zMjRcblx0ICpcblx0ICogXy50b0Zpbml0ZShJbmZpbml0eSk7XG5cdCAqIC8vID0+IDEuNzk3NjkzMTM0ODYyMzE1N2UrMzA4XG5cdCAqXG5cdCAqIF8udG9GaW5pdGUoJzMuMicpO1xuXHQgKiAvLyA9PiAzLjJcblx0ICovXG5cdGZ1bmN0aW9uIHRvRmluaXRlKHZhbHVlKSB7XG5cdCAgaWYgKCF2YWx1ZSkge1xuXHQgICAgcmV0dXJuIHZhbHVlID09PSAwID8gdmFsdWUgOiAwO1xuXHQgIH1cblx0ICB2YWx1ZSA9IHRvTnVtYmVyKHZhbHVlKTtcblx0ICBpZiAodmFsdWUgPT09IElORklOSVRZIHx8IHZhbHVlID09PSAtSU5GSU5JVFkpIHtcblx0ICAgIHZhciBzaWduID0gKHZhbHVlIDwgMCA/IC0xIDogMSk7XG5cdCAgICByZXR1cm4gc2lnbiAqIE1BWF9JTlRFR0VSO1xuXHQgIH1cblx0ICByZXR1cm4gdmFsdWUgPT09IHZhbHVlID8gdmFsdWUgOiAwO1xuXHR9XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IHRvRmluaXRlO1xuXG5cbi8qKiovIH0sXG5cbi8qKiovIDcwMTpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBpc09iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oNjEyKSxcblx0ICAgIGlzU3ltYm9sID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2ODIpO1xuXHRcblx0LyoqIFVzZWQgYXMgcmVmZXJlbmNlcyBmb3IgdmFyaW91cyBgTnVtYmVyYCBjb25zdGFudHMuICovXG5cdHZhciBOQU4gPSAwIC8gMDtcblx0XG5cdC8qKiBVc2VkIHRvIG1hdGNoIGxlYWRpbmcgYW5kIHRyYWlsaW5nIHdoaXRlc3BhY2UuICovXG5cdHZhciByZVRyaW0gPSAvXlxccyt8XFxzKyQvZztcblx0XG5cdC8qKiBVc2VkIHRvIGRldGVjdCBiYWQgc2lnbmVkIGhleGFkZWNpbWFsIHN0cmluZyB2YWx1ZXMuICovXG5cdHZhciByZUlzQmFkSGV4ID0gL15bLStdMHhbMC05YS1mXSskL2k7XG5cdFxuXHQvKiogVXNlZCB0byBkZXRlY3QgYmluYXJ5IHN0cmluZyB2YWx1ZXMuICovXG5cdHZhciByZUlzQmluYXJ5ID0gL14wYlswMV0rJC9pO1xuXHRcblx0LyoqIFVzZWQgdG8gZGV0ZWN0IG9jdGFsIHN0cmluZyB2YWx1ZXMuICovXG5cdHZhciByZUlzT2N0YWwgPSAvXjBvWzAtN10rJC9pO1xuXHRcblx0LyoqIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIHdpdGhvdXQgYSBkZXBlbmRlbmN5IG9uIGByb290YC4gKi9cblx0dmFyIGZyZWVQYXJzZUludCA9IHBhcnNlSW50O1xuXHRcblx0LyoqXG5cdCAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBudW1iZXIuXG5cdCAqXG5cdCAqIEBzdGF0aWNcblx0ICogQG1lbWJlck9mIF9cblx0ICogQHNpbmNlIDQuMC4wXG5cdCAqIEBjYXRlZ29yeSBMYW5nXG5cdCAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHByb2Nlc3MuXG5cdCAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIG51bWJlci5cblx0ICogQGV4YW1wbGVcblx0ICpcblx0ICogXy50b051bWJlcigzLjIpO1xuXHQgKiAvLyA9PiAzLjJcblx0ICpcblx0ICogXy50b051bWJlcihOdW1iZXIuTUlOX1ZBTFVFKTtcblx0ICogLy8gPT4gNWUtMzI0XG5cdCAqXG5cdCAqIF8udG9OdW1iZXIoSW5maW5pdHkpO1xuXHQgKiAvLyA9PiBJbmZpbml0eVxuXHQgKlxuXHQgKiBfLnRvTnVtYmVyKCczLjInKTtcblx0ICogLy8gPT4gMy4yXG5cdCAqL1xuXHRmdW5jdGlvbiB0b051bWJlcih2YWx1ZSkge1xuXHQgIGlmICh0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicpIHtcblx0ICAgIHJldHVybiB2YWx1ZTtcblx0ICB9XG5cdCAgaWYgKGlzU3ltYm9sKHZhbHVlKSkge1xuXHQgICAgcmV0dXJuIE5BTjtcblx0ICB9XG5cdCAgaWYgKGlzT2JqZWN0KHZhbHVlKSkge1xuXHQgICAgdmFyIG90aGVyID0gdHlwZW9mIHZhbHVlLnZhbHVlT2YgPT0gJ2Z1bmN0aW9uJyA/IHZhbHVlLnZhbHVlT2YoKSA6IHZhbHVlO1xuXHQgICAgdmFsdWUgPSBpc09iamVjdChvdGhlcikgPyAob3RoZXIgKyAnJykgOiBvdGhlcjtcblx0ICB9XG5cdCAgaWYgKHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykge1xuXHQgICAgcmV0dXJuIHZhbHVlID09PSAwID8gdmFsdWUgOiArdmFsdWU7XG5cdCAgfVxuXHQgIHZhbHVlID0gdmFsdWUucmVwbGFjZShyZVRyaW0sICcnKTtcblx0ICB2YXIgaXNCaW5hcnkgPSByZUlzQmluYXJ5LnRlc3QodmFsdWUpO1xuXHQgIHJldHVybiAoaXNCaW5hcnkgfHwgcmVJc09jdGFsLnRlc3QodmFsdWUpKVxuXHQgICAgPyBmcmVlUGFyc2VJbnQodmFsdWUuc2xpY2UoMiksIGlzQmluYXJ5ID8gMiA6IDgpXG5cdCAgICA6IChyZUlzQmFkSGV4LnRlc3QodmFsdWUpID8gTkFOIDogK3ZhbHVlKTtcblx0fVxuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSB0b051bWJlcjtcblxuXG4vKioqLyB9LFxuXG4vKioqLyA3MDI6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0cy5kZWZhdWx0ID0gY3JlYXRlUHJvdG90eXBlUHJveHk7XG5cdFxuXHR2YXIgX2Fzc2lnbiA9IF9fd2VicGFja19yZXF1aXJlX18oNzAzKTtcblx0XG5cdHZhciBfYXNzaWduMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2Fzc2lnbik7XG5cdFxuXHR2YXIgX2RpZmZlcmVuY2UgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcxNyk7XG5cdFxuXHR2YXIgX2RpZmZlcmVuY2UyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGlmZmVyZW5jZSk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gY3JlYXRlUHJvdG90eXBlUHJveHkoKSB7XG5cdCAgdmFyIHByb3h5ID0ge307XG5cdCAgdmFyIGN1cnJlbnQgPSBudWxsO1xuXHQgIHZhciBtb3VudGVkSW5zdGFuY2VzID0gW107XG5cdFxuXHQgIC8qKlxuXHQgICAqIENyZWF0ZXMgYSBwcm94aWVkIHRvU3RyaW5nKCkgbWV0aG9kIHBvaW50aW5nIHRvIHRoZSBjdXJyZW50IHZlcnNpb24ncyB0b1N0cmluZygpLlxuXHQgICAqL1xuXHQgIGZ1bmN0aW9uIHByb3h5VG9TdHJpbmcobmFtZSkge1xuXHQgICAgLy8gV3JhcCB0byBhbHdheXMgY2FsbCB0aGUgY3VycmVudCB2ZXJzaW9uXG5cdCAgICByZXR1cm4gZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG5cdCAgICAgIGlmICh0eXBlb2YgY3VycmVudFtuYW1lXSA9PT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgICAgIHJldHVybiBjdXJyZW50W25hbWVdLnRvU3RyaW5nKCk7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmV0dXJuICc8bWV0aG9kIHdhcyBkZWxldGVkPic7XG5cdCAgICAgIH1cblx0ICAgIH07XG5cdCAgfVxuXHRcblx0ICAvKipcblx0ICAgKiBDcmVhdGVzIGEgcHJveGllZCBtZXRob2QgdGhhdCBjYWxscyB0aGUgY3VycmVudCB2ZXJzaW9uLCB3aGVuZXZlciBhdmFpbGFibGUuXG5cdCAgICovXG5cdCAgZnVuY3Rpb24gcHJveHlNZXRob2QobmFtZSkge1xuXHQgICAgLy8gV3JhcCB0byBhbHdheXMgY2FsbCB0aGUgY3VycmVudCB2ZXJzaW9uXG5cdCAgICB2YXIgcHJveGllZE1ldGhvZCA9IGZ1bmN0aW9uIHByb3hpZWRNZXRob2QoKSB7XG5cdCAgICAgIGlmICh0eXBlb2YgY3VycmVudFtuYW1lXSA9PT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgICAgIHJldHVybiBjdXJyZW50W25hbWVdLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdCAgICAgIH1cblx0ICAgIH07XG5cdFxuXHQgICAgLy8gQ29weSBwcm9wZXJ0aWVzIG9mIHRoZSBvcmlnaW5hbCBmdW5jdGlvbiwgaWYgYW55XG5cdCAgICAoMCwgX2Fzc2lnbjIuZGVmYXVsdCkocHJveGllZE1ldGhvZCwgY3VycmVudFtuYW1lXSk7XG5cdCAgICBwcm94aWVkTWV0aG9kLnRvU3RyaW5nID0gcHJveHlUb1N0cmluZyhuYW1lKTtcblx0XG5cdCAgICByZXR1cm4gcHJveGllZE1ldGhvZDtcblx0ICB9XG5cdFxuXHQgIC8qKlxuXHQgICAqIEF1Z21lbnRzIHRoZSBvcmlnaW5hbCBjb21wb25lbnREaWRNb3VudCB3aXRoIGluc3RhbmNlIHRyYWNraW5nLlxuXHQgICAqL1xuXHQgIGZ1bmN0aW9uIHByb3hpZWRDb21wb25lbnREaWRNb3VudCgpIHtcblx0ICAgIG1vdW50ZWRJbnN0YW5jZXMucHVzaCh0aGlzKTtcblx0ICAgIGlmICh0eXBlb2YgY3VycmVudC5jb21wb25lbnREaWRNb3VudCA9PT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgICByZXR1cm4gY3VycmVudC5jb21wb25lbnREaWRNb3VudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHQgICAgfVxuXHQgIH1cblx0ICBwcm94aWVkQ29tcG9uZW50RGlkTW91bnQudG9TdHJpbmcgPSBwcm94eVRvU3RyaW5nKCdjb21wb25lbnREaWRNb3VudCcpO1xuXHRcblx0ICAvKipcblx0ICAgKiBBdWdtZW50cyB0aGUgb3JpZ2luYWwgY29tcG9uZW50V2lsbFVubW91bnQgd2l0aCBpbnN0YW5jZSB0cmFja2luZy5cblx0ICAgKi9cblx0ICBmdW5jdGlvbiBwcm94aWVkQ29tcG9uZW50V2lsbFVubW91bnQoKSB7XG5cdCAgICB2YXIgaW5kZXggPSBtb3VudGVkSW5zdGFuY2VzLmluZGV4T2YodGhpcyk7XG5cdCAgICAvLyBVbmxlc3Mgd2UncmUgaW4gYSB3ZWlyZCBlbnZpcm9ubWVudCB3aXRob3V0IGNvbXBvbmVudERpZE1vdW50XG5cdCAgICBpZiAoaW5kZXggIT09IC0xKSB7XG5cdCAgICAgIG1vdW50ZWRJbnN0YW5jZXMuc3BsaWNlKGluZGV4LCAxKTtcblx0ICAgIH1cblx0ICAgIGlmICh0eXBlb2YgY3VycmVudC5jb21wb25lbnRXaWxsVW5tb3VudCA9PT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgICByZXR1cm4gY3VycmVudC5jb21wb25lbnRXaWxsVW5tb3VudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHQgICAgfVxuXHQgIH1cblx0ICBwcm94aWVkQ29tcG9uZW50V2lsbFVubW91bnQudG9TdHJpbmcgPSBwcm94eVRvU3RyaW5nKCdjb21wb25lbnRXaWxsVW5tb3VudCcpO1xuXHRcblx0ICAvKipcblx0ICAgKiBEZWZpbmVzIGEgcHJvcGVydHkgb24gdGhlIHByb3h5LlxuXHQgICAqL1xuXHQgIGZ1bmN0aW9uIGRlZmluZVByb3h5UHJvcGVydHkobmFtZSwgZGVzY3JpcHRvcikge1xuXHQgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHByb3h5LCBuYW1lLCBkZXNjcmlwdG9yKTtcblx0ICB9XG5cdFxuXHQgIC8qKlxuXHQgICAqIERlZmluZXMgYSBwcm9wZXJ0eSwgYXR0ZW1wdGluZyB0byBrZWVwIHRoZSBvcmlnaW5hbCBkZXNjcmlwdG9yIGNvbmZpZ3VyYXRpb24uXG5cdCAgICovXG5cdCAgZnVuY3Rpb24gZGVmaW5lUHJveHlQcm9wZXJ0eVdpdGhWYWx1ZShuYW1lLCB2YWx1ZSkge1xuXHQgICAgdmFyIF9yZWYgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGN1cnJlbnQsIG5hbWUpIHx8IHt9O1xuXHRcblx0ICAgIHZhciBfcmVmJGVudW1lcmFibGUgPSBfcmVmLmVudW1lcmFibGU7XG5cdCAgICB2YXIgZW51bWVyYWJsZSA9IF9yZWYkZW51bWVyYWJsZSA9PT0gdW5kZWZpbmVkID8gZmFsc2UgOiBfcmVmJGVudW1lcmFibGU7XG5cdCAgICB2YXIgX3JlZiR3cml0YWJsZSA9IF9yZWYud3JpdGFibGU7XG5cdCAgICB2YXIgd3JpdGFibGUgPSBfcmVmJHdyaXRhYmxlID09PSB1bmRlZmluZWQgPyB0cnVlIDogX3JlZiR3cml0YWJsZTtcblx0XG5cdFxuXHQgICAgZGVmaW5lUHJveHlQcm9wZXJ0eShuYW1lLCB7XG5cdCAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcblx0ICAgICAgZW51bWVyYWJsZTogZW51bWVyYWJsZSxcblx0ICAgICAgd3JpdGFibGU6IHdyaXRhYmxlLFxuXHQgICAgICB2YWx1ZTogdmFsdWVcblx0ICAgIH0pO1xuXHQgIH1cblx0XG5cdCAgLyoqXG5cdCAgICogQ3JlYXRlcyBhbiBhdXRvLWJpbmQgbWFwIG1pbWlja2luZyB0aGUgb3JpZ2luYWwgbWFwLCBidXQgZGlyZWN0ZWQgYXQgcHJveHkuXG5cdCAgICovXG5cdCAgZnVuY3Rpb24gY3JlYXRlQXV0b0JpbmRNYXAoKSB7XG5cdCAgICBpZiAoIWN1cnJlbnQuX19yZWFjdEF1dG9CaW5kTWFwKSB7XG5cdCAgICAgIHJldHVybjtcblx0ICAgIH1cblx0XG5cdCAgICB2YXIgX19yZWFjdEF1dG9CaW5kTWFwID0ge307XG5cdCAgICBmb3IgKHZhciBuYW1lIGluIGN1cnJlbnQuX19yZWFjdEF1dG9CaW5kTWFwKSB7XG5cdCAgICAgIGlmICh0eXBlb2YgcHJveHlbbmFtZV0gPT09ICdmdW5jdGlvbicgJiYgY3VycmVudC5fX3JlYWN0QXV0b0JpbmRNYXAuaGFzT3duUHJvcGVydHkobmFtZSkpIHtcblx0ICAgICAgICBfX3JlYWN0QXV0b0JpbmRNYXBbbmFtZV0gPSBwcm94eVtuYW1lXTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiBfX3JlYWN0QXV0b0JpbmRNYXA7XG5cdCAgfVxuXHRcblx0ICAvKipcblx0ICAgKiBDcmVhdGVzIGFuIGF1dG8tYmluZCBtYXAgbWltaWNraW5nIHRoZSBvcmlnaW5hbCBtYXAsIGJ1dCBkaXJlY3RlZCBhdCBwcm94eS5cblx0ICAgKi9cblx0ICBmdW5jdGlvbiBjcmVhdGVBdXRvQmluZFBhaXJzKCkge1xuXHQgICAgdmFyIF9fcmVhY3RBdXRvQmluZFBhaXJzID0gW107XG5cdFxuXHQgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjdXJyZW50Ll9fcmVhY3RBdXRvQmluZFBhaXJzLmxlbmd0aDsgaSArPSAyKSB7XG5cdCAgICAgIHZhciBuYW1lID0gY3VycmVudC5fX3JlYWN0QXV0b0JpbmRQYWlyc1tpXTtcblx0ICAgICAgdmFyIG1ldGhvZCA9IHByb3h5W25hbWVdO1xuXHRcblx0ICAgICAgaWYgKHR5cGVvZiBtZXRob2QgPT09ICdmdW5jdGlvbicpIHtcblx0ICAgICAgICBfX3JlYWN0QXV0b0JpbmRQYWlycy5wdXNoKG5hbWUsIG1ldGhvZCk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gX19yZWFjdEF1dG9CaW5kUGFpcnM7XG5cdCAgfVxuXHRcblx0ICAvKipcblx0ICAgKiBBcHBsaWVzIHRoZSB1cGRhdGVkIHByb3RvdHlwZS5cblx0ICAgKi9cblx0ICBmdW5jdGlvbiB1cGRhdGUobmV4dCkge1xuXHQgICAgLy8gU2F2ZSBjdXJyZW50IHNvdXJjZSBvZiB0cnV0aFxuXHQgICAgY3VycmVudCA9IG5leHQ7XG5cdFxuXHQgICAgLy8gRmluZCBjaGFuZ2VkIHByb3BlcnR5IG5hbWVzXG5cdCAgICB2YXIgY3VycmVudE5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoY3VycmVudCk7XG5cdCAgICB2YXIgcHJldmlvdXNOYW1lID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMocHJveHkpO1xuXHQgICAgdmFyIHJlbW92ZWROYW1lcyA9ICgwLCBfZGlmZmVyZW5jZTIuZGVmYXVsdCkocHJldmlvdXNOYW1lLCBjdXJyZW50TmFtZXMpO1xuXHRcblx0ICAgIC8vIFJlbW92ZSBwcm9wZXJ0aWVzIGFuZCBtZXRob2RzIHRoYXQgYXJlIG5vIGxvbmdlciB0aGVyZVxuXHQgICAgcmVtb3ZlZE5hbWVzLmZvckVhY2goZnVuY3Rpb24gKG5hbWUpIHtcblx0ICAgICAgZGVsZXRlIHByb3h5W25hbWVdO1xuXHQgICAgfSk7XG5cdFxuXHQgICAgLy8gQ29weSBldmVyeSBkZXNjcmlwdG9yXG5cdCAgICBjdXJyZW50TmFtZXMuZm9yRWFjaChmdW5jdGlvbiAobmFtZSkge1xuXHQgICAgICB2YXIgZGVzY3JpcHRvciA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoY3VycmVudCwgbmFtZSk7XG5cdCAgICAgIGlmICh0eXBlb2YgZGVzY3JpcHRvci52YWx1ZSA9PT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgICAgIC8vIEZ1bmN0aW9ucyByZXF1aXJlIGFkZGl0aW9uYWwgd3JhcHBpbmcgc28gdGhleSBjYW4gYmUgYm91bmQgbGF0ZXJcblx0ICAgICAgICBkZWZpbmVQcm94eVByb3BlcnR5V2l0aFZhbHVlKG5hbWUsIHByb3h5TWV0aG9kKG5hbWUpKTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAvLyBPdGhlciB2YWx1ZXMgY2FuIGJlIGNvcGllZCBkaXJlY3RseVxuXHQgICAgICAgIGRlZmluZVByb3h5UHJvcGVydHkobmFtZSwgZGVzY3JpcHRvcik7XG5cdCAgICAgIH1cblx0ICAgIH0pO1xuXHRcblx0ICAgIC8vIFRyYWNrIG1vdW50aW5nIGFuZCB1bm1vdW50aW5nXG5cdCAgICBkZWZpbmVQcm94eVByb3BlcnR5V2l0aFZhbHVlKCdjb21wb25lbnREaWRNb3VudCcsIHByb3hpZWRDb21wb25lbnREaWRNb3VudCk7XG5cdCAgICBkZWZpbmVQcm94eVByb3BlcnR5V2l0aFZhbHVlKCdjb21wb25lbnRXaWxsVW5tb3VudCcsIHByb3hpZWRDb21wb25lbnRXaWxsVW5tb3VudCk7XG5cdFxuXHQgICAgaWYgKGN1cnJlbnQuaGFzT3duUHJvcGVydHkoJ19fcmVhY3RBdXRvQmluZE1hcCcpKSB7XG5cdCAgICAgIGRlZmluZVByb3h5UHJvcGVydHlXaXRoVmFsdWUoJ19fcmVhY3RBdXRvQmluZE1hcCcsIGNyZWF0ZUF1dG9CaW5kTWFwKCkpO1xuXHQgICAgfVxuXHRcblx0ICAgIGlmIChjdXJyZW50Lmhhc093blByb3BlcnR5KCdfX3JlYWN0QXV0b0JpbmRQYWlycycpKSB7XG5cdCAgICAgIGRlZmluZVByb3h5UHJvcGVydHlXaXRoVmFsdWUoJ19fcmVhY3RBdXRvQmluZFBhaXJzJywgY3JlYXRlQXV0b0JpbmRQYWlycygpKTtcblx0ICAgIH1cblx0XG5cdCAgICAvLyBTZXQgdXAgdGhlIHByb3RvdHlwZSBjaGFpblxuXHQgICAgcHJveHkuX19wcm90b19fID0gbmV4dDtcblx0XG5cdCAgICByZXR1cm4gbW91bnRlZEluc3RhbmNlcztcblx0ICB9XG5cdFxuXHQgIC8qKlxuXHQgICAqIFJldHVybnMgdGhlIHVwLXRvLWRhdGUgcHJveHkgcHJvdG90eXBlLlxuXHQgICAqL1xuXHQgIGZ1bmN0aW9uIGdldCgpIHtcblx0ICAgIHJldHVybiBwcm94eTtcblx0ICB9XG5cdFxuXHQgIHJldHVybiB7XG5cdCAgICB1cGRhdGU6IHVwZGF0ZSxcblx0ICAgIGdldDogZ2V0XG5cdCAgfTtcblx0fTtcblxuLyoqKi8gfSxcblxuLyoqKi8gNzAzOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIGFzc2lnblZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MDQpLFxuXHQgICAgY29weU9iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oNzA3KSxcblx0ICAgIGNyZWF0ZUFzc2lnbmVyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MDgpLFxuXHQgICAgaXNBcnJheUxpa2UgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY2OCksXG5cdCAgICBpc1Byb3RvdHlwZSA9IF9fd2VicGFja19yZXF1aXJlX18oNjY2KSxcblx0ICAgIGtleXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY1Mik7XG5cdFxuXHQvKiogVXNlZCBmb3IgYnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMuICovXG5cdHZhciBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cdFxuXHQvKiogVXNlZCB0byBjaGVjayBvYmplY3RzIGZvciBvd24gcHJvcGVydGllcy4gKi9cblx0dmFyIGhhc093blByb3BlcnR5ID0gb2JqZWN0UHJvdG8uaGFzT3duUHJvcGVydHk7XG5cdFxuXHQvKipcblx0ICogQXNzaWducyBvd24gZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydGllcyBvZiBzb3VyY2Ugb2JqZWN0cyB0byB0aGVcblx0ICogZGVzdGluYXRpb24gb2JqZWN0LiBTb3VyY2Ugb2JqZWN0cyBhcmUgYXBwbGllZCBmcm9tIGxlZnQgdG8gcmlnaHQuXG5cdCAqIFN1YnNlcXVlbnQgc291cmNlcyBvdmVyd3JpdGUgcHJvcGVydHkgYXNzaWdubWVudHMgb2YgcHJldmlvdXMgc291cmNlcy5cblx0ICpcblx0ICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAgYW5kIGlzIGxvb3NlbHkgYmFzZWQgb25cblx0ICogW2BPYmplY3QuYXNzaWduYF0oaHR0cHM6Ly9tZG4uaW8vT2JqZWN0L2Fzc2lnbikuXG5cdCAqXG5cdCAqIEBzdGF0aWNcblx0ICogQG1lbWJlck9mIF9cblx0ICogQHNpbmNlIDAuMTAuMFxuXHQgKiBAY2F0ZWdvcnkgT2JqZWN0XG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cblx0ICogQHBhcmFtIHsuLi5PYmplY3R9IFtzb3VyY2VzXSBUaGUgc291cmNlIG9iamVjdHMuXG5cdCAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG5cdCAqIEBzZWUgXy5hc3NpZ25JblxuXHQgKiBAZXhhbXBsZVxuXHQgKlxuXHQgKiBmdW5jdGlvbiBGb28oKSB7XG5cdCAqICAgdGhpcy5hID0gMTtcblx0ICogfVxuXHQgKlxuXHQgKiBmdW5jdGlvbiBCYXIoKSB7XG5cdCAqICAgdGhpcy5jID0gMztcblx0ICogfVxuXHQgKlxuXHQgKiBGb28ucHJvdG90eXBlLmIgPSAyO1xuXHQgKiBCYXIucHJvdG90eXBlLmQgPSA0O1xuXHQgKlxuXHQgKiBfLmFzc2lnbih7ICdhJzogMCB9LCBuZXcgRm9vLCBuZXcgQmFyKTtcblx0ICogLy8gPT4geyAnYSc6IDEsICdjJzogMyB9XG5cdCAqL1xuXHR2YXIgYXNzaWduID0gY3JlYXRlQXNzaWduZXIoZnVuY3Rpb24ob2JqZWN0LCBzb3VyY2UpIHtcblx0ICBpZiAoaXNQcm90b3R5cGUoc291cmNlKSB8fCBpc0FycmF5TGlrZShzb3VyY2UpKSB7XG5cdCAgICBjb3B5T2JqZWN0KHNvdXJjZSwga2V5cyhzb3VyY2UpLCBvYmplY3QpO1xuXHQgICAgcmV0dXJuO1xuXHQgIH1cblx0ICBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7XG5cdCAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHtcblx0ICAgICAgYXNzaWduVmFsdWUob2JqZWN0LCBrZXksIHNvdXJjZVtrZXldKTtcblx0ICAgIH1cblx0ICB9XG5cdH0pO1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBhc3NpZ247XG5cblxuLyoqKi8gfSxcblxuLyoqKi8gNzA0OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIGJhc2VBc3NpZ25WYWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18oNzA1KSxcblx0ICAgIGVxID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1OTkpO1xuXHRcblx0LyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xuXHR2YXIgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXHRcblx0LyoqIFVzZWQgdG8gY2hlY2sgb2JqZWN0cyBmb3Igb3duIHByb3BlcnRpZXMuICovXG5cdHZhciBoYXNPd25Qcm9wZXJ0eSA9IG9iamVjdFByb3RvLmhhc093blByb3BlcnR5O1xuXHRcblx0LyoqXG5cdCAqIEFzc2lnbnMgYHZhbHVlYCB0byBga2V5YCBvZiBgb2JqZWN0YCBpZiB0aGUgZXhpc3RpbmcgdmFsdWUgaXMgbm90IGVxdWl2YWxlbnRcblx0ICogdXNpbmcgW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcblx0ICogZm9yIGVxdWFsaXR5IGNvbXBhcmlzb25zLlxuXHQgKlxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuXHQgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGFzc2lnbi5cblx0ICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gYXNzaWduLlxuXHQgKi9cblx0ZnVuY3Rpb24gYXNzaWduVmFsdWUob2JqZWN0LCBrZXksIHZhbHVlKSB7XG5cdCAgdmFyIG9ialZhbHVlID0gb2JqZWN0W2tleV07XG5cdCAgaWYgKCEoaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIGtleSkgJiYgZXEob2JqVmFsdWUsIHZhbHVlKSkgfHxcblx0ICAgICAgKHZhbHVlID09PSB1bmRlZmluZWQgJiYgIShrZXkgaW4gb2JqZWN0KSkpIHtcblx0ICAgIGJhc2VBc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgdmFsdWUpO1xuXHQgIH1cblx0fVxuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBhc3NpZ25WYWx1ZTtcblxuXG4vKioqLyB9LFxuXG4vKioqLyA3MDc6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgYXNzaWduVmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcwNCksXG5cdCAgICBiYXNlQXNzaWduVmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcwNSk7XG5cdFxuXHQvKipcblx0ICogQ29waWVzIHByb3BlcnRpZXMgb2YgYHNvdXJjZWAgdG8gYG9iamVjdGAuXG5cdCAqXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCB0byBjb3B5IHByb3BlcnRpZXMgZnJvbS5cblx0ICogQHBhcmFtIHtBcnJheX0gcHJvcHMgVGhlIHByb3BlcnR5IGlkZW50aWZpZXJzIHRvIGNvcHkuXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0PXt9XSBUaGUgb2JqZWN0IHRvIGNvcHkgcHJvcGVydGllcyB0by5cblx0ICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29waWVkIHZhbHVlcy5cblx0ICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cblx0ICovXG5cdGZ1bmN0aW9uIGNvcHlPYmplY3Qoc291cmNlLCBwcm9wcywgb2JqZWN0LCBjdXN0b21pemVyKSB7XG5cdCAgdmFyIGlzTmV3ID0gIW9iamVjdDtcblx0ICBvYmplY3QgfHwgKG9iamVjdCA9IHt9KTtcblx0XG5cdCAgdmFyIGluZGV4ID0gLTEsXG5cdCAgICAgIGxlbmd0aCA9IHByb3BzLmxlbmd0aDtcblx0XG5cdCAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcblx0ICAgIHZhciBrZXkgPSBwcm9wc1tpbmRleF07XG5cdFxuXHQgICAgdmFyIG5ld1ZhbHVlID0gY3VzdG9taXplclxuXHQgICAgICA/IGN1c3RvbWl6ZXIob2JqZWN0W2tleV0sIHNvdXJjZVtrZXldLCBrZXksIG9iamVjdCwgc291cmNlKVxuXHQgICAgICA6IHVuZGVmaW5lZDtcblx0XG5cdCAgICBpZiAobmV3VmFsdWUgPT09IHVuZGVmaW5lZCkge1xuXHQgICAgICBuZXdWYWx1ZSA9IHNvdXJjZVtrZXldO1xuXHQgICAgfVxuXHQgICAgaWYgKGlzTmV3KSB7XG5cdCAgICAgIGJhc2VBc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgbmV3VmFsdWUpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgYXNzaWduVmFsdWUob2JqZWN0LCBrZXksIG5ld1ZhbHVlKTtcblx0ICAgIH1cblx0ICB9XG5cdCAgcmV0dXJuIG9iamVjdDtcblx0fVxuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBjb3B5T2JqZWN0O1xuXG5cbi8qKiovIH0sXG5cbi8qKiovIDcwODpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBiYXNlUmVzdCA9IF9fd2VicGFja19yZXF1aXJlX18oNzA5KSxcblx0ICAgIGlzSXRlcmF0ZWVDYWxsID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MTYpO1xuXHRcblx0LyoqXG5cdCAqIENyZWF0ZXMgYSBmdW5jdGlvbiBsaWtlIGBfLmFzc2lnbmAuXG5cdCAqXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IGFzc2lnbmVyIFRoZSBmdW5jdGlvbiB0byBhc3NpZ24gdmFsdWVzLlxuXHQgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBhc3NpZ25lciBmdW5jdGlvbi5cblx0ICovXG5cdGZ1bmN0aW9uIGNyZWF0ZUFzc2lnbmVyKGFzc2lnbmVyKSB7XG5cdCAgcmV0dXJuIGJhc2VSZXN0KGZ1bmN0aW9uKG9iamVjdCwgc291cmNlcykge1xuXHQgICAgdmFyIGluZGV4ID0gLTEsXG5cdCAgICAgICAgbGVuZ3RoID0gc291cmNlcy5sZW5ndGgsXG5cdCAgICAgICAgY3VzdG9taXplciA9IGxlbmd0aCA+IDEgPyBzb3VyY2VzW2xlbmd0aCAtIDFdIDogdW5kZWZpbmVkLFxuXHQgICAgICAgIGd1YXJkID0gbGVuZ3RoID4gMiA/IHNvdXJjZXNbMl0gOiB1bmRlZmluZWQ7XG5cdFxuXHQgICAgY3VzdG9taXplciA9IChhc3NpZ25lci5sZW5ndGggPiAzICYmIHR5cGVvZiBjdXN0b21pemVyID09ICdmdW5jdGlvbicpXG5cdCAgICAgID8gKGxlbmd0aC0tLCBjdXN0b21pemVyKVxuXHQgICAgICA6IHVuZGVmaW5lZDtcblx0XG5cdCAgICBpZiAoZ3VhcmQgJiYgaXNJdGVyYXRlZUNhbGwoc291cmNlc1swXSwgc291cmNlc1sxXSwgZ3VhcmQpKSB7XG5cdCAgICAgIGN1c3RvbWl6ZXIgPSBsZW5ndGggPCAzID8gdW5kZWZpbmVkIDogY3VzdG9taXplcjtcblx0ICAgICAgbGVuZ3RoID0gMTtcblx0ICAgIH1cblx0ICAgIG9iamVjdCA9IE9iamVjdChvYmplY3QpO1xuXHQgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcblx0ICAgICAgdmFyIHNvdXJjZSA9IHNvdXJjZXNbaW5kZXhdO1xuXHQgICAgICBpZiAoc291cmNlKSB7XG5cdCAgICAgICAgYXNzaWduZXIob2JqZWN0LCBzb3VyY2UsIGluZGV4LCBjdXN0b21pemVyKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgICAgcmV0dXJuIG9iamVjdDtcblx0ICB9KTtcblx0fVxuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBjcmVhdGVBc3NpZ25lcjtcblxuXG4vKioqLyB9LFxuXG4vKioqLyA3MTY6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgZXEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU5OSksXG5cdCAgICBpc0FycmF5TGlrZSA9IF9fd2VicGFja19yZXF1aXJlX18oNjY4KSxcblx0ICAgIGlzSW5kZXggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY1OSksXG5cdCAgICBpc09iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oNjEyKTtcblx0XG5cdC8qKlxuXHQgKiBDaGVja3MgaWYgdGhlIGdpdmVuIGFyZ3VtZW50cyBhcmUgZnJvbSBhbiBpdGVyYXRlZSBjYWxsLlxuXHQgKlxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSBwb3RlbnRpYWwgaXRlcmF0ZWUgdmFsdWUgYXJndW1lbnQuXG5cdCAqIEBwYXJhbSB7Kn0gaW5kZXggVGhlIHBvdGVudGlhbCBpdGVyYXRlZSBpbmRleCBvciBrZXkgYXJndW1lbnQuXG5cdCAqIEBwYXJhbSB7Kn0gb2JqZWN0IFRoZSBwb3RlbnRpYWwgaXRlcmF0ZWUgb2JqZWN0IGFyZ3VtZW50LlxuXHQgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGFyZ3VtZW50cyBhcmUgZnJvbSBhbiBpdGVyYXRlZSBjYWxsLFxuXHQgKiAgZWxzZSBgZmFsc2VgLlxuXHQgKi9cblx0ZnVuY3Rpb24gaXNJdGVyYXRlZUNhbGwodmFsdWUsIGluZGV4LCBvYmplY3QpIHtcblx0ICBpZiAoIWlzT2JqZWN0KG9iamVjdCkpIHtcblx0ICAgIHJldHVybiBmYWxzZTtcblx0ICB9XG5cdCAgdmFyIHR5cGUgPSB0eXBlb2YgaW5kZXg7XG5cdCAgaWYgKHR5cGUgPT0gJ251bWJlcidcblx0ICAgICAgICA/IChpc0FycmF5TGlrZShvYmplY3QpICYmIGlzSW5kZXgoaW5kZXgsIG9iamVjdC5sZW5ndGgpKVxuXHQgICAgICAgIDogKHR5cGUgPT0gJ3N0cmluZycgJiYgaW5kZXggaW4gb2JqZWN0KVxuXHQgICAgICApIHtcblx0ICAgIHJldHVybiBlcShvYmplY3RbaW5kZXhdLCB2YWx1ZSk7XG5cdCAgfVxuXHQgIHJldHVybiBmYWxzZTtcblx0fVxuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBpc0l0ZXJhdGVlQ2FsbDtcblxuXG4vKioqLyB9LFxuXG4vKioqLyA3Mjc6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0cy5kZWZhdWx0ID0gYmluZEF1dG9CaW5kTWV0aG9kcztcblx0LyoqXG5cdCAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG5cdCAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG5cdCAqXG5cdCAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuXHQgKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIFJlYWN0IHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG5cdCAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuXHQgKlxuXHQgKiBPcmlnaW5hbDpcblx0ICogaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0L2Jsb2IvNjUwOGIxYWQyNzNhNmYzNzFlOGQ5MGFlNjc2ZTUzOTAxOTk0NjFiNC9zcmMvaXNvbW9ycGhpYy9jbGFzc2ljL2NsYXNzL1JlYWN0Q2xhc3MuanMjTDY1MC1MNzEzXG5cdCAqL1xuXHRcblx0ZnVuY3Rpb24gYmluZEF1dG9CaW5kTWV0aG9kKGNvbXBvbmVudCwgbWV0aG9kKSB7XG5cdCAgdmFyIGJvdW5kTWV0aG9kID0gbWV0aG9kLmJpbmQoY29tcG9uZW50KTtcblx0XG5cdCAgYm91bmRNZXRob2QuX19yZWFjdEJvdW5kQ29udGV4dCA9IGNvbXBvbmVudDtcblx0ICBib3VuZE1ldGhvZC5fX3JlYWN0Qm91bmRNZXRob2QgPSBtZXRob2Q7XG5cdCAgYm91bmRNZXRob2QuX19yZWFjdEJvdW5kQXJndW1lbnRzID0gbnVsbDtcblx0XG5cdCAgdmFyIGNvbXBvbmVudE5hbWUgPSBjb21wb25lbnQuY29uc3RydWN0b3IuZGlzcGxheU5hbWUsXG5cdCAgICAgIF9iaW5kID0gYm91bmRNZXRob2QuYmluZDtcblx0XG5cdCAgYm91bmRNZXRob2QuYmluZCA9IGZ1bmN0aW9uIChuZXdUaGlzKSB7XG5cdCAgICB2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG5cdCAgICBpZiAobmV3VGhpcyAhPT0gY29tcG9uZW50ICYmIG5ld1RoaXMgIT09IG51bGwpIHtcblx0ICAgICAgY29uc29sZS53YXJuKCdiaW5kKCk6IFJlYWN0IGNvbXBvbmVudCBtZXRob2RzIG1heSBvbmx5IGJlIGJvdW5kIHRvIHRoZSAnICsgJ2NvbXBvbmVudCBpbnN0YW5jZS4gU2VlICcgKyBjb21wb25lbnROYW1lKTtcblx0ICAgIH0gZWxzZSBpZiAoIWFyZ3MubGVuZ3RoKSB7XG5cdCAgICAgIGNvbnNvbGUud2FybignYmluZCgpOiBZb3UgYXJlIGJpbmRpbmcgYSBjb21wb25lbnQgbWV0aG9kIHRvIHRoZSBjb21wb25lbnQuICcgKyAnUmVhY3QgZG9lcyB0aGlzIGZvciB5b3UgYXV0b21hdGljYWxseSBpbiBhIGhpZ2gtcGVyZm9ybWFuY2UgJyArICd3YXksIHNvIHlvdSBjYW4gc2FmZWx5IHJlbW92ZSB0aGlzIGNhbGwuIFNlZSAnICsgY29tcG9uZW50TmFtZSk7XG5cdCAgICAgIHJldHVybiBib3VuZE1ldGhvZDtcblx0ICAgIH1cblx0XG5cdCAgICB2YXIgcmVib3VuZE1ldGhvZCA9IF9iaW5kLmFwcGx5KGJvdW5kTWV0aG9kLCBhcmd1bWVudHMpO1xuXHQgICAgcmVib3VuZE1ldGhvZC5fX3JlYWN0Qm91bmRDb250ZXh0ID0gY29tcG9uZW50O1xuXHQgICAgcmVib3VuZE1ldGhvZC5fX3JlYWN0Qm91bmRNZXRob2QgPSBtZXRob2Q7XG5cdCAgICByZWJvdW5kTWV0aG9kLl9fcmVhY3RCb3VuZEFyZ3VtZW50cyA9IGFyZ3M7XG5cdFxuXHQgICAgcmV0dXJuIHJlYm91bmRNZXRob2Q7XG5cdCAgfTtcblx0XG5cdCAgcmV0dXJuIGJvdW5kTWV0aG9kO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBiaW5kQXV0b0JpbmRNZXRob2RzRnJvbU1hcChjb21wb25lbnQpIHtcblx0ICBmb3IgKHZhciBhdXRvQmluZEtleSBpbiBjb21wb25lbnQuX19yZWFjdEF1dG9CaW5kTWFwKSB7XG5cdCAgICBpZiAoIWNvbXBvbmVudC5fX3JlYWN0QXV0b0JpbmRNYXAuaGFzT3duUHJvcGVydHkoYXV0b0JpbmRLZXkpKSB7XG5cdCAgICAgIHJldHVybjtcblx0ICAgIH1cblx0XG5cdCAgICAvLyBUd2Vhazogc2tpcCBtZXRob2RzIHRoYXQgYXJlIGFscmVhZHkgYm91bmQuXG5cdCAgICAvLyBUaGlzIGlzIHRvIHByZXNlcnZlIG1ldGhvZCByZWZlcmVuY2UgaW4gY2FzZSBpdCBpcyB1c2VkXG5cdCAgICAvLyBhcyBhIHN1YnNjcmlwdGlvbiBoYW5kbGVyIHRoYXQgbmVlZHMgdG8gYmUgZGV0YWNoZWQgbGF0ZXIuXG5cdCAgICBpZiAoY29tcG9uZW50Lmhhc093blByb3BlcnR5KGF1dG9CaW5kS2V5KSAmJiBjb21wb25lbnRbYXV0b0JpbmRLZXldLl9fcmVhY3RCb3VuZENvbnRleHQgPT09IGNvbXBvbmVudCkge1xuXHQgICAgICBjb250aW51ZTtcblx0ICAgIH1cblx0XG5cdCAgICB2YXIgbWV0aG9kID0gY29tcG9uZW50Ll9fcmVhY3RBdXRvQmluZE1hcFthdXRvQmluZEtleV07XG5cdCAgICBjb21wb25lbnRbYXV0b0JpbmRLZXldID0gYmluZEF1dG9CaW5kTWV0aG9kKGNvbXBvbmVudCwgbWV0aG9kKTtcblx0ICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGJpbmRBdXRvQmluZE1ldGhvZHMoY29tcG9uZW50KSB7XG5cdCAgaWYgKGNvbXBvbmVudC5fX3JlYWN0QXV0b0JpbmRQYWlycykge1xuXHQgICAgYmluZEF1dG9CaW5kTWV0aG9kc0Zyb21BcnJheShjb21wb25lbnQpO1xuXHQgIH0gZWxzZSBpZiAoY29tcG9uZW50Ll9fcmVhY3RBdXRvQmluZE1hcCkge1xuXHQgICAgYmluZEF1dG9CaW5kTWV0aG9kc0Zyb21NYXAoY29tcG9uZW50KTtcblx0ICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGJpbmRBdXRvQmluZE1ldGhvZHNGcm9tQXJyYXkoY29tcG9uZW50KSB7XG5cdCAgdmFyIHBhaXJzID0gY29tcG9uZW50Ll9fcmVhY3RBdXRvQmluZFBhaXJzO1xuXHRcblx0ICBpZiAoIXBhaXJzKSB7XG5cdCAgICByZXR1cm47XG5cdCAgfVxuXHRcblx0ICBmb3IgKHZhciBpID0gMDsgaSA8IHBhaXJzLmxlbmd0aDsgaSArPSAyKSB7XG5cdCAgICB2YXIgYXV0b0JpbmRLZXkgPSBwYWlyc1tpXTtcblx0XG5cdCAgICBpZiAoY29tcG9uZW50Lmhhc093blByb3BlcnR5KGF1dG9CaW5kS2V5KSAmJiBjb21wb25lbnRbYXV0b0JpbmRLZXldLl9fcmVhY3RCb3VuZENvbnRleHQgPT09IGNvbXBvbmVudCkge1xuXHQgICAgICBjb250aW51ZTtcblx0ICAgIH1cblx0XG5cdCAgICB2YXIgbWV0aG9kID0gcGFpcnNbaSArIDFdO1xuXHRcblx0ICAgIGNvbXBvbmVudFthdXRvQmluZEtleV0gPSBiaW5kQXV0b0JpbmRNZXRob2QoY29tcG9uZW50LCBtZXRob2QpO1xuXHQgIH1cblx0fVxuXG4vKioqLyB9LFxuXG4vKioqLyA3Mjg6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0cy5kZWZhdWx0ID0gZGVsZXRlVW5rbm93bkF1dG9CaW5kTWV0aG9kcztcblx0ZnVuY3Rpb24gc2hvdWxkRGVsZXRlQ2xhc3NpY0luc3RhbmNlTWV0aG9kKGNvbXBvbmVudCwgbmFtZSkge1xuXHQgIGlmIChjb21wb25lbnQuX19yZWFjdEF1dG9CaW5kTWFwICYmIGNvbXBvbmVudC5fX3JlYWN0QXV0b0JpbmRNYXAuaGFzT3duUHJvcGVydHkobmFtZSkpIHtcblx0ICAgIC8vIEl0J3MgYSBrbm93biBhdXRvYm91bmQgZnVuY3Rpb24sIGtlZXAgaXRcblx0ICAgIHJldHVybiBmYWxzZTtcblx0ICB9XG5cdFxuXHQgIGlmIChjb21wb25lbnQuX19yZWFjdEF1dG9CaW5kUGFpcnMgJiYgY29tcG9uZW50Ll9fcmVhY3RBdXRvQmluZFBhaXJzLmluZGV4T2YobmFtZSkgPj0gMCkge1xuXHQgICAgLy8gSXQncyBhIGtub3duIGF1dG9ib3VuZCBmdW5jdGlvbiwga2VlcCBpdFxuXHQgICAgcmV0dXJuIGZhbHNlO1xuXHQgIH1cblx0XG5cdCAgaWYgKGNvbXBvbmVudFtuYW1lXS5fX3JlYWN0Qm91bmRBcmd1bWVudHMgIT09IG51bGwpIHtcblx0ICAgIC8vIEl0J3MgYSBmdW5jdGlvbiBib3VuZCB0byBzcGVjaWZpYyBhcmdzLCBrZWVwIGl0XG5cdCAgICByZXR1cm4gZmFsc2U7XG5cdCAgfVxuXHRcblx0ICAvLyBJdCdzIGEgY2FjaGVkIGJvdW5kIG1ldGhvZCBmb3IgYSBmdW5jdGlvblxuXHQgIC8vIHRoYXQgd2FzIGRlbGV0ZWQgYnkgdXNlciwgc28gd2UgZGVsZXRlIGl0IGZyb20gY29tcG9uZW50LlxuXHQgIHJldHVybiB0cnVlO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBzaG91bGREZWxldGVNb2Rlcm5JbnN0YW5jZU1ldGhvZChjb21wb25lbnQsIG5hbWUpIHtcblx0ICB2YXIgcHJvdG90eXBlID0gY29tcG9uZW50LmNvbnN0cnVjdG9yLnByb3RvdHlwZTtcblx0XG5cdCAgdmFyIHByb3RvdHlwZURlc2NyaXB0b3IgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHByb3RvdHlwZSwgbmFtZSk7XG5cdFxuXHQgIGlmICghcHJvdG90eXBlRGVzY3JpcHRvciB8fCAhcHJvdG90eXBlRGVzY3JpcHRvci5nZXQpIHtcblx0ICAgIC8vIFRoaXMgaXMgZGVmaW5pdGVseSBub3QgYW4gYXV0b2JpbmRpbmcgZ2V0dGVyXG5cdCAgICByZXR1cm4gZmFsc2U7XG5cdCAgfVxuXHRcblx0ICBpZiAocHJvdG90eXBlRGVzY3JpcHRvci5nZXQoKS5sZW5ndGggIT09IGNvbXBvbmVudFtuYW1lXS5sZW5ndGgpIHtcblx0ICAgIC8vIFRoZSBsZW5ndGggZG9lc24ndCBtYXRjaCwgYmFpbCBvdXRcblx0ICAgIHJldHVybiBmYWxzZTtcblx0ICB9XG5cdFxuXHQgIC8vIFRoaXMgc2VlbXMgbGlrZSBhIG1ldGhvZCBib3VuZCB1c2luZyBhbiBhdXRvYmluZGluZyBnZXR0ZXIgb24gdGhlIHByb3RvdHlwZVxuXHQgIC8vIEhvcGVmdWxseSB3ZSB3b24ndCBydW4gaW50byB0b28gbWFueSBmYWxzZSBwb3NpdGl2ZXMuXG5cdCAgcmV0dXJuIHRydWU7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHNob3VsZERlbGV0ZUluc3RhbmNlTWV0aG9kKGNvbXBvbmVudCwgbmFtZSkge1xuXHQgIHZhciBkZXNjcmlwdG9yID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihjb21wb25lbnQsIG5hbWUpO1xuXHQgIGlmICh0eXBlb2YgZGVzY3JpcHRvci52YWx1ZSAhPT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgLy8gTm90IGEgZnVuY3Rpb24sIG9yIHNvbWV0aGluZyBmYW5jeTogYmFpbCBvdXRcblx0ICAgIHJldHVybjtcblx0ICB9XG5cdFxuXHQgIGlmIChjb21wb25lbnQuX19yZWFjdEF1dG9CaW5kTWFwIHx8IGNvbXBvbmVudC5fX3JlYWN0QXV0b0JpbmRQYWlycykge1xuXHQgICAgLy8gQ2xhc3NpY1xuXHQgICAgcmV0dXJuIHNob3VsZERlbGV0ZUNsYXNzaWNJbnN0YW5jZU1ldGhvZChjb21wb25lbnQsIG5hbWUpO1xuXHQgIH0gZWxzZSB7XG5cdCAgICAvLyBNb2Rlcm5cblx0ICAgIHJldHVybiBzaG91bGREZWxldGVNb2Rlcm5JbnN0YW5jZU1ldGhvZChjb21wb25lbnQsIG5hbWUpO1xuXHQgIH1cblx0fVxuXHRcblx0LyoqXG5cdCAqIERlbGV0ZXMgYXV0b2JvdW5kIG1ldGhvZHMgZnJvbSB0aGUgaW5zdGFuY2UuXG5cdCAqXG5cdCAqIEZvciBjbGFzc2ljIFJlYWN0IGNsYXNzZXMsIHdlIG9ubHkgZGVsZXRlIHRoZSBtZXRob2RzIHRoYXQgbm8gbG9uZ2VyIGV4aXN0IGluIG1hcC5cblx0ICogVGhpcyBtZWFucyB0aGUgdXNlciBhY3R1YWxseSBkZWxldGVkIHRoZW0gaW4gY29kZS5cblx0ICpcblx0ICogRm9yIG1vZGVybiBjbGFzc2VzLCB3ZSBkZWxldGUgbWV0aG9kcyB0aGF0IGV4aXN0IG9uIHByb3RvdHlwZSB3aXRoIHRoZSBzYW1lIGxlbmd0aCxcblx0ICogYW5kIHdoaWNoIGhhdmUgZ2V0dGVycyBvbiBwcm90b3R5cGUsIGJ1dCBhcmUgbm9ybWFsIHZhbHVlcyBvbiB0aGUgaW5zdGFuY2UuXG5cdCAqIFRoaXMgaXMgdXN1YWxseSBhbiBpbmRpY2F0aW9uIHRoYXQgYW4gYXV0b2JpbmRpbmcgZGVjb3JhdG9yIGlzIGJlaW5nIHVzZWQsXG5cdCAqIGFuZCB0aGUgZ2V0dGVyIHdpbGwgcmUtZ2VuZXJhdGUgdGhlIG1lbW9pemVkIGhhbmRsZXIgb24gbmV4dCBhY2Nlc3MuXG5cdCAqL1xuXHRmdW5jdGlvbiBkZWxldGVVbmtub3duQXV0b0JpbmRNZXRob2RzKGNvbXBvbmVudCkge1xuXHQgIHZhciBuYW1lcyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGNvbXBvbmVudCk7XG5cdFxuXHQgIG5hbWVzLmZvckVhY2goZnVuY3Rpb24gKG5hbWUpIHtcblx0ICAgIGlmIChzaG91bGREZWxldGVJbnN0YW5jZU1ldGhvZChjb21wb25lbnQsIG5hbWUpKSB7XG5cdCAgICAgIGRlbGV0ZSBjb21wb25lbnRbbmFtZV07XG5cdCAgICB9XG5cdCAgfSk7XG5cdH1cblxuLyoqKi8gfSxcblxuLyoqKi8gNzI5OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHRleHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IGdldEZvcmNlVXBkYXRlO1xuXHRmdW5jdGlvbiB0cmF2ZXJzZVJlbmRlcmVkQ2hpbGRyZW4oaW50ZXJuYWxJbnN0YW5jZSwgY2FsbGJhY2ssIGFyZ3VtZW50KSB7XG5cdCAgY2FsbGJhY2soaW50ZXJuYWxJbnN0YW5jZSwgYXJndW1lbnQpO1xuXHRcblx0ICBpZiAoaW50ZXJuYWxJbnN0YW5jZS5fcmVuZGVyZWRDb21wb25lbnQpIHtcblx0ICAgIHRyYXZlcnNlUmVuZGVyZWRDaGlsZHJlbihpbnRlcm5hbEluc3RhbmNlLl9yZW5kZXJlZENvbXBvbmVudCwgY2FsbGJhY2ssIGFyZ3VtZW50KTtcblx0ICB9IGVsc2Uge1xuXHQgICAgZm9yICh2YXIga2V5IGluIGludGVybmFsSW5zdGFuY2UuX3JlbmRlcmVkQ2hpbGRyZW4pIHtcblx0ICAgICAgaWYgKGludGVybmFsSW5zdGFuY2UuX3JlbmRlcmVkQ2hpbGRyZW4uaGFzT3duUHJvcGVydHkoa2V5KSkge1xuXHQgICAgICAgIHRyYXZlcnNlUmVuZGVyZWRDaGlsZHJlbihpbnRlcm5hbEluc3RhbmNlLl9yZW5kZXJlZENoaWxkcmVuW2tleV0sIGNhbGxiYWNrLCBhcmd1bWVudCk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHNldFBlbmRpbmdGb3JjZVVwZGF0ZShpbnRlcm5hbEluc3RhbmNlKSB7XG5cdCAgaWYgKGludGVybmFsSW5zdGFuY2UuX3BlbmRpbmdGb3JjZVVwZGF0ZSA9PT0gZmFsc2UpIHtcblx0ICAgIGludGVybmFsSW5zdGFuY2UuX3BlbmRpbmdGb3JjZVVwZGF0ZSA9IHRydWU7XG5cdCAgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBmb3JjZVVwZGF0ZUlmUGVuZGluZyhpbnRlcm5hbEluc3RhbmNlLCBSZWFjdCkge1xuXHQgIGlmIChpbnRlcm5hbEluc3RhbmNlLl9wZW5kaW5nRm9yY2VVcGRhdGUgPT09IHRydWUpIHtcblx0ICAgIHZhciBwdWJsaWNJbnN0YW5jZSA9IGludGVybmFsSW5zdGFuY2UuX2luc3RhbmNlO1xuXHQgICAgUmVhY3QuQ29tcG9uZW50LnByb3RvdHlwZS5mb3JjZVVwZGF0ZS5jYWxsKHB1YmxpY0luc3RhbmNlKTtcblx0ICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGdldEZvcmNlVXBkYXRlKFJlYWN0KSB7XG5cdCAgcmV0dXJuIGZ1bmN0aW9uIChpbnN0YW5jZSkge1xuXHQgICAgdmFyIGludGVybmFsSW5zdGFuY2UgPSBpbnN0YW5jZS5fcmVhY3RJbnRlcm5hbEluc3RhbmNlO1xuXHQgICAgdHJhdmVyc2VSZW5kZXJlZENoaWxkcmVuKGludGVybmFsSW5zdGFuY2UsIHNldFBlbmRpbmdGb3JjZVVwZGF0ZSk7XG5cdCAgICB0cmF2ZXJzZVJlbmRlcmVkQ2hpbGRyZW4oaW50ZXJuYWxJbnN0YW5jZSwgZm9yY2VVcGRhdGVJZlBlbmRpbmcsIFJlYWN0KTtcblx0ICB9O1xuXHR9XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdO1xuXG4vKioqLyB9LFxuXG4vKioqLyA3MzA6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24oZ2xvYmFsKSB7aWYgKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIpIHtcblx0ICAgIG1vZHVsZS5leHBvcnRzID0gd2luZG93O1xuXHR9IGVsc2UgaWYgKHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIpIHtcblx0ICAgIG1vZHVsZS5leHBvcnRzID0gZ2xvYmFsO1xuXHR9IGVsc2UgaWYgKHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiKXtcblx0ICAgIG1vZHVsZS5leHBvcnRzID0gc2VsZjtcblx0fSBlbHNlIHtcblx0ICAgIG1vZHVsZS5leHBvcnRzID0ge307XG5cdH1cblx0XG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbChleHBvcnRzLCAoZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KCkpKSlcblxuLyoqKi8gfSxcblxuLyoqKi8gNzMyOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKG1vZHVsZSkgeyd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2luZGV4ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1NzkpO1xuXHRcblx0dmFyIF9pbmRleDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmRleCk7XG5cdFxuXHR2YXIgX2luZGV4MyA9IF9fd2VicGFja19yZXF1aXJlX18oNTg0KTtcblx0XG5cdHZhciBfaW5kZXg0ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5kZXgzKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMDApO1xuXHRcblx0dmFyIF9yZWFjdDMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdDIpO1xuXHRcblx0dmFyIF9pbmRleDUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU4NSk7XG5cdFxuXHR2YXIgX2luZGV4NiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luZGV4NSk7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXHRcblx0dmFyIF9yZWFjdFJvdXRlclJlZHV4ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1NzApO1xuXHRcblx0dmFyIF9JY29uID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MzMpO1xuXHRcblx0dmFyIF9JY29uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0ljb24pO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXyg3MzYpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cdFxuXHRmdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblx0XG5cdGZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXHRcblx0dmFyIF9jb21wb25lbnRzID0ge1xuXHQgICAgSGVhZGVyOiB7XG5cdCAgICAgICAgZGlzcGxheU5hbWU6ICdIZWFkZXInXG5cdCAgICB9XG5cdH07XG5cdFxuXHR2YXIgX1VzZXJzRnVoYW9Xb3Jrc3BhY2VGdWhhb1JlYWN0UmVkdXhHaXRodWJOb2RlX21vZHVsZXNSZWFjdFRyYW5zZm9ybUhtckxpYkluZGV4SnMyID0gKDAsIF9pbmRleDYuZGVmYXVsdCkoe1xuXHQgICAgZmlsZW5hbWU6ICcvVXNlcnMvZnVoYW8vV29ya3NwYWNlL2Z1aGFvL3JlYWN0LXJlZHV4LWdpdGh1Yi9zcmMvY29tcG9uZW50cy9IZWFkZXIvaW5kZXguanN4Jyxcblx0ICAgIGNvbXBvbmVudHM6IF9jb21wb25lbnRzLFxuXHQgICAgbG9jYWxzOiBbbW9kdWxlXSxcblx0ICAgIGltcG9ydHM6IFtfcmVhY3QzLmRlZmF1bHRdXG5cdH0pO1xuXHRcblx0dmFyIF9Vc2Vyc0Z1aGFvV29ya3NwYWNlRnVoYW9SZWFjdFJlZHV4R2l0aHViTm9kZV9tb2R1bGVzUmVhY3RUcmFuc2Zvcm1DYXRjaEVycm9yc0xpYkluZGV4SnMyID0gKDAsIF9pbmRleDQuZGVmYXVsdCkoe1xuXHQgICAgZmlsZW5hbWU6ICcvVXNlcnMvZnVoYW8vV29ya3NwYWNlL2Z1aGFvL3JlYWN0LXJlZHV4LWdpdGh1Yi9zcmMvY29tcG9uZW50cy9IZWFkZXIvaW5kZXguanN4Jyxcblx0ICAgIGNvbXBvbmVudHM6IF9jb21wb25lbnRzLFxuXHQgICAgbG9jYWxzOiBbXSxcblx0ICAgIGltcG9ydHM6IFtfcmVhY3QzLmRlZmF1bHQsIF9pbmRleDIuZGVmYXVsdF1cblx0fSk7XG5cdFxuXHRmdW5jdGlvbiBfd3JhcENvbXBvbmVudChpZCkge1xuXHQgICAgcmV0dXJuIGZ1bmN0aW9uIChDb21wb25lbnQpIHtcblx0ICAgICAgICByZXR1cm4gX1VzZXJzRnVoYW9Xb3Jrc3BhY2VGdWhhb1JlYWN0UmVkdXhHaXRodWJOb2RlX21vZHVsZXNSZWFjdFRyYW5zZm9ybUhtckxpYkluZGV4SnMyKF9Vc2Vyc0Z1aGFvV29ya3NwYWNlRnVoYW9SZWFjdFJlZHV4R2l0aHViTm9kZV9tb2R1bGVzUmVhY3RUcmFuc2Zvcm1DYXRjaEVycm9yc0xpYkluZGV4SnMyKENvbXBvbmVudCwgaWQpLCBpZCk7XG5cdCAgICB9O1xuXHR9XG5cdFxuXHR2YXIgSGVhZGVyID0gX3dyYXBDb21wb25lbnQoJ0hlYWRlcicpKGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG5cdCAgICBfaW5oZXJpdHMoSGVhZGVyLCBfUmVhY3QkQ29tcG9uZW50KTtcblx0XG5cdCAgICBmdW5jdGlvbiBIZWFkZXIocHJvcHMpIHtcblx0ICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgSGVhZGVyKTtcblx0XG5cdCAgICAgICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChIZWFkZXIuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihIZWFkZXIpKS5jYWxsKHRoaXMsIHByb3BzKSk7XG5cdCAgICB9XG5cdFxuXHQgICAgX2NyZWF0ZUNsYXNzKEhlYWRlciwgW3tcblx0ICAgICAgICBrZXk6ICdnbycsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdvKGV2ZW50LCBoaXN0b3J5KSB7XG5cdCAgICAgICAgICAgIGlmIChldmVudCA9PT0gJ2JhY2snKSB7XG5cdCAgICAgICAgICAgICAgICB0aGlzLnByb3BzLmRpc3BhdGNoKCgwLCBfcmVhY3RSb3V0ZXJSZWR1eC5nbykoLTEpKTtcblx0ICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goKDAsIF9yZWFjdFJvdXRlclJlZHV4LmdvKShoaXN0b3J5KSk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAnZ290bycsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdvdG8odXJsKSB7XG5cdCAgICAgICAgICAgIGlmICh1cmwpIHtcblx0ICAgICAgICAgICAgICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goKDAsIF9yZWFjdFJvdXRlclJlZHV4LnB1c2gpKHVybCkpO1xuXHQgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogJ3JlbmRlcicsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgICAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cdFxuXHQgICAgICAgICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcblx0ICAgICAgICAgICAgICAgIGxlZnQgPSBfcHJvcHMubGVmdCxcblx0ICAgICAgICAgICAgICAgIGNlbnRlciA9IF9wcm9wcy5jZW50ZXIsXG5cdCAgICAgICAgICAgICAgICByaWdodCA9IF9wcm9wcy5yaWdodDtcblx0XG5cdFxuXHQgICAgICAgICAgICB2YXIgaWNvblNpemUgPSB7XG5cdCAgICAgICAgICAgICAgICB3aWR0aDogMjgsIGhlaWdodDogMjhcblx0ICAgICAgICAgICAgfTtcblx0XG5cdCAgICAgICAgICAgIHJldHVybiBfcmVhY3QzLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgICdkaXYnLFxuXHQgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdoZWFkZXInIH0sXG5cdCAgICAgICAgICAgICAgICBfcmVhY3QzLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogJ25hdmJhcicgfSxcblx0ICAgICAgICAgICAgICAgICAgICBfcmVhY3QzLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAnbmF2YmFyLWlubmVyJyB9LFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QzLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICdkaXYnLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogJ2xlZnQgbGluaycsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5nbyhsZWZ0LmV2ZW50KTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IH0sXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZWZ0Lmljb24gPyBfcmVhY3QzLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfSWNvbjIuZGVmYXVsdCwge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGxlZnQuaWNvbixcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZTogbGVmdC5zaXplID8gbGVmdC5zaXplIDogaWNvblNpemUgfSkgOiBsZWZ0LnRleHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgKSxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0My5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAnY2VudGVyJyB9LFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2VudGVyLmljb24gPyBfcmVhY3QzLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfSWNvbjIuZGVmYXVsdCwge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGNlbnRlci5pY29uLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlOiBjZW50ZXIuc2l6ZSA/IGNlbnRlci5zaXplIDogaWNvblNpemUgfSkgOiBjZW50ZXIudGV4dFxuXHQgICAgICAgICAgICAgICAgICAgICAgICApLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QzLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICdkaXYnLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogJ3JpZ2h0IGxpbmsnLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIuZ290byhyaWdodC51cmwpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gfSxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJpZ2h0Lmljb24gPyBfcmVhY3QzLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfSWNvbjIuZGVmYXVsdCwge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHJpZ2h0Lmljb24sXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHJpZ2h0LnNpemUgPyByaWdodC5zaXplIDogaWNvblNpemUgfSkgOiByaWdodC50ZXh0XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIClcblx0ICAgICAgICAgICAgICAgICAgICApXG5cdCAgICAgICAgICAgICAgICApXG5cdCAgICAgICAgICAgICk7XG5cdCAgICAgICAgfVxuXHQgICAgfV0pO1xuXHRcblx0ICAgIHJldHVybiBIZWFkZXI7XG5cdH0oX3JlYWN0My5kZWZhdWx0LkNvbXBvbmVudCkpO1xuXHRcblx0SGVhZGVyLnByb3BUeXBlcyA9IHtcblx0ICAgIGxlZnQ6IF9yZWFjdDMuZGVmYXVsdC5Qcm9wVHlwZXMub2JqZWN0LmlzUmVxdWlyZWQsXG5cdCAgICBjZW50ZXI6IF9yZWFjdDMuZGVmYXVsdC5Qcm9wVHlwZXMub2JqZWN0LmlzUmVxdWlyZWQsXG5cdCAgICByaWdodDogX3JlYWN0My5kZWZhdWx0LlByb3BUeXBlcy5vYmplY3QuaXNSZXF1aXJlZFxuXHR9O1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gSGVhZGVyO1xuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwoZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyg0OTYpKG1vZHVsZSkpKVxuXG4vKioqLyB9LFxuXG4vKioqLyA3MzM6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMzAwKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXyg3MzQpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdHZhciBJY29uID0gZnVuY3Rpb24gSWNvbihwcm9wcykge1xuXHRcblx0ICAgIHZhciBzcmMgPSAnLi4vc3JjL2ltZy9pY29uLycgKyBwcm9wcy5uYW1lICsgJy5wbmcnO1xuXHRcblx0ICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgnaW1nJywge1xuXHQgICAgICAgIGNsYXNzTmFtZTogJ2ltZy1pY29uJyxcblx0ICAgICAgICBzcmM6IHNyYyxcblx0ICAgICAgICBzdHlsZTogcHJvcHMuc3R5bGUsXG5cdCAgICAgICAgYWx0OiAnaWNvbicgfSk7XG5cdH07XG5cdFxuXHRJY29uLnByb3BUeXBlcyA9IHtcblx0ICAgIGNoaWxkcmVuOiBfcmVhY3QyLmRlZmF1bHQuUHJvcFR5cGVzLmFueVxuXHR9O1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gSWNvbjtcblxuLyoqKi8gfSxcblxuLyoqKi8gNzM0OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Ly8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblx0XG5cdC8vIGxvYWQgdGhlIHN0eWxlc1xuXHR2YXIgY29udGVudCA9IF9fd2VicGFja19yZXF1aXJlX18oNzM1KTtcblx0aWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5cdC8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cblx0dmFyIHVwZGF0ZSA9IF9fd2VicGFja19yZXF1aXJlX18oNDcwKShjb250ZW50LCB7fSk7XG5cdGlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuXHQvLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5cdGlmKHRydWUpIHtcblx0XHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRcdGlmKCFjb250ZW50LmxvY2Fscykge1xuXHRcdFx0bW9kdWxlLmhvdC5hY2NlcHQoNzM1LCBmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIG5ld0NvbnRlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDczNSk7XG5cdFx0XHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXHRcdFx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdFx0XHR9KTtcblx0XHR9XG5cdFx0Ly8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuXHRcdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xuXHR9XG5cbi8qKiovIH0sXG5cbi8qKiovIDczNTpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oNDY4KSgpO1xuXHQvLyBpbXBvcnRzXG5cdFxuXHRcblx0Ly8gbW9kdWxlXG5cdGV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi5pbWctaWNvbnt2ZXJ0aWNhbC1hbGlnbjptaWRkbGU7d2lkdGg6LjIxMzMzM3JlbTtoZWlnaHQ6LjIxMzMzM3JlbX1cIiwgXCJcIl0pO1xuXHRcblx0Ly8gZXhwb3J0c1xuXG5cbi8qKiovIH0sXG5cbi8qKiovIDczNjpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cdFxuXHQvLyBsb2FkIHRoZSBzdHlsZXNcblx0dmFyIGNvbnRlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDczNyk7XG5cdGlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXHQvLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG5cdHZhciB1cGRhdGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ3MCkoY29udGVudCwge30pO1xuXHRpZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcblx0Ly8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuXHRpZih0cnVlKSB7XG5cdFx0Ly8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0XHRpZighY29udGVudC5sb2NhbHMpIHtcblx0XHRcdG1vZHVsZS5ob3QuYWNjZXB0KDczNywgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciBuZXdDb250ZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MzcpO1xuXHRcdFx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblx0XHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHRcdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0XHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcblx0fVxuXG4vKioqLyB9LFxuXG4vKioqLyA3Mzc6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ2OCkoKTtcblx0Ly8gaW1wb3J0c1xuXHRcblx0XG5cdC8vIG1vZHVsZVxuXHRleHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCJib2R5e2JhY2tncm91bmQtY29sb3I6I2ZmZn0uYnV0dG9uLXJlZHtjb2xvcjojZmZmO2JhY2tncm91bmQtY29sb3I6I2Y0NDMzNiFpbXBvcnRhbnR9LmJ1dHRvbi1vcmFuZ2V7Y29sb3I6I2ZmZjtiYWNrZ3JvdW5kLWNvbG9yOiNmZjk4MDAhaW1wb3J0YW50fS5idXR0b24tZ3JlZW57Y29sb3I6I2ZmZjtiYWNrZ3JvdW5kLWNvbG9yOiM0Y2FmNTAhaW1wb3J0YW50fS5idXR0b24tYmx1ZXtjb2xvcjojZmZmO2JhY2tncm91bmQtY29sb3I6IzIxOTZmMyFpbXBvcnRhbnR9LmJ1dHRvbntib3JkZXItcmFkaXVzOjB9LmVudHJ5LXdyYXAsLmVudHJ5LXdyYXA+ZGl2LC5lbnRyeS13cmFwPmRpdj5kaXZ7aGVpZ2h0OjEwMCV9Lmxpc3QtYmxvY2sgLml0ZW0taW5uZXI6YWZ0ZXJ7ZGlzcGxheTpub25lfS5oZWFkZXIgLmxpbmsuYWN0aXZlLXN0YXRle29wYWNpdHk6LjQ7ZmlsdGVyOmFscGhhKG9wYWNpdHk9NDApfVwiLCBcIlwiXSk7XG5cdFxuXHQvLyBleHBvcnRzXG5cblxuLyoqKi8gfSxcblxuLyoqKi8gNzM4OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdFx0dmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMzAwKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9jbGFzc25hbWVzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MzkpO1xuXHRcblx0dmFyIF9jbGFzc25hbWVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzbmFtZXMpO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXyg3NDApO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdHZhciBDb250ZW50ID0gZnVuY3Rpb24gQ29udGVudChwcm9wcykge1xuXHRcdHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0XHRcdCdkaXYnLFxuXHRcdFx0X2V4dGVuZHMoe30sIHByb3BzLCB7IGNsYXNzTmFtZTogKDAsIF9jbGFzc25hbWVzMi5kZWZhdWx0KSgncGFnZS1jb250ZW50JywgcHJvcHMuY2xhc3NOYW1lKSB9KSxcblx0XHRcdHByb3BzLmNoaWxkcmVuXG5cdFx0KTtcblx0fTtcblx0XG5cdENvbnRlbnQucHJvcFR5cGVzID0ge1xuXHRcdGNoaWxkcmVuOiBfcmVhY3QyLmRlZmF1bHQuUHJvcFR5cGVzLmFueS5pc1JlcXVpcmVkXG5cdH07XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBDb250ZW50O1xuXG4vKioqLyB9LFxuXG4vKioqLyA3Mzk6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXywgX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX187LyohXG5cdCAgQ29weXJpZ2h0IChjKSAyMDE2IEplZCBXYXRzb24uXG5cdCAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlIChNSVQpLCBzZWVcblx0ICBodHRwOi8vamVkd2F0c29uLmdpdGh1Yi5pby9jbGFzc25hbWVzXG5cdCovXG5cdC8qIGdsb2JhbCBkZWZpbmUgKi9cblx0XG5cdChmdW5jdGlvbiAoKSB7XG5cdFx0J3VzZSBzdHJpY3QnO1xuXHRcblx0XHR2YXIgaGFzT3duID0ge30uaGFzT3duUHJvcGVydHk7XG5cdFxuXHRcdGZ1bmN0aW9uIGNsYXNzTmFtZXMgKCkge1xuXHRcdFx0dmFyIGNsYXNzZXMgPSBbXTtcblx0XG5cdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHR2YXIgYXJnID0gYXJndW1lbnRzW2ldO1xuXHRcdFx0XHRpZiAoIWFyZykgY29udGludWU7XG5cdFxuXHRcdFx0XHR2YXIgYXJnVHlwZSA9IHR5cGVvZiBhcmc7XG5cdFxuXHRcdFx0XHRpZiAoYXJnVHlwZSA9PT0gJ3N0cmluZycgfHwgYXJnVHlwZSA9PT0gJ251bWJlcicpIHtcblx0XHRcdFx0XHRjbGFzc2VzLnB1c2goYXJnKTtcblx0XHRcdFx0fSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGFyZykpIHtcblx0XHRcdFx0XHRjbGFzc2VzLnB1c2goY2xhc3NOYW1lcy5hcHBseShudWxsLCBhcmcpKTtcblx0XHRcdFx0fSBlbHNlIGlmIChhcmdUeXBlID09PSAnb2JqZWN0Jykge1xuXHRcdFx0XHRcdGZvciAodmFyIGtleSBpbiBhcmcpIHtcblx0XHRcdFx0XHRcdGlmIChoYXNPd24uY2FsbChhcmcsIGtleSkgJiYgYXJnW2tleV0pIHtcblx0XHRcdFx0XHRcdFx0Y2xhc3Nlcy5wdXNoKGtleSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFxuXHRcdFx0cmV0dXJuIGNsYXNzZXMuam9pbignICcpO1xuXHRcdH1cblx0XG5cdFx0aWYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnICYmIG1vZHVsZS5leHBvcnRzKSB7XG5cdFx0XHRtb2R1bGUuZXhwb3J0cyA9IGNsYXNzTmFtZXM7XG5cdFx0fSBlbHNlIGlmICh0cnVlKSB7XG5cdFx0XHQvLyByZWdpc3RlciBhcyAnY2xhc3NuYW1lcycsIGNvbnNpc3RlbnQgd2l0aCBucG0gcGFja2FnZSBuYW1lXG5cdFx0XHQhKF9fV0VCUEFDS19BTURfREVGSU5FX0FSUkFZX18gPSBbXSwgX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18gPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdHJldHVybiBjbGFzc05hbWVzO1xuXHRcdFx0fS5hcHBseShleHBvcnRzLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fKSwgX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18gIT09IHVuZGVmaW5lZCAmJiAobW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXykpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR3aW5kb3cuY2xhc3NOYW1lcyA9IGNsYXNzTmFtZXM7XG5cdFx0fVxuXHR9KCkpO1xuXG5cbi8qKiovIH0sXG5cbi8qKiovIDc0MDpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cdFxuXHQvLyBsb2FkIHRoZSBzdHlsZXNcblx0dmFyIGNvbnRlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDc0MSk7XG5cdGlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXHQvLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG5cdHZhciB1cGRhdGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ3MCkoY29udGVudCwge30pO1xuXHRpZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcblx0Ly8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuXHRpZih0cnVlKSB7XG5cdFx0Ly8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0XHRpZighY29udGVudC5sb2NhbHMpIHtcblx0XHRcdG1vZHVsZS5ob3QuYWNjZXB0KDc0MSwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciBuZXdDb250ZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3NDEpO1xuXHRcdFx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblx0XHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHRcdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0XHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcblx0fVxuXG4vKioqLyB9LFxuXG4vKioqLyA3NDE6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ2OCkoKTtcblx0Ly8gaW1wb3J0c1xuXHRcblx0XG5cdC8vIG1vZHVsZVxuXHRleHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIucGFnZS1jb250ZW50e292ZXJmbG93OnNjcm9sbDtoZWlnaHQ6Y2FsYygxMDAlIC0gLjU4NjY2N3JlbSl9XCIsIFwiXCJdKTtcblx0XG5cdC8vIGV4cG9ydHNcblxuXG4vKioqLyB9LFxuXG4vKioqLyA3NDI6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9MaXN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3NDMpO1xuXHRcblx0dmFyIF9MaXN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0xpc3QpO1xuXHRcblx0dmFyIF9JdGVtID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3NDQpO1xuXHRcblx0dmFyIF9JdGVtMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0l0ZW0pO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXyg3NDUpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdHZhciBMaXN0QmxvY2sgPSB7XG5cdCAgICBMaXN0OiBfTGlzdDIuZGVmYXVsdCxcblx0ICAgIEl0ZW06IF9JdGVtMi5kZWZhdWx0XG5cdH07XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBMaXN0QmxvY2s7XG5cbi8qKiovIH0sXG5cbi8qKiovIDc0Mzpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHRcdHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMzAwKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9jbGFzc25hbWVzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MzkpO1xuXHRcblx0dmFyIF9jbGFzc25hbWVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzbmFtZXMpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdHZhciBMaXN0ID0gZnVuY3Rpb24gTGlzdChfcmVmKSB7XG5cdFx0dmFyIGNsYXNzTmFtZSA9IF9yZWYuY2xhc3NOYW1lLFxuXHRcdCAgICBjaGlsZHJlbiA9IF9yZWYuY2hpbGRyZW47XG5cdFxuXHRcblx0XHR2YXIgY24gPSAoMCwgX2NsYXNzbmFtZXMyLmRlZmF1bHQpKCdsaXN0LWJsb2NrJywgY2xhc3NOYW1lLCB7fSk7XG5cdFxuXHRcdHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0XHRcdCdkaXYnLFxuXHRcdFx0eyBjbGFzc05hbWU6IGNuIH0sXG5cdFx0XHRfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0XHRcdFx0J3VsJyxcblx0XHRcdFx0bnVsbCxcblx0XHRcdFx0Y2hpbGRyZW5cblx0XHRcdClcblx0XHQpO1xuXHR9O1xuXHRcblx0TGlzdC5wcm9wVHlwZXMgPSB7XG5cdFx0Y2hpbGRyZW46IF9yZWFjdDIuZGVmYXVsdC5Qcm9wVHlwZXMuYW55XG5cdH07XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBMaXN0O1xuXG4vKioqLyB9LFxuXG4vKioqLyA3NDQ6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0XHR2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMwMCk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfY2xhc3NuYW1lcyA9IF9fd2VicGFja19yZXF1aXJlX18oNzM5KTtcblx0XG5cdHZhciBfY2xhc3NuYW1lczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc25hbWVzKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHR2YXIgSXRlbSA9IGZ1bmN0aW9uIEl0ZW0oX3JlZikge1xuXHRcdHZhciBjbGFzc05hbWUgPSBfcmVmLmNsYXNzTmFtZSxcblx0XHQgICAgbWVkaWEgPSBfcmVmLm1lZGlhLFxuXHRcdCAgICBjaGlsZHJlbiA9IF9yZWYuY2hpbGRyZW47XG5cdFxuXHRcblx0XHR2YXIgY24gPSAoMCwgX2NsYXNzbmFtZXMyLmRlZmF1bHQpKCdpdGVtLWNvbnRlbnQnLCBjbGFzc05hbWUsIHtcblx0XHRcdG1lZGlhOiBtZWRpYVxuXHRcdH0pO1xuXHRcblx0XHRyZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdFx0XHQnbGknLFxuXHRcdFx0eyBjbGFzc05hbWU6IGNuIH0sXG5cdFx0XHRjaGlsZHJlblxuXHRcdCk7XG5cdH07XG5cdFxuXHRJdGVtLnByb3BUeXBlcyA9IHtcblx0XHRjaGlsZHJlbjogX3JlYWN0Mi5kZWZhdWx0LlByb3BUeXBlcy5hbnlcblx0fTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IEl0ZW07XG5cbi8qKiovIH0sXG5cbi8qKiovIDc0NTpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cdFxuXHQvLyBsb2FkIHRoZSBzdHlsZXNcblx0dmFyIGNvbnRlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDc0Nik7XG5cdGlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXHQvLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG5cdHZhciB1cGRhdGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ3MCkoY29udGVudCwge30pO1xuXHRpZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcblx0Ly8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuXHRpZih0cnVlKSB7XG5cdFx0Ly8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0XHRpZighY29udGVudC5sb2NhbHMpIHtcblx0XHRcdG1vZHVsZS5ob3QuYWNjZXB0KDc0NiwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciBuZXdDb250ZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3NDYpO1xuXHRcdFx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblx0XHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHRcdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0XHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcblx0fVxuXG4vKioqLyB9LFxuXG4vKioqLyA3NDY6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ2OCkoKTtcblx0Ly8gaW1wb3J0c1xuXHRcblx0XG5cdC8vIG1vZHVsZVxuXHRleHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIubGlzdC1ibG9ja3ttYXJnaW46MH0ubGlzdC1ibG9jayAuaXRlbS1jb250ZW50e2Rpc3BsYXk6YmxvY2t9Lmxpc3QtYmxvY2sgLml0ZW0tY29udGVudC5tZWRpYXtkaXNwbGF5Oi13ZWJraXQtYm94O2Rpc3BsYXk6LW1zLWZsZXhib3g7ZGlzcGxheTpmbGV4fS5saXN0LWJsb2NrIFVMOmFmdGVyLC5saXN0LWJsb2NrIHVsOmJlZm9yZXtkaXNwbGF5Om5vbmV9Lmxpc3QtYmxvY2sgbGl7Ym9yZGVyLWJvdHRvbTouMDEzMzMzcmVtIHNvbGlkICNjY2N9XCIsIFwiXCJdKTtcblx0XG5cdC8vIGV4cG9ydHNcblxuXG4vKioqLyB9LFxuXG4vKioqLyA3NDc6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9mID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0NjQpO1xuXHRcblx0dmFyIF9mMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2YpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdHZhciAkID0gX2YyLmRlZmF1bHQuJDtcblx0XG5cdFxuXHR2YXIgJHBhZ2VzID0gJCgnI3BhZ2VzJyk7XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAkcGFnZXMucmVtb3ZlQ2xhc3MoJ3Rvb2xiYXItZml4ZWQnKTtcblx0fTtcblxuLyoqKi8gfSxcblxuLyoqKi8gNzQ4OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKG1vZHVsZSkgeyd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHRcdHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9pbmRleCA9IF9fd2VicGFja19yZXF1aXJlX18oNTc5KTtcblx0XG5cdHZhciBfaW5kZXgyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5kZXgpO1xuXHRcblx0dmFyIF9pbmRleDMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU4NCk7XG5cdFxuXHR2YXIgX2luZGV4NCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luZGV4Myk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9fd2VicGFja19yZXF1aXJlX18oMzAwKTtcblx0XG5cdHZhciBfcmVhY3QzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QyKTtcblx0XG5cdHZhciBfaW5kZXg1ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1ODUpO1xuXHRcblx0dmFyIF9pbmRleDYgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmRleDUpO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblx0XG5cdHZhciBfY2xhc3NuYW1lcyA9IF9fd2VicGFja19yZXF1aXJlX18oNzM5KTtcblx0XG5cdHZhciBfY2xhc3NuYW1lczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc25hbWVzKTtcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oNzQ5KTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXHRcblx0ZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cdFxuXHRmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblx0XG5cdHZhciBfY29tcG9uZW50cyA9IHtcblx0XHRUYWI6IHtcblx0XHRcdGRpc3BsYXlOYW1lOiAnVGFiJ1xuXHRcdH1cblx0fTtcblx0XG5cdHZhciBfVXNlcnNGdWhhb1dvcmtzcGFjZUZ1aGFvUmVhY3RSZWR1eEdpdGh1Yk5vZGVfbW9kdWxlc1JlYWN0VHJhbnNmb3JtSG1yTGliSW5kZXhKczIgPSAoMCwgX2luZGV4Ni5kZWZhdWx0KSh7XG5cdFx0ZmlsZW5hbWU6ICcvVXNlcnMvZnVoYW8vV29ya3NwYWNlL2Z1aGFvL3JlYWN0LXJlZHV4LWdpdGh1Yi9zcmMvY29tcG9uZW50cy9UYWIvaW5kZXguanN4Jyxcblx0XHRjb21wb25lbnRzOiBfY29tcG9uZW50cyxcblx0XHRsb2NhbHM6IFttb2R1bGVdLFxuXHRcdGltcG9ydHM6IFtfcmVhY3QzLmRlZmF1bHRdXG5cdH0pO1xuXHRcblx0dmFyIF9Vc2Vyc0Z1aGFvV29ya3NwYWNlRnVoYW9SZWFjdFJlZHV4R2l0aHViTm9kZV9tb2R1bGVzUmVhY3RUcmFuc2Zvcm1DYXRjaEVycm9yc0xpYkluZGV4SnMyID0gKDAsIF9pbmRleDQuZGVmYXVsdCkoe1xuXHRcdGZpbGVuYW1lOiAnL1VzZXJzL2Z1aGFvL1dvcmtzcGFjZS9mdWhhby9yZWFjdC1yZWR1eC1naXRodWIvc3JjL2NvbXBvbmVudHMvVGFiL2luZGV4LmpzeCcsXG5cdFx0Y29tcG9uZW50czogX2NvbXBvbmVudHMsXG5cdFx0bG9jYWxzOiBbXSxcblx0XHRpbXBvcnRzOiBbX3JlYWN0My5kZWZhdWx0LCBfaW5kZXgyLmRlZmF1bHRdXG5cdH0pO1xuXHRcblx0ZnVuY3Rpb24gX3dyYXBDb21wb25lbnQoaWQpIHtcblx0XHRyZXR1cm4gZnVuY3Rpb24gKENvbXBvbmVudCkge1xuXHRcdFx0cmV0dXJuIF9Vc2Vyc0Z1aGFvV29ya3NwYWNlRnVoYW9SZWFjdFJlZHV4R2l0aHViTm9kZV9tb2R1bGVzUmVhY3RUcmFuc2Zvcm1IbXJMaWJJbmRleEpzMihfVXNlcnNGdWhhb1dvcmtzcGFjZUZ1aGFvUmVhY3RSZWR1eEdpdGh1Yk5vZGVfbW9kdWxlc1JlYWN0VHJhbnNmb3JtQ2F0Y2hFcnJvcnNMaWJJbmRleEpzMihDb21wb25lbnQsIGlkKSwgaWQpO1xuXHRcdH07XG5cdH1cblx0XG5cdHZhciBUYWIgPSBfd3JhcENvbXBvbmVudCgnVGFiJykoZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcblx0XHRfaW5oZXJpdHMoVGFiLCBfUmVhY3QkQ29tcG9uZW50KTtcblx0XG5cdFx0ZnVuY3Rpb24gVGFiKHByb3BzKSB7XG5cdFx0XHRfY2xhc3NDYWxsQ2hlY2sodGhpcywgVGFiKTtcblx0XG5cdFx0XHR2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoVGFiLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoVGFiKSkuY2FsbCh0aGlzLCBwcm9wcykpO1xuXHRcblx0XHRcdF90aGlzLnN0YXRlID0ge1xuXHRcdFx0XHRhY3RpdmVOYW1lOiBwcm9wcy5hY3RpdmVOYW1lXG5cdFx0XHR9O1xuXHRcdFx0cmV0dXJuIF90aGlzO1xuXHRcdH1cblx0XG5cdFx0X2NyZWF0ZUNsYXNzKFRhYiwgW3tcblx0XHRcdGtleTogJ2NoYW5nZUFjdGl2ZU5hbWUnLFxuXHRcdFx0dmFsdWU6IGZ1bmN0aW9uIGNoYW5nZUFjdGl2ZU5hbWUoYWN0aXZlTmFtZSkge1xuXHRcdFx0XHR0aGlzLnNldFN0YXRlKHtcblx0XHRcdFx0XHRhY3RpdmVOYW1lOiBhY3RpdmVOYW1lXG5cdFx0XHRcdH0pO1xuXHRcblx0XHRcdFx0aWYgKHR5cGVvZiB0aGlzLnByb3BzLm9uQ2hhbmdlID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRcdFx0dGhpcy5wcm9wcy5vbkNoYW5nZShhY3RpdmVOYW1lKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0sIHtcblx0XHRcdGtleTogJ3JlbmRlcicsXG5cdFx0XHR2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuXHRcdFx0XHR2YXIgX3RoaXMyID0gdGhpcztcblx0XG5cdFx0XHRcdHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuXHRcdFx0XHQgICAgdGFicyA9IF9wcm9wcy50YWJzLFxuXHRcdFx0XHQgICAgaXNGZXRjaGluZyA9IF9wcm9wcy5pc0ZldGNoaW5nO1xuXHRcblx0XG5cdFx0XHRcdHJldHVybiBfcmVhY3QzLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0XHRcdFx0XHQnZGl2Jyxcblx0XHRcdFx0XHR7IGNsYXNzTmFtZTogJ3RhYnMnIH0sXG5cdFx0XHRcdFx0dGFicy5tYXAoZnVuY3Rpb24gKHRhYikge1xuXHRcdFx0XHRcdFx0cmV0dXJuIF9yZWFjdDMuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHRcdFx0XHRcdFx0XHQnZGl2Jyxcblx0XHRcdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XHRcdGtleTogdGFiLmFjdGl2ZU5hbWUsXG5cdFx0XHRcdFx0XHRcdFx0Y2xhc3NOYW1lOiAoMCwgX2NsYXNzbmFtZXMyLmRlZmF1bHQpKCd0YWInLCB7XG5cdFx0XHRcdFx0XHRcdFx0XHRzZWxlY3RlZDogX3RoaXMyLnN0YXRlLmFjdGl2ZU5hbWUgPT09IHRhYi5hY3RpdmVOYW1lXG5cdFx0XHRcdFx0XHRcdFx0fSksXG5cdFx0XHRcdFx0XHRcdFx0b25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHtcblx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBfdGhpczIuY2hhbmdlQWN0aXZlTmFtZSh0YWIuYWN0aXZlTmFtZSk7XG5cdFx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFx0XHRkaXNhYmxlZDogaXNGZXRjaGluZyB9LFxuXHRcdFx0XHRcdFx0XHR0YWIudGl0bGVcblx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0fSlcblx0XHRcdFx0KTtcblx0XHRcdH1cblx0XHR9XSk7XG5cdFxuXHRcdHJldHVybiBUYWI7XG5cdH0oX3JlYWN0My5kZWZhdWx0LkNvbXBvbmVudCkpO1xuXHRcblx0VGFiLnBvcnBUeXBlcyA9IHtcblx0XHR0YWJzOiBfcmVhY3QzLmRlZmF1bHQuUHJvcFR5cGVzLm9iamVjdC5pc1JlcXVpcmVkLFxuXHRcdGFjdGl2ZU5hbWU6IF9yZWFjdDMuZGVmYXVsdC5Qcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXG5cdFx0aXNGZXRjaGluZzogX3JlYWN0My5kZWZhdWx0LlByb3BUeXBlcy5ib29sXG5cdH07XG5cdFxuXHRUYWIuZGVmYXVsdFByb3BzID0ge1xuXHRcdGlzRmV0Y2hpbmc6IGZhbHNlXG5cdH07XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBUYWI7XG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbChleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ5NikobW9kdWxlKSkpXG5cbi8qKiovIH0sXG5cbi8qKiovIDc0OTpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cdFxuXHQvLyBsb2FkIHRoZSBzdHlsZXNcblx0dmFyIGNvbnRlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDc1MCk7XG5cdGlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXHQvLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG5cdHZhciB1cGRhdGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ3MCkoY29udGVudCwge30pO1xuXHRpZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcblx0Ly8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuXHRpZih0cnVlKSB7XG5cdFx0Ly8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0XHRpZighY29udGVudC5sb2NhbHMpIHtcblx0XHRcdG1vZHVsZS5ob3QuYWNjZXB0KDc1MCwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciBuZXdDb250ZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3NTApO1xuXHRcdFx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblx0XHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHRcdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0XHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcblx0fVxuXG4vKioqLyB9LFxuXG4vKioqLyA3NTA6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ2OCkoKTtcblx0Ly8gaW1wb3J0c1xuXHRcblx0XG5cdC8vIG1vZHVsZVxuXHRleHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIudGFic3tkaXNwbGF5OnRhYmxlO3dpZHRoOjEwMCU7dGFibGUtbGF5b3V0OmZpeGVkO2JhY2tncm91bmQ6I2ZhZmFmYX0udGFicyAudGFie2Rpc3BsYXk6dGFibGUtY2VsbDt0ZXh0LWFsaWduOmNlbnRlcjtwYWRkaW5nOi4xMzMzMzNyZW0gMH1cIiwgXCJcIl0pO1xuXHRcblx0Ly8gZXhwb3J0c1xuXG5cbi8qKiovIH0sXG5cbi8qKiovIDc1MTpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihtb2R1bGUpIHsndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9pbmRleCA9IF9fd2VicGFja19yZXF1aXJlX18oNTc5KTtcblx0XG5cdHZhciBfaW5kZXgyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5kZXgpO1xuXHRcblx0dmFyIF9pbmRleDMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU4NCk7XG5cdFxuXHR2YXIgX2luZGV4NCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luZGV4Myk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9fd2VicGFja19yZXF1aXJlX18oMzAwKTtcblx0XG5cdHZhciBfcmVhY3QzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QyKTtcblx0XG5cdHZhciBfaW5kZXg1ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1ODUpO1xuXHRcblx0dmFyIF9pbmRleDYgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmRleDUpO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblx0XG5cdHZhciBfY2xhc3NuYW1lcyA9IF9fd2VicGFja19yZXF1aXJlX18oNzM5KTtcblx0XG5cdHZhciBfY2xhc3NuYW1lczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc25hbWVzKTtcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oNzUyKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXHRcblx0ZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cdFxuXHRmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblx0XG5cdHZhciBfY29tcG9uZW50cyA9IHtcblx0ICAgIENvdW50UGFnZToge1xuXHQgICAgICAgIGRpc3BsYXlOYW1lOiAnQ291bnRQYWdlJ1xuXHQgICAgfVxuXHR9O1xuXHRcblx0dmFyIF9Vc2Vyc0Z1aGFvV29ya3NwYWNlRnVoYW9SZWFjdFJlZHV4R2l0aHViTm9kZV9tb2R1bGVzUmVhY3RUcmFuc2Zvcm1IbXJMaWJJbmRleEpzMiA9ICgwLCBfaW5kZXg2LmRlZmF1bHQpKHtcblx0ICAgIGZpbGVuYW1lOiAnL1VzZXJzL2Z1aGFvL1dvcmtzcGFjZS9mdWhhby9yZWFjdC1yZWR1eC1naXRodWIvc3JjL2NvbXBvbmVudHMvQ291bnRQYWdlL2luZGV4LmpzeCcsXG5cdCAgICBjb21wb25lbnRzOiBfY29tcG9uZW50cyxcblx0ICAgIGxvY2FsczogW21vZHVsZV0sXG5cdCAgICBpbXBvcnRzOiBbX3JlYWN0My5kZWZhdWx0XVxuXHR9KTtcblx0XG5cdHZhciBfVXNlcnNGdWhhb1dvcmtzcGFjZUZ1aGFvUmVhY3RSZWR1eEdpdGh1Yk5vZGVfbW9kdWxlc1JlYWN0VHJhbnNmb3JtQ2F0Y2hFcnJvcnNMaWJJbmRleEpzMiA9ICgwLCBfaW5kZXg0LmRlZmF1bHQpKHtcblx0ICAgIGZpbGVuYW1lOiAnL1VzZXJzL2Z1aGFvL1dvcmtzcGFjZS9mdWhhby9yZWFjdC1yZWR1eC1naXRodWIvc3JjL2NvbXBvbmVudHMvQ291bnRQYWdlL2luZGV4LmpzeCcsXG5cdCAgICBjb21wb25lbnRzOiBfY29tcG9uZW50cyxcblx0ICAgIGxvY2FsczogW10sXG5cdCAgICBpbXBvcnRzOiBbX3JlYWN0My5kZWZhdWx0LCBfaW5kZXgyLmRlZmF1bHRdXG5cdH0pO1xuXHRcblx0ZnVuY3Rpb24gX3dyYXBDb21wb25lbnQoaWQpIHtcblx0ICAgIHJldHVybiBmdW5jdGlvbiAoQ29tcG9uZW50KSB7XG5cdCAgICAgICAgcmV0dXJuIF9Vc2Vyc0Z1aGFvV29ya3NwYWNlRnVoYW9SZWFjdFJlZHV4R2l0aHViTm9kZV9tb2R1bGVzUmVhY3RUcmFuc2Zvcm1IbXJMaWJJbmRleEpzMihfVXNlcnNGdWhhb1dvcmtzcGFjZUZ1aGFvUmVhY3RSZWR1eEdpdGh1Yk5vZGVfbW9kdWxlc1JlYWN0VHJhbnNmb3JtQ2F0Y2hFcnJvcnNMaWJJbmRleEpzMihDb21wb25lbnQsIGlkKSwgaWQpO1xuXHQgICAgfTtcblx0fVxuXHRcblx0dmFyIENvdW50UGFnZSA9IF93cmFwQ29tcG9uZW50KCdDb3VudFBhZ2UnKShmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuXHQgICAgX2luaGVyaXRzKENvdW50UGFnZSwgX1JlYWN0JENvbXBvbmVudCk7XG5cdFxuXHQgICAgZnVuY3Rpb24gQ291bnRQYWdlKHByb3BzKSB7XG5cdCAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENvdW50UGFnZSk7XG5cdFxuXHQgICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChDb3VudFBhZ2UuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihDb3VudFBhZ2UpKS5jYWxsKHRoaXMsIHByb3BzKSk7XG5cdFxuXHQgICAgICAgIF90aGlzLnN0YXRlID0ge1xuXHQgICAgICAgICAgICBwYWdlOiAxXG5cdCAgICAgICAgfTtcblx0XG5cdCAgICAgICAgX3RoaXMuYWRkUGFnZSA9IF90aGlzLmFkZFBhZ2UuYmluZChfdGhpcyk7XG5cdCAgICAgICAgX3RoaXMubWludXNQYWdlID0gX3RoaXMubWludXNQYWdlLmJpbmQoX3RoaXMpO1xuXHQgICAgICAgIHJldHVybiBfdGhpcztcblx0ICAgIH1cblx0XG5cdCAgICBfY3JlYXRlQ2xhc3MoQ291bnRQYWdlLCBbe1xuXHQgICAgICAgIGtleTogJ2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMnLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9zKSB7XG5cdCAgICAgICAgICAgIGlmIChuZXh0UHJvcy5yZXNldCkge1xuXHQgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG5cdCAgICAgICAgICAgICAgICAgICAgcGFnZTogMVxuXHQgICAgICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAnYWRkUGFnZScsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGFkZFBhZ2UoKSB7XG5cdFxuXHQgICAgICAgICAgICB2YXIgX3BhZ2UgPSB0aGlzLnN0YXRlLnBhZ2U7XG5cdFxuXHQgICAgICAgICAgICBfcGFnZSA9IF9wYWdlICsgMTtcblx0XG5cdCAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuXHQgICAgICAgICAgICAgICAgcGFnZTogX3BhZ2Vcblx0ICAgICAgICAgICAgfSk7XG5cdFxuXHQgICAgICAgICAgICBpZiAodHlwZW9mIHRoaXMucHJvcHMub25DaGFuZ2UgPT09ICdmdW5jdGlvbicpIHtcblx0ICAgICAgICAgICAgICAgIHRoaXMucHJvcHMub25DaGFuZ2UoX3BhZ2UpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogJ21pbnVzUGFnZScsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIG1pbnVzUGFnZSgpIHtcblx0XG5cdCAgICAgICAgICAgIHZhciBfcGFnZSA9IHRoaXMuc3RhdGUucGFnZTtcblx0XG5cdCAgICAgICAgICAgIF9wYWdlID0gX3BhZ2UgLSAxO1xuXHRcblx0ICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG5cdCAgICAgICAgICAgICAgICBwYWdlOiBfcGFnZVxuXHQgICAgICAgICAgICB9KTtcblx0XG5cdCAgICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5wcm9wcy5vbkNoYW5nZSA9PT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5vbkNoYW5nZShfcGFnZSk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAncmVuZGVyJyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgICAgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblx0XG5cdCAgICAgICAgICAgIHZhciBwYWdlID0gdGhpcy5zdGF0ZS5wYWdlO1xuXHQgICAgICAgICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcblx0ICAgICAgICAgICAgICAgIG1pbiA9IF9wcm9wcy5taW4sXG5cdCAgICAgICAgICAgICAgICBtYXggPSBfcHJvcHMubWF4O1xuXHRcblx0XG5cdCAgICAgICAgICAgIHJldHVybiBfcmVhY3QzLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgICdkaXYnLFxuXHQgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdwYWdpbmF0aW9uIHJvdyBuby1ndXR0ZXInIH0sXG5cdCAgICAgICAgICAgICAgICBfcmVhY3QzLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgICAgICAgICAgICB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogKDAsIF9jbGFzc25hbWVzMi5kZWZhdWx0KSgnY29sLTMzJywge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ6IHBhZ2UgPD0gbWluXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5taW51c1BhZ2UoKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgfSB9LFxuXHQgICAgICAgICAgICAgICAgICAgICdcXHUyNUMwXFx1RkUwRSdcblx0ICAgICAgICAgICAgICAgICksXG5cdCAgICAgICAgICAgICAgICBfcmVhY3QzLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogJ2NvbC0zMyBjdXJyZW50LXBhZ2UnIH0sXG5cdCAgICAgICAgICAgICAgICAgICAgcGFnZSArICcvJyArIG1heFxuXHQgICAgICAgICAgICAgICAgKSxcblx0ICAgICAgICAgICAgICAgIF9yZWFjdDMuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICAgICAgICdkaXYnLFxuXHQgICAgICAgICAgICAgICAgICAgIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAoMCwgX2NsYXNzbmFtZXMyLmRlZmF1bHQpKCdjb2wtMzMnLCB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZDogcGFnZSA+PSBtYXhcblx0ICAgICAgICAgICAgICAgICAgICAgICAgfSksXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLmFkZFBhZ2UoKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgfSB9LFxuXHQgICAgICAgICAgICAgICAgICAgICdcXHUyNUI2XFx1RkUwRSdcblx0ICAgICAgICAgICAgICAgIClcblx0ICAgICAgICAgICAgKTtcblx0ICAgICAgICB9XG5cdCAgICB9XSk7XG5cdFxuXHQgICAgcmV0dXJuIENvdW50UGFnZTtcblx0fShfcmVhY3QzLmRlZmF1bHQuQ29tcG9uZW50KSk7XG5cdFxuXHRDb3VudFBhZ2UucG9ycFR5cGVzID0ge1xuXHQgICAgbWluOiBfcmVhY3QzLmRlZmF1bHQuUHJvcFR5cGVzLm51bWJlcixcblx0ICAgIG1heDogX3JlYWN0My5kZWZhdWx0LlByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZCxcblx0ICAgIHJlc2V0OiBfcmVhY3QzLmRlZmF1bHQuUHJvcFR5cGVzLmJvb2xcblx0fTtcblx0XG5cdENvdW50UGFnZS5kZWZhdWx0UHJvcHMgPSB7XG5cdCAgICBtaW46IDEsXG5cdCAgICBtYXg6IDEsXG5cdCAgICByZXNldDogZmFsc2Vcblx0fTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IENvdW50UGFnZTtcblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18oNDk2KShtb2R1bGUpKSlcblxuLyoqKi8gfSxcblxuLyoqKi8gNzUyOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Ly8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblx0XG5cdC8vIGxvYWQgdGhlIHN0eWxlc1xuXHR2YXIgY29udGVudCA9IF9fd2VicGFja19yZXF1aXJlX18oNzUzKTtcblx0aWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5cdC8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cblx0dmFyIHVwZGF0ZSA9IF9fd2VicGFja19yZXF1aXJlX18oNDcwKShjb250ZW50LCB7fSk7XG5cdGlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuXHQvLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5cdGlmKHRydWUpIHtcblx0XHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRcdGlmKCFjb250ZW50LmxvY2Fscykge1xuXHRcdFx0bW9kdWxlLmhvdC5hY2NlcHQoNzUzLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIG5ld0NvbnRlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDc1Myk7XG5cdFx0XHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXHRcdFx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdFx0XHR9KTtcblx0XHR9XG5cdFx0Ly8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuXHRcdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xuXHR9XG5cbi8qKiovIH0sXG5cbi8qKiovIDc1Mzpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oNDY4KSgpO1xuXHQvLyBpbXBvcnRzXG5cdFxuXHRcblx0Ly8gbW9kdWxlXG5cdGV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi5wYWdpbmF0aW9ue3RleHQtYWxpZ246Y2VudGVyfS5wYWdpbmF0aW9uIGRpdntwYWRkaW5nOi4xMzMzMzNyZW0gLjJyZW07Ym9yZGVyLWJvdHRvbTouMDEzMzMzcmVtIHNvbGlkICNkZGR9LnBhZ2luYXRpb24gLmN1cnJlbnQtcGFnZXtib3JkZXItcmlnaHQ6LjAxMzMzM3JlbSBzb2xpZCAjZGRkO2JvcmRlci1sZWZ0Oi4wMTMzMzNyZW0gc29saWQgI2RkZH0ucGFnaW5hdGlvbiAuY3VycmVudC1wYWdlLmFjdGl2ZS1zdGF0ZXtiYWNrZ3JvdW5kOnRyYW5zcGFyZW50fS5wYWdpbmF0aW9uIC5hY3RpdmUtc3RhdGV7YmFja2dyb3VuZC1jb2xvcjojYmZlNWYzfVwiLCBcIlwiXSk7XG5cdFxuXHQvLyBleHBvcnRzXG5cblxuLyoqKi8gfSxcblxuLyoqKi8gNzU0OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMwMCk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfaW1tdXRhYmxlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MzEpO1xuXHRcblx0dmFyIF9pbW11dGFibGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW1tdXRhYmxlKTtcblx0XG5cdHZhciBfTGlzdEJsb2NrID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3NDIpO1xuXHRcblx0dmFyIF9MaXN0QmxvY2syID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfTGlzdEJsb2NrKTtcblx0XG5cdHZhciBfY3V0V29yZHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDc1NSk7XG5cdFxuXHR2YXIgX2N1dFdvcmRzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2N1dFdvcmRzKTtcblx0XG5cdHZhciBfU2VhcmNoUGxhY2Vob2xkZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDc1Nik7XG5cdFxuXHR2YXIgX1NlYXJjaFBsYWNlaG9sZGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1NlYXJjaFBsYWNlaG9sZGVyKTtcblx0XG5cdHZhciBfTG9hZGluZyA9IF9fd2VicGFja19yZXF1aXJlX18oNzU5KTtcblx0XG5cdHZhciBfTG9hZGluZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Mb2FkaW5nKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHR2YXIgTGlzdCA9IF9MaXN0QmxvY2syLmRlZmF1bHQuTGlzdCxcblx0ICAgIEl0ZW0gPSBfTGlzdEJsb2NrMi5kZWZhdWx0Lkl0ZW07XG5cdFxuXHRcblx0dmFyIFJlcG9zaXRvcmllcyA9IGZ1bmN0aW9uIFJlcG9zaXRvcmllcyhfcmVmKSB7XG5cdCAgICB2YXIgaXRlbXMgPSBfcmVmLml0ZW1zLFxuXHQgICAgICAgIGlzRmV0Y2hpbmcgPSBfcmVmLmlzRmV0Y2hpbmc7XG5cdCAgICByZXR1cm4gaXNGZXRjaGluZyA/IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9Mb2FkaW5nMi5kZWZhdWx0LCBudWxsKSA6IGl0ZW1zLnNpemUgIT09IDAgPyBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICBMaXN0LFxuXHQgICAgICAgIHsgY2xhc3NOYW1lOiAncmVwLWl0ZW1zJyB9LFxuXHQgICAgICAgIGl0ZW1zLm1hcChmdW5jdGlvbiAocmVwKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgIEl0ZW0sXG5cdCAgICAgICAgICAgICAgICB7XG5cdCAgICAgICAgICAgICAgICAgICAga2V5OiByZXAuZ2V0KCdpZCcpIH0sXG5cdCAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogJ2l0ZW0td3JhcCcgfSxcblx0ICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAndGl0bGUnIH0sXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHJlcC5nZXQoJ2Z1bGxfbmFtZScpXG5cdCAgICAgICAgICAgICAgICAgICAgKSxcblx0ICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAnYWZ0ZXInIH0sXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHJlcC5nZXQoJ3N0YXJnYXplcnNfY291bnQnKSxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAnc3BhbicsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBudWxsLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1xcdTI2MDUnXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIClcblx0ICAgICAgICAgICAgICAgICAgICApXG5cdCAgICAgICAgICAgICAgICApLFxuXHQgICAgICAgICAgICAgICAgcmVwLmdldCgnZGVzY3JpcHRpb24nKSAmJiByZXAuZ2V0KCdkZXNjcmlwdGlvbicpICE9PSAnJyAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogJ2RlcycgfSxcblx0ICAgICAgICAgICAgICAgICAgICAoMCwgX2N1dFdvcmRzMi5kZWZhdWx0KShyZXAuZ2V0KCdkZXNjcmlwdGlvbicpLCAyMDApXG5cdCAgICAgICAgICAgICAgICApXG5cdCAgICAgICAgICAgICk7XG5cdCAgICAgICAgfSlcblx0ICAgICkgOiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfU2VhcmNoUGxhY2Vob2xkZXIyLmRlZmF1bHQsIG51bGwpO1xuXHR9O1xuXHRcblx0UmVwb3NpdG9yaWVzLnByb3BUeXBlcyA9IHtcblx0ICAgIGl0ZW06IF9yZWFjdDIuZGVmYXVsdC5Qcm9wVHlwZXMuaW5zdGFuY2VPZihfaW1tdXRhYmxlMi5kZWZhdWx0Lkxpc3QpLFxuXHQgICAgaXNGZXRjaGluZzogX3JlYWN0Mi5kZWZhdWx0LlByb3BUeXBlcy5ib29sXG5cdH07XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBSZXBvc2l0b3JpZXM7XG5cbi8qKiovIH0sXG5cbi8qKiovIDc1NTpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHRcdHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKHN0cmluZywgbGVuZ3RoKSB7XG5cdFx0aWYgKHN0cmluZy5sZW5ndGggPiBsZW5ndGgpIHtcblx0XHRcdHJldHVybiBzdHJpbmcuc3Vic3RyaW5nKDAsIGxlbmd0aCkgKyAnLi4uJztcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0dXJuIHN0cmluZztcblx0XHR9XG5cdH07XG5cbi8qKiovIH0sXG5cbi8qKiovIDc1Njpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMzAwKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXyg3NTcpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdHZhciBTZWFyY2hQbGFjZWhvbGRlciA9IGZ1bmN0aW9uIFNlYXJjaFBsYWNlaG9sZGVyKCkge1xuXHQgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICdkaXYnLFxuXHQgICAgeyBjbGFzc05hbWU6ICdzZWFyY2gtcGxhY2Vob2xkZXInIH0sXG5cdCAgICAnTm8gcmVzdWx0cyB0byBzaG93Lidcblx0ICApO1xuXHR9O1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gU2VhcmNoUGxhY2Vob2xkZXI7XG5cbi8qKiovIH0sXG5cbi8qKiovIDc1Nzpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cdFxuXHQvLyBsb2FkIHRoZSBzdHlsZXNcblx0dmFyIGNvbnRlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDc1OCk7XG5cdGlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXHQvLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG5cdHZhciB1cGRhdGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ3MCkoY29udGVudCwge30pO1xuXHRpZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcblx0Ly8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuXHRpZih0cnVlKSB7XG5cdFx0Ly8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0XHRpZighY29udGVudC5sb2NhbHMpIHtcblx0XHRcdG1vZHVsZS5ob3QuYWNjZXB0KDc1OCwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciBuZXdDb250ZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3NTgpO1xuXHRcdFx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblx0XHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHRcdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0XHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcblx0fVxuXG4vKioqLyB9LFxuXG4vKioqLyA3NTg6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ2OCkoKTtcblx0Ly8gaW1wb3J0c1xuXHRcblx0XG5cdC8vIG1vZHVsZVxuXHRleHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIudXNlci1wbGFjZWhvbGRlcntwYWRkaW5nOjA7bWFyZ2luOi4ycmVtO292ZXJmbG93OmhpZGRlbjt3b3JkLWJyZWFrOmJyZWFrLXdvcmQ7d29yZC13cmFwOmJyZWFrLXdvcmQ7d2hpdGUtc3BhY2U6bm9ybWFsO2JvcmRlcjouMDEzMzMzcmVtIHNvbGlkICNkZGQ7Ym9yZGVyLXJhZGl1czouMDRyZW07YmFja2dyb3VuZDojZjVmNWY1O2JvcmRlci1jb2xvcjojY2NjO2JveC1zaGFkb3c6aW5zZXQgMCAwIC4xMzMzMzNyZW0gcmdiYSgwLDAsMCwuMSl9LnVzZXItcGxhY2Vob2xkZXIgLndyYXB7Zm9udC1zaXplOi4ycmVtO2NvbG9yOiM3Njc2NzY7dGV4dC1hbGlnbjpjZW50ZXI7cGFkZGluZzouMnJlbX0uc2VhcmNoLXBsYWNlaG9sZGVye3BhZGRpbmc6LjZyZW07Zm9udC13ZWlnaHQ6NzAwO2NvbG9yOiM3Njc2NzY7dGV4dC1hbGlnbjpjZW50ZXJ9XCIsIFwiXCJdKTtcblx0XG5cdC8vIGV4cG9ydHNcblxuXG4vKioqLyB9LFxuXG4vKioqLyA3NTk6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0XHR2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMwMCk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oNzYwKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHR2YXIgTG9hZGluZyA9IGZ1bmN0aW9uIExvYWRpbmcoKSB7XG5cdFx0cmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHRcdFx0J2RpdicsXG5cdFx0XHR7IGNsYXNzTmFtZTogJ2xvYWRpbmcnIH0sXG5cdFx0XHRfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgnZGl2JywgeyBjbGFzc05hbWU6ICdsb2FkZXInIH0pLFxuXHRcdFx0X3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdFx0XHRcdCdkaXYnLFxuXHRcdFx0XHR7IGNsYXNzTmFtZTogJ3RleHQnIH0sXG5cdFx0XHRcdCdMb2FkaW5nLi4uJ1xuXHRcdFx0KVxuXHRcdCk7XG5cdH07XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBMb2FkaW5nO1xuXG4vKioqLyB9LFxuXG4vKioqLyA3NjA6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXHRcblx0Ly8gbG9hZCB0aGUgc3R5bGVzXG5cdHZhciBjb250ZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3NjEpO1xuXHRpZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcblx0Ly8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxuXHR2YXIgdXBkYXRlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0NzApKGNvbnRlbnQsIHt9KTtcblx0aWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG5cdC8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcblx0aWYodHJ1ZSkge1xuXHRcdC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdFx0aWYoIWNvbnRlbnQubG9jYWxzKSB7XG5cdFx0XHRtb2R1bGUuaG90LmFjY2VwdCg3NjEsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgbmV3Q29udGVudCA9IF9fd2VicGFja19yZXF1aXJlX18oNzYxKTtcblx0XHRcdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cdFx0XHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0XHRcdH0pO1xuXHRcdH1cblx0XHQvLyBXaGVuIHRoZSBtb2R1bGUgaXMgZGlzcG9zZWQsIHJlbW92ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdFx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG5cdH1cblxuLyoqKi8gfSxcblxuLyoqKi8gNzYxOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0ZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0NjgpKCk7XG5cdC8vIGltcG9ydHNcblx0XG5cdFxuXHQvLyBtb2R1bGVcblx0ZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLmxvYWRpbmd7bWFyZ2luOi4yNjY2NjdyZW0gYXV0bztkaXNwbGF5Oi13ZWJraXQtYm94O2Rpc3BsYXk6LW1zLWZsZXhib3g7ZGlzcGxheTpmbGV4Oy13ZWJraXQtYm94LXBhY2s6Y2VudGVyOy1tcy1mbGV4LXBhY2s6Y2VudGVyO2p1c3RpZnktY29udGVudDpjZW50ZXI7cG9zaXRpb246cmVsYXRpdmV9LmxvYWRpbmcgLnRleHR7cG9zaXRpb246YWJzb2x1dGU7dG9wOjUwJTtsZWZ0OjUwJTstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUoLTUwJSwtNTAlKTt0cmFuc2Zvcm06dHJhbnNsYXRlKC01MCUsLTUwJSk7Zm9udC1zaXplOi4yNHJlbX0ubG9hZGluZyAubG9hZGVyLC5sb2FkaW5nIC5sb2FkZXI6YWZ0ZXJ7Ym9yZGVyLXJhZGl1czo1MCU7d2lkdGg6MTBlbTtoZWlnaHQ6MTBlbX0ubG9hZGluZyAubG9hZGVye21hcmdpbjouOHJlbSBhdXRvO2ZvbnQtc2l6ZTouMTMzMzMzcmVtO3Bvc2l0aW9uOnJlbGF0aXZlO3RleHQtaW5kZW50Oi05OTk5ZW07Ym9yZGVyLXRvcDoxLjFlbSBzb2xpZCBoc2xhKDAsMCUsODAlLC4yKTtib3JkZXItcmlnaHQ6MS4xZW0gc29saWQgaHNsYSgwLDAlLDgwJSwuMik7Ym9yZGVyLWJvdHRvbToxLjFlbSBzb2xpZCBoc2xhKDAsMCUsODAlLC4yKTtib3JkZXItbGVmdDoxLjFlbSBzb2xpZCAjY2NjOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVooMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZVooMCk7LXdlYmtpdC1hbmltYXRpb246bG9hZDggMS4xcyBpbmZpbml0ZSBsaW5lYXI7YW5pbWF0aW9uOmxvYWQ4IDEuMXMgaW5maW5pdGUgbGluZWFyfUAtd2Via2l0LWtleWZyYW1lcyBsb2FkOHswJXstd2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoMGRlZyk7dHJhbnNmb3JtOnJvdGF0ZSgwZGVnKX10b3std2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoMXR1cm4pO3RyYW5zZm9ybTpyb3RhdGUoMXR1cm4pfX1Aa2V5ZnJhbWVzIGxvYWQ4ezAley13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSgwZGVnKTt0cmFuc2Zvcm06cm90YXRlKDBkZWcpfXRvey13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSgxdHVybik7dHJhbnNmb3JtOnJvdGF0ZSgxdHVybil9fVwiLCBcIlwiXSk7XG5cdFxuXHQvLyBleHBvcnRzXG5cblxuLyoqKi8gfSxcblxuLyoqKi8gNzYyOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMwMCk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfaW1tdXRhYmxlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MzEpO1xuXHRcblx0dmFyIF9pbW11dGFibGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW1tdXRhYmxlKTtcblx0XG5cdHZhciBfTGlzdEJsb2NrID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3NDIpO1xuXHRcblx0dmFyIF9MaXN0QmxvY2syID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfTGlzdEJsb2NrKTtcblx0XG5cdHZhciBfY3V0V29yZHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDc1NSk7XG5cdFxuXHR2YXIgX2N1dFdvcmRzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2N1dFdvcmRzKTtcblx0XG5cdHZhciBfU2VhcmNoUGxhY2Vob2xkZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDc1Nik7XG5cdFxuXHR2YXIgX1NlYXJjaFBsYWNlaG9sZGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1NlYXJjaFBsYWNlaG9sZGVyKTtcblx0XG5cdHZhciBfTG9hZGluZyA9IF9fd2VicGFja19yZXF1aXJlX18oNzU5KTtcblx0XG5cdHZhciBfTG9hZGluZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Mb2FkaW5nKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHR2YXIgTGlzdCA9IF9MaXN0QmxvY2syLmRlZmF1bHQuTGlzdCxcblx0ICAgIEl0ZW0gPSBfTGlzdEJsb2NrMi5kZWZhdWx0Lkl0ZW07XG5cdFxuXHRcblx0dmFyIElzc3VlcyA9IGZ1bmN0aW9uIElzc3VlcyhfcmVmKSB7XG5cdCAgICB2YXIgaXRlbXMgPSBfcmVmLml0ZW1zLFxuXHQgICAgICAgIGlzRmV0Y2hpbmcgPSBfcmVmLmlzRmV0Y2hpbmc7XG5cdCAgICByZXR1cm4gaXNGZXRjaGluZyA/IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9Mb2FkaW5nMi5kZWZhdWx0LCBudWxsKSA6IGl0ZW1zLnNpemUgIT09IDAgPyBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICBMaXN0LFxuXHQgICAgICAgIHsgY2xhc3NOYW1lOiAnaXNzdWVzLWl0ZW1zJyB9LFxuXHQgICAgICAgIGl0ZW1zLm1hcChmdW5jdGlvbiAoaXNzdWUpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICAgSXRlbSxcblx0ICAgICAgICAgICAgICAgIHtcblx0ICAgICAgICAgICAgICAgICAgICBrZXk6IGlzc3VlLmdldCgnaWQnKSB9LFxuXHQgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdpdGVtLXdyYXAnIH0sXG5cdCAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICdkaXYnLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogJ3RpdGxlJyB9LFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBpc3N1ZS5nZXQoJ3RpdGxlJylcblx0ICAgICAgICAgICAgICAgICAgICApLFxuXHQgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdhZnRlcicgfSxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAnc3BhbicsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBudWxsLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyMnXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICksXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGlzc3VlLmdldCgnbnVtYmVyJylcblx0ICAgICAgICAgICAgICAgICAgICApXG5cdCAgICAgICAgICAgICAgICApLFxuXHQgICAgICAgICAgICAgICAgaXNzdWUuZ2V0KCdib2R5JykgJiYgaXNzdWUuZ2V0KCdib2R5JykgIT09ICcnICYmIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICAgICAgICdkaXYnLFxuXHQgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAnZGVzJyB9LFxuXHQgICAgICAgICAgICAgICAgICAgICgwLCBfY3V0V29yZHMyLmRlZmF1bHQpKGlzc3VlLmdldCgnYm9keScpLCAyMDApXG5cdCAgICAgICAgICAgICAgICApXG5cdCAgICAgICAgICAgICk7XG5cdCAgICAgICAgfSlcblx0ICAgICkgOiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfU2VhcmNoUGxhY2Vob2xkZXIyLmRlZmF1bHQsIG51bGwpO1xuXHR9O1xuXHRcblx0SXNzdWVzLnByb3BUeXBlcyA9IHtcblx0ICAgIGl0ZW06IF9yZWFjdDIuZGVmYXVsdC5Qcm9wVHlwZXMuaW5zdGFuY2VPZihfaW1tdXRhYmxlMi5kZWZhdWx0Lkxpc3QpLFxuXHQgICAgaXNGZXRjaGluZzogX3JlYWN0Mi5kZWZhdWx0LlByb3BUeXBlcy5ib29sXG5cdH07XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBJc3N1ZXM7XG5cbi8qKiovIH0sXG5cbi8qKiovIDc2Mzpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMDApO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX2ltbXV0YWJsZSA9IF9fd2VicGFja19yZXF1aXJlX18oNzMxKTtcblx0XG5cdHZhciBfaW1tdXRhYmxlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2ltbXV0YWJsZSk7XG5cdFxuXHR2YXIgX0xpc3RCbG9jayA9IF9fd2VicGFja19yZXF1aXJlX18oNzQyKTtcblx0XG5cdHZhciBfTGlzdEJsb2NrMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0xpc3RCbG9jayk7XG5cdFxuXHR2YXIgX1NlYXJjaFBsYWNlaG9sZGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3NTYpO1xuXHRcblx0dmFyIF9TZWFyY2hQbGFjZWhvbGRlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9TZWFyY2hQbGFjZWhvbGRlcik7XG5cdFxuXHR2YXIgX0xvYWRpbmcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDc1OSk7XG5cdFxuXHR2YXIgX0xvYWRpbmcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfTG9hZGluZyk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0dmFyIExpc3QgPSBfTGlzdEJsb2NrMi5kZWZhdWx0Lkxpc3QsXG5cdCAgICBJdGVtID0gX0xpc3RCbG9jazIuZGVmYXVsdC5JdGVtO1xuXHRcblx0XG5cdHZhciBVc2VycyA9IGZ1bmN0aW9uIFVzZXJzKF9yZWYpIHtcblx0ICAgIHZhciBpdGVtcyA9IF9yZWYuaXRlbXMsXG5cdCAgICAgICAgZ290b1VzZXIgPSBfcmVmLmdvdG9Vc2VyLFxuXHQgICAgICAgIGlzRmV0Y2hpbmcgPSBfcmVmLmlzRmV0Y2hpbmc7XG5cdCAgICByZXR1cm4gaXNGZXRjaGluZyA/IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9Mb2FkaW5nMi5kZWZhdWx0LCBudWxsKSA6IGl0ZW1zLnNpemUgIT09IDAgPyBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICBMaXN0LFxuXHQgICAgICAgIHsgY2xhc3NOYW1lOiAndXNlcnMtaXRlbXMnIH0sXG5cdCAgICAgICAgaXRlbXMubWFwKGZ1bmN0aW9uICh1c2VyKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgIEl0ZW0sXG5cdCAgICAgICAgICAgICAgICB7XG5cdCAgICAgICAgICAgICAgICAgICAga2V5OiB1c2VyLmdldCgnaWQnKSxcblx0ICAgICAgICAgICAgICAgICAgICBtZWRpYTogdHJ1ZSB9LFxuXHQgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdpdGVtLW1lZGlhJyB9LFxuXHQgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCdpbWcnLCB7IHNyYzogdXNlci5nZXQoJ2F2YXRhcl91cmwnKSB9KVxuXHQgICAgICAgICAgICAgICAgKSxcblx0ICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICAgICAgICdkaXYnLFxuXHQgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAnaXRlbS1pbm5lcicgfSxcblx0ICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogJ2l0ZW0tdGl0bGUnLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZ290b1VzZXIodXNlci5nZXQoJ2xvZ2luJykpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSB9LFxuXHQgICAgICAgICAgICAgICAgICAgICAgICB1c2VyLmdldCgnbG9naW4nKSxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAnc3BhbicsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogJ25hbWUnIH0sXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VyLmdldCgnbmFtZScpXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIClcblx0ICAgICAgICAgICAgICAgICAgICApLFxuXHQgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdsb2NhdGlvbicgfSxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdXNlci5nZXQoJ2xvY2F0aW9uJylcblx0ICAgICAgICAgICAgICAgICAgICApXG5cdCAgICAgICAgICAgICAgICApXG5cdCAgICAgICAgICAgICk7XG5cdCAgICAgICAgfSlcblx0ICAgICkgOiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfU2VhcmNoUGxhY2Vob2xkZXIyLmRlZmF1bHQsIG51bGwpO1xuXHR9O1xuXHRcblx0VXNlcnMucHJvcFR5cGVzID0ge1xuXHQgICAgaXRlbTogX3JlYWN0Mi5kZWZhdWx0LlByb3BUeXBlcy5pbnN0YW5jZU9mKF9pbW11dGFibGUyLmRlZmF1bHQuTGlzdCksXG5cdCAgICBpc0ZldGNoaW5nOiBfcmVhY3QyLmRlZmF1bHQuUHJvcFR5cGVzLmJvb2xcblx0fTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IFVzZXJzO1xuXG4vKioqLyB9LFxuXG4vKioqLyA3NjQ6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXHRcblx0Ly8gbG9hZCB0aGUgc3R5bGVzXG5cdHZhciBjb250ZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3NjUpO1xuXHRpZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcblx0Ly8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxuXHR2YXIgdXBkYXRlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0NzApKGNvbnRlbnQsIHt9KTtcblx0aWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG5cdC8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcblx0aWYodHJ1ZSkge1xuXHRcdC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdFx0aWYoIWNvbnRlbnQubG9jYWxzKSB7XG5cdFx0XHRtb2R1bGUuaG90LmFjY2VwdCg3NjUsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgbmV3Q29udGVudCA9IF9fd2VicGFja19yZXF1aXJlX18oNzY1KTtcblx0XHRcdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cdFx0XHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0XHRcdH0pO1xuXHRcdH1cblx0XHQvLyBXaGVuIHRoZSBtb2R1bGUgaXMgZGlzcG9zZWQsIHJlbW92ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdFx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG5cdH1cblxuLyoqKi8gfSxcblxuLyoqKi8gNzY1OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0ZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0NjgpKCk7XG5cdC8vIGltcG9ydHNcblx0XG5cdFxuXHQvLyBtb2R1bGVcblx0ZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiYm9keXtiYWNrZ3JvdW5kLWNvbG9yOiNmZmZ9LmJ1dHRvbi1yZWR7Y29sb3I6I2ZmZjtiYWNrZ3JvdW5kLWNvbG9yOiNmNDQzMzYhaW1wb3J0YW50fS5idXR0b24tb3Jhbmdle2NvbG9yOiNmZmY7YmFja2dyb3VuZC1jb2xvcjojZmY5ODAwIWltcG9ydGFudH0uYnV0dG9uLWdyZWVue2NvbG9yOiNmZmY7YmFja2dyb3VuZC1jb2xvcjojNGNhZjUwIWltcG9ydGFudH0uYnV0dG9uLWJsdWV7Y29sb3I6I2ZmZjtiYWNrZ3JvdW5kLWNvbG9yOiMyMTk2ZjMhaW1wb3J0YW50fS5idXR0b257Ym9yZGVyLXJhZGl1czowfS5lbnRyeS13cmFwLC5lbnRyeS13cmFwPmRpdiwuZW50cnktd3JhcD5kaXY+ZGl2e2hlaWdodDoxMDAlfS5saXN0LWJsb2NrIC5pdGVtLWlubmVyOmFmdGVye2Rpc3BsYXk6bm9uZX0uc2VhcmNoIC5zZWFyY2gtaW5wdXR7Ym9yZGVyLWJvdHRvbTpub25lO2JhY2tncm91bmQtY29sb3I6I2ZhZmFmYX0uc2VhcmNoIC5zZWFyY2gtaW5wdXQgLml0ZW0taW5wdXR7cGFkZGluZzouMTMzMzMzcmVtfS5zZWFyY2ggLnNlYXJjaC1pbnB1dCBpbnB1dHtwYWRkaW5nOi4xMzMzMzNyZW07Ym9yZGVyOi4wMTMzMzNyZW0gc29saWQgI2RkZH0uc2VhcmNoIC50YWJzIC50YWJ7Y29sb3I6IzQwNzhjMDtib3JkZXItYm90dG9tOi4wMTMzMzNyZW0gc29saWQgI2RkZH0uc2VhcmNoIC50YWJzIC50YWJbY2xhc3MqPXNlbGVjdGVkXXtjb2xvcjojNDQ0O2JhY2tncm91bmQtY29sb3I6I2ZmZjtib3JkZXItdG9wOi4wMjY2NjdyZW0gc29saWQgI2QyNjkxMTtib3JkZXItYm90dG9tLWNvbG9yOiNmZmZ9LnNlYXJjaCAudGFicyAuc2VsZWN0ZWQ6bnRoLWNoaWxkKDEpe2JvcmRlci1yaWdodDouMDEzMzMzcmVtIHNvbGlkICNkZGR9LnNlYXJjaCAudGFicyAuc2VsZWN0ZWQ6bnRoLWNoaWxkKDIpe2JvcmRlci1yaWdodDouMDEzMzMzcmVtIHNvbGlkICNkZGQ7Ym9yZGVyLWxlZnQ6LjAxMzMzM3JlbSBzb2xpZCAjZGRkfS5zZWFyY2ggLnRhYnMgLnNlbGVjdGVkOm50aC1jaGlsZCgzKXtib3JkZXItbGVmdDouMDEzMzMzcmVtIHNvbGlkICNkZGR9LnNlYXJjaCAuaXRlbS1jb250ZW50e3dpZHRoOjEwMCU7cGFkZGluZzouMTg2NjY3cmVtIC4ycmVtIC4xODY2NjdyZW0gLjQ2NjY2N3JlbX0uc2VhcmNoIC5pdGVtLXdyYXB7ZGlzcGxheTotd2Via2l0LWJveDtkaXNwbGF5Oi1tcy1mbGV4Ym94O2Rpc3BsYXk6ZmxleDstd2Via2l0LWJveC1wYWNrOmp1c3RpZnk7LW1zLWZsZXgtcGFjazpqdXN0aWZ5O2p1c3RpZnktY29udGVudDpzcGFjZS1iZXR3ZWVuO21hcmdpbi1ib3R0b206LjA0cmVtO2ZvbnQtc2l6ZTouMTg2NjY3cmVtfS5zZWFyY2ggLml0ZW0td3JhcCAudGl0bGV7Y29sb3I6IzQwNzhjMH0uc2VhcmNoIC5pdGVtLXdyYXAgLmFmdGVye2NvbG9yOiM5OTl9LnNlYXJjaCAuaXRlbS13cmFwIC5kZXN7Zm9udC1zaXplOi4xNnJlbTtjb2xvcjojNzY3Njc2fS5zZWFyY2ggLmlzc3Vlcy1pdGVtcyAuZGVzLC5zZWFyY2ggLnJlcC1pdGVtcyAuZGVze2ZvbnQtc2l6ZTouMTZyZW07Y29sb3I6Izc2NzY3Njt3b3JkLXdyYXA6YnJlYWstd29yZH0uc2VhcmNoIC51c2Vycy1pdGVtcyAuaXRlbS1jb250ZW50Lm1lZGlhe3Bvc2l0aW9uOnJlbGF0aXZlfS5zZWFyY2ggLnVzZXJzLWl0ZW1zIC5pdGVtLWlubmVye2Rpc3BsYXk6YmxvY2s7bWFyZ2luLWxlZnQ6LjZyZW07Y29sb3I6IzQwNzhjMDtmb250LXNpemU6LjIxMzMzM3JlbX0uc2VhcmNoIC51c2Vycy1pdGVtcyAuaXRlbS1pbm5lciAubmFtZXtjb2xvcjojMzMzO21hcmdpbi1sZWZ0Oi4xMzMzMzNyZW19LnNlYXJjaCAudXNlcnMtaXRlbXMgLml0ZW0taW5uZXIgLmxvY2F0aW9ue2ZvbnQtc2l6ZTouMTg2NjY3cmVtO2NvbG9yOiM3Njc2NzZ9LnNlYXJjaCAudXNlcnMtaXRlbXMgLml0ZW0tbWVkaWF7cG9zaXRpb246YWJzb2x1dGU7bGVmdDouMnJlbX0uc2VhcmNoIC51c2Vycy1pdGVtcyAuaXRlbS1tZWRpYSBpbWd7d2lkdGg6LjY2NjY2N3JlbTtoZWlnaHQ6LjY2NjY2N3JlbTtib3JkZXItcmFkaXVzOi40cmVtfVwiLCBcIlwiXSk7XG5cdFxuXHQvLyBleHBvcnRzXG5cblxuLyoqKi8gfVxuXG59KTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gc2VhcmNoLjhmNzJmLmNodW5rLmpzIiwiaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gJ3JlYWN0LXJlZHV4JztcbmltcG9ydCBTZWFyY2ggZnJvbSAnLi9jb21wb25lbnQnO1xuaW1wb3J0IHttYXBTdGF0ZVRvUHJvcHMsIG1hcERpc3BhdGNoVG9Qcm9wc30gZnJvbSAnLi9zZWxlY3RvcnMnO1xuXG5jb25zdCBjb250YWluZXIgPSBjb25uZWN0KFxuICAgIG1hcFN0YXRlVG9Qcm9wcyxcbiAgICBtYXBEaXNwYXRjaFRvUHJvcHNcbikoU2VhcmNoKTtcblxuZXhwb3J0IGRlZmF1bHQgY29udGFpbmVyO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9TZWFyY2gvY29udGFpbmVycy5qcyIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgSW1tdXRhYmxlIGZyb20gJ2ltbXV0YWJsZSc7XG5pbXBvcnQgSGVhZGVyIGZyb20gJ2NvbXBvbmVudHMvSGVhZGVyJztcbmltcG9ydCBDb250ZW50IGZyb20gJ2NvbXBvbmVudHMvQ29udGVudCc7XG5pbXBvcnQgTGlzdEJsb2NrIGZyb20gJ2NvbXBvbmVudHMvTGlzdEJsb2NrJztcbmltcG9ydCBjbGVhclRvb2xiYXIgZnJvbSAnY29tbW9uL2NsZWFyVG9vbGJhcic7XG5pbXBvcnQgVGFiIGZyb20gJ2NvbXBvbmVudHMvVGFiJztcbmltcG9ydCBDb3VudFBhZ2UgZnJvbSAnY29tcG9uZW50cy9Db3VudFBhZ2UnO1xuaW1wb3J0IFJlcG9zaXRvcmllcyBmcm9tICcuL2NvbXBvbmVudHMvUmVwb3NpdG9yaWVzJztcbmltcG9ydCBJc3N1ZXMgZnJvbSAnLi9jb21wb25lbnRzL0lzc3Vlcyc7XG5pbXBvcnQgVXNlcnMgZnJvbSAnLi9jb21wb25lbnRzL1VzZXJzJztcbmltcG9ydCAnLi9zdHlsZS5sZXNzJztcblxuY29uc3Qge1xuICAgIExpc3QsXG4gICAgSXRlbVxufSA9IExpc3RCbG9jaztcblxuY29uc3QgdGFicyA9IFt7XG4gICAgYWN0aXZlTmFtZTogJ3JlcG9zaXRvcmllcycsXG4gICAgdGl0bGU6ICdSZXBvc2l0b3JpZXMnXG59LCB7XG4gICAgYWN0aXZlTmFtZTogJ2lzc3VlcycsXG4gICAgdGl0bGU6ICdJc3N1ZXMnXG59LCB7XG4gICAgYWN0aXZlTmFtZTogJ3VzZXJzJyxcbiAgICB0aXRsZTogJ1VzZXJzJ1xufV07XG5cbmNsYXNzIFNlYXJjaCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gICAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICAgICAgc3VwZXIocHJvcHMpO1xuXG4gICAgICAgIHRoaXMua2V5VXBIYW5kbGVyID0gdGhpcy5rZXlVcEhhbmRsZXIuYmluZCh0aGlzKTtcbiAgICB9XG5cbiAgICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgICAgY2xlYXJUb29sYmFyKCk7XG4gICAgfVxuXG4gICAga2V5VXBIYW5kbGVyKGUpIHtcblxuICAgICAgICBpZiAoZS5rZXlDb2RlID09PSAxMykge1xuXG4gICAgICAgICAgICBsZXQgYWN0aXZlTmFtZSA9IHRoaXMucHJvcHMuYWN0aXZlTmFtZSA/IHRoaXMucHJvcHMuYWN0aXZlTmFtZSA6IHRhYnNbMl0uYWN0aXZlTmFtZTtcblxuICAgICAgICAgICAgdGhpcy5wcm9wcy5jaGFuZ2VBY3RpdmVOYW1lKGFjdGl2ZU5hbWUpO1xuICAgICAgICAgICAgdGhpcy5wcm9wcy5nZXRJdGVtcyhlLnRhcmdldC52YWx1ZSwgYWN0aXZlTmFtZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjaGFuZ2VUYWJIYW5kbGVyKGFjdGl2ZU5hbWUpIHtcbiAgICAgICAgdGhpcy5wcm9wcy5jaGFuZ2VBY3RpdmVOYW1lKGFjdGl2ZU5hbWUpO1xuICAgICAgICB0aGlzLnByb3BzLmdldEl0ZW1zKHRoaXMucmVmcy5zZWFyY2gudmFsdWUsIGFjdGl2ZU5hbWUpO1xuICAgIH1cblxuICAgIGNoYW5nZVBhZ2VIYW5kbGVyKHBhZ2UpIHtcbiAgICAgICAgdGhpcy5wcm9wcy5nZXRJdGVtcyh0aGlzLnJlZnMuc2VhcmNoLnZhbHVlLCB0aGlzLnByb3BzLmFjdGl2ZU5hbWUsIHBhZ2UpO1xuICAgIH1cblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgaXRlbXMsXG4gICAgICAgICAgICBhY3RpdmVOYW1lLFxuICAgICAgICAgICAgdG90YWxQYWdlcyxcbiAgICAgICAgICAgIHJlc2V0UGFnZSxcbiAgICAgICAgICAgIGdvdG9Vc2VyLFxuICAgICAgICAgICAgaXNGZXRjaGluZyxcbiAgICAgICAgfSA9IHRoaXMucHJvcHM7XG5cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdzZWFyY2gnPlxuICAgICAgICAgICAgICAgIDxIZWFkZXJcbiAgICAgICAgICAgICAgICAgICAgbGVmdD17e1xuICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjonYWxpZ24nLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTp7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDIwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogMjBcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgY2VudGVyPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICBpY29uOidnaXRodWInXG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgIHJpZ2h0PXt7XG4gICAgICAgICAgICAgICAgICAgICAgICBpY29uOidiZWxsJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiAyNCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IDI0XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH19IC8+XG4gICAgICAgICAgICAgICAgPENvbnRlbnQ+XG4gICAgICAgICAgICAgICAgICAgIDxMaXN0PlxuICAgICAgICAgICAgICAgICAgICAgICAgPEl0ZW0gY2xhc3NOYW1lPSdzZWFyY2gtaW5wdXQnPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdpdGVtLWlubmVyJz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2l0ZW0taW5wdXQnPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT0ndGV4dCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWY9J3NlYXJjaCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbktleVVwPXt0aGlzLmtleVVwSGFuZGxlcn0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L0l0ZW0+XG4gICAgICAgICAgICAgICAgICAgIDwvTGlzdD5cblxuICAgICAgICAgICAgICAgICAgICA8VGFiXG4gICAgICAgICAgICAgICAgICAgICAgICB0YWJzPXt0YWJzfVxuICAgICAgICAgICAgICAgICAgICAgICAgYWN0aXZlTmFtZT17dGFic1syXS5hY3RpdmVOYW1lfVxuICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e19hY3RpdmVOYW1lID0+IHRoaXMuY2hhbmdlVGFiSGFuZGxlcihfYWN0aXZlTmFtZSl9IC8+XG5cbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWN0aXZlTmFtZSA9PT0gdGFic1swXS5hY3RpdmVOYW1lICYmXG4gICAgICAgICAgICAgICAgICAgICAgICA8UmVwb3NpdG9yaWVzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbXM9e2l0ZW1zfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzRmV0Y2hpbmc9e2lzRmV0Y2hpbmd9IC8+XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhY3RpdmVOYW1lID09PSB0YWJzWzFdLmFjdGl2ZU5hbWUgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIDxJc3N1ZXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtcz17aXRlbXN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNGZXRjaGluZz17aXNGZXRjaGluZ30gLz5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjdGl2ZU5hbWUgPT09IHRhYnNbMl0uYWN0aXZlTmFtZSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgPFVzZXJzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbXM9e2l0ZW1zfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdvdG9Vc2VyPXtnb3RvVXNlcn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc0ZldGNoaW5nPXtpc0ZldGNoaW5nfSAvPlxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbXMgJiYgaXRlbXMuc2l6ZSA+IDAgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIDxDb3VudFBhZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXg9e3RvdGFsUGFnZXN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzZXQ9e3Jlc2V0UGFnZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17X3BhZ2UgPT4gdGhpcy5jaGFuZ2VQYWdlSGFuZGxlcihfcGFnZSl9IC8+XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICA8L0NvbnRlbnQ+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcbiAgICB9XG59XG5cblNlYXJjaC5wcm9wVHlwZXMgPSB7XG4gICAgaXRlbTogUmVhY3QuUHJvcFR5cGVzLmluc3RhbmNlT2YoSW1tdXRhYmxlLkxpc3QpLFxuICAgIGFjdGl2ZU5hbWU6IFJlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG4gICAgdG90YWxQYWdlczogUmVhY3QuUHJvcFR5cGVzLm51bWJlcixcbiAgICByZXNldFBhZ2U6IFJlYWN0LlByb3BUeXBlcy5ib29sLFxufTtcblxuZXhwb3J0IGRlZmF1bHQgU2VhcmNoO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9TZWFyY2gvY29tcG9uZW50LmpzeCIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuX19SZXdpcmVBUElfXyA9IGV4cG9ydHMuX19SZXNldERlcGVuZGVuY3lfXyA9IGV4cG9ydHMuX19zZXRfXyA9IGV4cG9ydHMuX19SZXdpcmVfXyA9IGV4cG9ydHMuX19HZXREZXBlbmRlbmN5X18gPSBleHBvcnRzLl9fZ2V0X18gPSBleHBvcnRzLlJlZEJveEVycm9yID0gdW5kZWZpbmVkO1xuXG52YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9yZWFjdERvbSA9IHJlcXVpcmUoJ3JlYWN0LWRvbScpO1xuXG52YXIgX3JlYWN0RG9tMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0RG9tKTtcblxudmFyIF9zdHlsZSA9IHJlcXVpcmUoJy4vc3R5bGUuanMnKTtcblxudmFyIF9zdHlsZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zdHlsZSk7XG5cbnZhciBfZXJyb3JTdGFja1BhcnNlciA9IHJlcXVpcmUoJ2Vycm9yLXN0YWNrLXBhcnNlcicpO1xuXG52YXIgX2Vycm9yU3RhY2tQYXJzZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXJyb3JTdGFja1BhcnNlcik7XG5cbnZhciBfb2JqZWN0QXNzaWduID0gcmVxdWlyZSgnb2JqZWN0LWFzc2lnbicpO1xuXG52YXIgX29iamVjdEFzc2lnbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9vYmplY3RBc3NpZ24pO1xuXG52YXIgX2xpYiA9IHJlcXVpcmUoJy4vbGliJyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIFJlZEJveEVycm9yID0gZXhwb3J0cy5SZWRCb3hFcnJvciA9IGZ1bmN0aW9uIChfZ2V0X18yKSB7XG4gIF9pbmhlcml0cyhSZWRCb3hFcnJvciwgX2dldF9fMik7XG5cbiAgZnVuY3Rpb24gUmVkQm94RXJyb3IoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFJlZEJveEVycm9yKTtcblxuICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoUmVkQm94RXJyb3IuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihSZWRCb3hFcnJvcikpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKFJlZEJveEVycm9yLCBbe1xuICAgIGtleTogJ3JlbmRlckZyYW1lcycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlckZyYW1lcyhmcmFtZXMpIHtcbiAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIGZpbGVuYW1lID0gX3Byb3BzLmZpbGVuYW1lLFxuICAgICAgICAgIGVkaXRvclNjaGVtZSA9IF9wcm9wcy5lZGl0b3JTY2hlbWUsXG4gICAgICAgICAgdXNlTGluZXMgPSBfcHJvcHMudXNlTGluZXMsXG4gICAgICAgICAgdXNlQ29sdW1ucyA9IF9wcm9wcy51c2VDb2x1bW5zO1xuXG4gICAgICB2YXIgX2dldF9fMyA9IF9nZXRfXygnYXNzaWduJykoe30sIF9nZXRfXygnc3R5bGUnKSwgdGhpcy5wcm9wcy5zdHlsZSksXG4gICAgICAgICAgZnJhbWUgPSBfZ2V0X18zLmZyYW1lLFxuICAgICAgICAgIGZpbGUgPSBfZ2V0X18zLmZpbGUsXG4gICAgICAgICAgbGlua1RvRmlsZSA9IF9nZXRfXzMubGlua1RvRmlsZTtcblxuICAgICAgcmV0dXJuIGZyYW1lcy5tYXAoZnVuY3Rpb24gKGYsIGluZGV4KSB7XG4gICAgICAgIHZhciB0ZXh0ID0gdm9pZCAwO1xuICAgICAgICB2YXIgdXJsID0gdm9pZCAwO1xuXG4gICAgICAgIGlmIChpbmRleCA9PT0gMCAmJiBmaWxlbmFtZSAmJiAhX2dldF9fKCdpc0ZpbGVuYW1lQWJzb2x1dGUnKShmLmZpbGVOYW1lKSkge1xuICAgICAgICAgIHVybCA9IF9nZXRfXygnbWFrZVVybCcpKGZpbGVuYW1lLCBlZGl0b3JTY2hlbWUpO1xuICAgICAgICAgIHRleHQgPSBfZ2V0X18oJ21ha2VMaW5rVGV4dCcpKGZpbGVuYW1lKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgbGluZXMgPSB1c2VMaW5lcyA/IGYubGluZU51bWJlciA6IG51bGw7XG4gICAgICAgICAgdmFyIGNvbHVtbnMgPSB1c2VDb2x1bW5zID8gZi5jb2x1bW5OdW1iZXIgOiBudWxsO1xuICAgICAgICAgIHVybCA9IF9nZXRfXygnbWFrZVVybCcpKGYuZmlsZU5hbWUsIGVkaXRvclNjaGVtZSwgbGluZXMsIGNvbHVtbnMpO1xuICAgICAgICAgIHRleHQgPSBfZ2V0X18oJ21ha2VMaW5rVGV4dCcpKGYuZmlsZU5hbWUsIGxpbmVzLCBjb2x1bW5zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBfZ2V0X18oJ1JlYWN0JykuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICB7IHN0eWxlOiBmcmFtZSwga2V5OiBpbmRleCB9LFxuICAgICAgICAgIF9nZXRfXygnUmVhY3QnKS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgZi5mdW5jdGlvbk5hbWVcbiAgICAgICAgICApLFxuICAgICAgICAgIF9nZXRfXygnUmVhY3QnKS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICB7IHN0eWxlOiBmaWxlIH0sXG4gICAgICAgICAgICBfZ2V0X18oJ1JlYWN0JykuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgJ2EnLFxuICAgICAgICAgICAgICB7IGhyZWY6IHVybCwgc3R5bGU6IGxpbmtUb0ZpbGUgfSxcbiAgICAgICAgICAgICAgdGV4dFxuICAgICAgICAgICAgKVxuICAgICAgICAgIClcbiAgICAgICAgKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3JlbmRlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBfcHJvcHMyID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBlcnJvciA9IF9wcm9wczIuZXJyb3IsXG4gICAgICAgICAgY2xhc3NOYW1lID0gX3Byb3BzMi5jbGFzc05hbWU7XG5cbiAgICAgIHZhciBfZ2V0X180ID0gX2dldF9fKCdhc3NpZ24nKSh7fSwgX2dldF9fKCdzdHlsZScpLCB0aGlzLnByb3BzLnN0eWxlKSxcbiAgICAgICAgICByZWRib3ggPSBfZ2V0X180LnJlZGJveCxcbiAgICAgICAgICBtZXNzYWdlID0gX2dldF9fNC5tZXNzYWdlLFxuICAgICAgICAgIHN0YWNrID0gX2dldF9fNC5zdGFjayxcbiAgICAgICAgICBmcmFtZSA9IF9nZXRfXzQuZnJhbWU7XG5cbiAgICAgIHZhciBmcmFtZXMgPSB2b2lkIDA7XG4gICAgICB2YXIgcGFyc2VFcnJvciA9IHZvaWQgMDtcbiAgICAgIHRyeSB7XG4gICAgICAgIGZyYW1lcyA9IF9nZXRfXygnRXJyb3JTdGFja1BhcnNlcicpLnBhcnNlKGVycm9yKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcGFyc2VFcnJvciA9IG5ldyBFcnJvcignRmFpbGVkIHRvIHBhcnNlIHN0YWNrIHRyYWNlLiBTdGFjayB0cmFjZSBpbmZvcm1hdGlvbiB1bmF2YWlsYWJsZS4nKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHBhcnNlRXJyb3IpIHtcbiAgICAgICAgZnJhbWVzID0gX2dldF9fKCdSZWFjdCcpLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgeyBzdHlsZTogZnJhbWUsIGtleTogMCB9LFxuICAgICAgICAgIF9nZXRfXygnUmVhY3QnKS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgcGFyc2VFcnJvci5tZXNzYWdlXG4gICAgICAgICAgKVxuICAgICAgICApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZnJhbWVzID0gdGhpcy5yZW5kZXJGcmFtZXMoZnJhbWVzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIF9nZXRfXygnUmVhY3QnKS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnZGl2JyxcbiAgICAgICAgeyBzdHlsZTogcmVkYm94LCBjbGFzc05hbWU6IGNsYXNzTmFtZSB9LFxuICAgICAgICBfZ2V0X18oJ1JlYWN0JykuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICB7IHN0eWxlOiBtZXNzYWdlIH0sXG4gICAgICAgICAgZXJyb3IubmFtZSxcbiAgICAgICAgICAnOiAnLFxuICAgICAgICAgIGVycm9yLm1lc3NhZ2VcbiAgICAgICAgKSxcbiAgICAgICAgX2dldF9fKCdSZWFjdCcpLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgeyBzdHlsZTogc3RhY2sgfSxcbiAgICAgICAgICBmcmFtZXNcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gUmVkQm94RXJyb3I7XG59KF9nZXRfXygnQ29tcG9uZW50JykpO1xuXG4vLyBcIlBvcnRhbFwiIGNvbXBvbmVudCBmb3IgYWN0dWFsIFJlZEJveEVycm9yIGNvbXBvbmVudCB0b1xuLy8gcmVuZGVyIHRvIChkaXJlY3RseSB1bmRlciBib2R5KS4gUHJldmVudHMgYnVncyBhcyBpbiAjMjcuXG5cblxuUmVkQm94RXJyb3IucHJvcFR5cGVzID0ge1xuICBlcnJvcjogX2dldF9fKCdQcm9wVHlwZXMnKS5pbnN0YW5jZU9mKEVycm9yKS5pc1JlcXVpcmVkLFxuICBmaWxlbmFtZTogX2dldF9fKCdQcm9wVHlwZXMnKS5zdHJpbmcsXG4gIGVkaXRvclNjaGVtZTogX2dldF9fKCdQcm9wVHlwZXMnKS5zdHJpbmcsXG4gIHVzZUxpbmVzOiBfZ2V0X18oJ1Byb3BUeXBlcycpLmJvb2wsXG4gIHVzZUNvbHVtbnM6IF9nZXRfXygnUHJvcFR5cGVzJykuYm9vbCxcbiAgc3R5bGU6IF9nZXRfXygnUHJvcFR5cGVzJykub2JqZWN0LFxuICBjbGFzc05hbWU6IF9nZXRfXygnUHJvcFR5cGVzJykuc3RyaW5nXG59O1xuUmVkQm94RXJyb3IuZGlzcGxheU5hbWUgPSAnUmVkQm94RXJyb3InO1xuUmVkQm94RXJyb3IuZGVmYXVsdFByb3BzID0ge1xuICB1c2VMaW5lczogdHJ1ZSxcbiAgdXNlQ29sdW1uczogdHJ1ZVxufTtcblxudmFyIFJlZEJveCA9IGZ1bmN0aW9uIChfZ2V0X181KSB7XG4gIF9pbmhlcml0cyhSZWRCb3gsIF9nZXRfXzUpO1xuXG4gIGZ1bmN0aW9uIFJlZEJveCgpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUmVkQm94KTtcblxuICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoUmVkQm94Ll9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoUmVkQm94KSkuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoUmVkQm94LCBbe1xuICAgIGtleTogJ2NvbXBvbmVudERpZE1vdW50JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICB0aGlzLmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMuZWwpO1xuICAgICAgdGhpcy5yZW5kZXJSZWRCb3hFcnJvcigpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2NvbXBvbmVudERpZFVwZGF0ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZFVwZGF0ZSgpIHtcbiAgICAgIHRoaXMucmVuZGVyUmVkQm94RXJyb3IoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdjb21wb25lbnRXaWxsVW5tb3VudCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgICAgX2dldF9fKCdSZWFjdERPTScpLnVubW91bnRDb21wb25lbnRBdE5vZGUodGhpcy5lbCk7XG4gICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHRoaXMuZWwpO1xuICAgICAgdGhpcy5lbCA9IG51bGw7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAncmVuZGVyUmVkQm94RXJyb3InLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXJSZWRCb3hFcnJvcigpIHtcbiAgICAgIF9nZXRfXygnUmVhY3RET00nKS5yZW5kZXIoX2dldF9fKCdSZWFjdCcpLmNyZWF0ZUVsZW1lbnQoX2dldF9fKCdSZWRCb3hFcnJvcicpLCB0aGlzLnByb3BzKSwgdGhpcy5lbCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAncmVuZGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFJlZEJveDtcbn0oX2dldF9fKCdDb21wb25lbnQnKSk7XG5cblJlZEJveC5wcm9wVHlwZXMgPSB7XG4gIGVycm9yOiBfZ2V0X18oJ1Byb3BUeXBlcycpLmluc3RhbmNlT2YoRXJyb3IpLmlzUmVxdWlyZWRcbn07XG5SZWRCb3guZGlzcGxheU5hbWUgPSAnUmVkQm94JztcbmV4cG9ydHMuZGVmYXVsdCA9IFJlZEJveDtcblxudmFyIF9SZXdpcmVkRGF0YV9fID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcblxudmFyIElOVEVOVElPTkFMX1VOREVGSU5FRCA9ICdfX0lOVEVOVElPTkFMX1VOREVGSU5FRF9fJztcbnZhciBfUmV3aXJlQVBJX18gPSB7fTtcblxuKGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gYWRkUHJvcGVydHlUb0FQSU9iamVjdChuYW1lLCB2YWx1ZSkge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShfUmV3aXJlQVBJX18sIG5hbWUsIHtcbiAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gIH1cblxuICBhZGRQcm9wZXJ0eVRvQVBJT2JqZWN0KCdfX2dldF9fJywgX2dldF9fKTtcbiAgYWRkUHJvcGVydHlUb0FQSU9iamVjdCgnX19HZXREZXBlbmRlbmN5X18nLCBfZ2V0X18pO1xuICBhZGRQcm9wZXJ0eVRvQVBJT2JqZWN0KCdfX1Jld2lyZV9fJywgX3NldF9fKTtcbiAgYWRkUHJvcGVydHlUb0FQSU9iamVjdCgnX19zZXRfXycsIF9zZXRfXyk7XG4gIGFkZFByb3BlcnR5VG9BUElPYmplY3QoJ19fcmVzZXRfXycsIF9yZXNldF9fKTtcbiAgYWRkUHJvcGVydHlUb0FQSU9iamVjdCgnX19SZXNldERlcGVuZGVuY3lfXycsIF9yZXNldF9fKTtcbiAgYWRkUHJvcGVydHlUb0FQSU9iamVjdCgnX193aXRoX18nLCBfd2l0aF9fKTtcbn0pKCk7XG5cbmZ1bmN0aW9uIF9nZXRfXyh2YXJpYWJsZU5hbWUpIHtcbiAgaWYgKF9SZXdpcmVkRGF0YV9fID09PSB1bmRlZmluZWQgfHwgX1Jld2lyZWREYXRhX19bdmFyaWFibGVOYW1lXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIF9nZXRfb3JpZ2luYWxfXyh2YXJpYWJsZU5hbWUpO1xuICB9IGVsc2Uge1xuICAgIHZhciB2YWx1ZSA9IF9SZXdpcmVkRGF0YV9fW3ZhcmlhYmxlTmFtZV07XG5cbiAgICBpZiAodmFsdWUgPT09IElOVEVOVElPTkFMX1VOREVGSU5FRCkge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBfZ2V0X29yaWdpbmFsX18odmFyaWFibGVOYW1lKSB7XG4gIHN3aXRjaCAodmFyaWFibGVOYW1lKSB7XG4gICAgY2FzZSAnUHJvcFR5cGVzJzpcbiAgICAgIHJldHVybiBfcmVhY3QuUHJvcFR5cGVzO1xuXG4gICAgY2FzZSAnYXNzaWduJzpcbiAgICAgIHJldHVybiBfb2JqZWN0QXNzaWduMi5kZWZhdWx0O1xuXG4gICAgY2FzZSAnc3R5bGUnOlxuICAgICAgcmV0dXJuIF9zdHlsZTIuZGVmYXVsdDtcblxuICAgIGNhc2UgJ2lzRmlsZW5hbWVBYnNvbHV0ZSc6XG4gICAgICByZXR1cm4gX2xpYi5pc0ZpbGVuYW1lQWJzb2x1dGU7XG5cbiAgICBjYXNlICdtYWtlVXJsJzpcbiAgICAgIHJldHVybiBfbGliLm1ha2VVcmw7XG5cbiAgICBjYXNlICdtYWtlTGlua1RleHQnOlxuICAgICAgcmV0dXJuIF9saWIubWFrZUxpbmtUZXh0O1xuXG4gICAgY2FzZSAnRXJyb3JTdGFja1BhcnNlcic6XG4gICAgICByZXR1cm4gX2Vycm9yU3RhY2tQYXJzZXIyLmRlZmF1bHQ7XG5cbiAgICBjYXNlICdDb21wb25lbnQnOlxuICAgICAgcmV0dXJuIF9yZWFjdC5Db21wb25lbnQ7XG5cbiAgICBjYXNlICdSZWFjdERPTSc6XG4gICAgICByZXR1cm4gX3JlYWN0RG9tMi5kZWZhdWx0O1xuXG4gICAgY2FzZSAnUmVhY3QnOlxuICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdDtcblxuICAgIGNhc2UgJ1JlZEJveEVycm9yJzpcbiAgICAgIHJldHVybiBSZWRCb3hFcnJvcjtcbiAgfVxuXG4gIHJldHVybiB1bmRlZmluZWQ7XG59XG5cbmZ1bmN0aW9uIF9hc3NpZ25fXyh2YXJpYWJsZU5hbWUsIHZhbHVlKSB7XG4gIGlmIChfUmV3aXJlZERhdGFfXyA9PT0gdW5kZWZpbmVkIHx8IF9SZXdpcmVkRGF0YV9fW3ZhcmlhYmxlTmFtZV0gPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiBfc2V0X29yaWdpbmFsX18odmFyaWFibGVOYW1lLCB2YWx1ZSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIF9SZXdpcmVkRGF0YV9fW3ZhcmlhYmxlTmFtZV0gPSB2YWx1ZTtcbiAgfVxufVxuXG5mdW5jdGlvbiBfc2V0X29yaWdpbmFsX18odmFyaWFibGVOYW1lLCBfdmFsdWUpIHtcbiAgc3dpdGNoICh2YXJpYWJsZU5hbWUpIHt9XG5cbiAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cblxuZnVuY3Rpb24gX3VwZGF0ZV9vcGVyYXRpb25fXyhvcGVyYXRpb24sIHZhcmlhYmxlTmFtZSwgcHJlZml4KSB7XG4gIHZhciBvbGRWYWx1ZSA9IF9nZXRfXyh2YXJpYWJsZU5hbWUpO1xuXG4gIHZhciBuZXdWYWx1ZSA9IG9wZXJhdGlvbiA9PT0gJysrJyA/IG9sZFZhbHVlICsgMSA6IG9sZFZhbHVlIC0gMTtcblxuICBfYXNzaWduX18odmFyaWFibGVOYW1lLCBuZXdWYWx1ZSk7XG5cbiAgcmV0dXJuIHByZWZpeCA/IG5ld1ZhbHVlIDogb2xkVmFsdWU7XG59XG5cbmZ1bmN0aW9uIF9zZXRfXyh2YXJpYWJsZU5hbWUsIHZhbHVlKSB7XG4gIGlmICgodHlwZW9mIHZhcmlhYmxlTmFtZSA9PT0gJ3VuZGVmaW5lZCcgPyAndW5kZWZpbmVkJyA6IF90eXBlb2YodmFyaWFibGVOYW1lKSkgPT09ICdvYmplY3QnKSB7XG4gICAgT2JqZWN0LmtleXModmFyaWFibGVOYW1lKS5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICBfUmV3aXJlZERhdGFfX1tuYW1lXSA9IHZhcmlhYmxlTmFtZVtuYW1lXTtcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgX1Jld2lyZWREYXRhX19bdmFyaWFibGVOYW1lXSA9IElOVEVOVElPTkFMX1VOREVGSU5FRDtcbiAgICB9IGVsc2Uge1xuICAgICAgX1Jld2lyZWREYXRhX19bdmFyaWFibGVOYW1lXSA9IHZhbHVlO1xuICAgIH1cblxuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICBfcmVzZXRfXyh2YXJpYWJsZU5hbWUpO1xuICAgIH07XG4gIH1cbn1cblxuZnVuY3Rpb24gX3Jlc2V0X18odmFyaWFibGVOYW1lKSB7XG4gIGRlbGV0ZSBfUmV3aXJlZERhdGFfX1t2YXJpYWJsZU5hbWVdO1xufVxuXG5mdW5jdGlvbiBfd2l0aF9fKG9iamVjdCkge1xuICB2YXIgcmV3aXJlZFZhcmlhYmxlTmFtZXMgPSBPYmplY3Qua2V5cyhvYmplY3QpO1xuICB2YXIgcHJldmlvdXNWYWx1ZXMgPSB7fTtcblxuICBmdW5jdGlvbiByZXNldCgpIHtcbiAgICByZXdpcmVkVmFyaWFibGVOYW1lcy5mb3JFYWNoKGZ1bmN0aW9uICh2YXJpYWJsZU5hbWUpIHtcbiAgICAgIF9SZXdpcmVkRGF0YV9fW3ZhcmlhYmxlTmFtZV0gPSBwcmV2aW91c1ZhbHVlc1t2YXJpYWJsZU5hbWVdO1xuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIHJld2lyZWRWYXJpYWJsZU5hbWVzLmZvckVhY2goZnVuY3Rpb24gKHZhcmlhYmxlTmFtZSkge1xuICAgICAgcHJldmlvdXNWYWx1ZXNbdmFyaWFibGVOYW1lXSA9IF9SZXdpcmVkRGF0YV9fW3ZhcmlhYmxlTmFtZV07XG4gICAgICBfUmV3aXJlZERhdGFfX1t2YXJpYWJsZU5hbWVdID0gb2JqZWN0W3ZhcmlhYmxlTmFtZV07XG4gICAgfSk7XG4gICAgdmFyIHJlc3VsdCA9IGNhbGxiYWNrKCk7XG5cbiAgICBpZiAoISFyZXN1bHQgJiYgdHlwZW9mIHJlc3VsdC50aGVuID09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJlc3VsdC50aGVuKHJlc2V0KS5jYXRjaChyZXNldCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc2V0KCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcbn1cblxudmFyIF90eXBlT2ZPcmlnaW5hbEV4cG9ydCA9IHR5cGVvZiBSZWRCb3ggPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKFJlZEJveCk7XG5cbmZ1bmN0aW9uIGFkZE5vbkVudW1lcmFibGVQcm9wZXJ0eShuYW1lLCB2YWx1ZSkge1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVkQm94LCBuYW1lLCB7XG4gICAgdmFsdWU6IHZhbHVlLFxuICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICB9KTtcbn1cblxuaWYgKChfdHlwZU9mT3JpZ2luYWxFeHBvcnQgPT09ICdvYmplY3QnIHx8IF90eXBlT2ZPcmlnaW5hbEV4cG9ydCA9PT0gJ2Z1bmN0aW9uJykgJiYgT2JqZWN0LmlzRXh0ZW5zaWJsZShSZWRCb3gpKSB7XG4gIGFkZE5vbkVudW1lcmFibGVQcm9wZXJ0eSgnX19nZXRfXycsIF9nZXRfXyk7XG4gIGFkZE5vbkVudW1lcmFibGVQcm9wZXJ0eSgnX19HZXREZXBlbmRlbmN5X18nLCBfZ2V0X18pO1xuICBhZGROb25FbnVtZXJhYmxlUHJvcGVydHkoJ19fUmV3aXJlX18nLCBfc2V0X18pO1xuICBhZGROb25FbnVtZXJhYmxlUHJvcGVydHkoJ19fc2V0X18nLCBfc2V0X18pO1xuICBhZGROb25FbnVtZXJhYmxlUHJvcGVydHkoJ19fcmVzZXRfXycsIF9yZXNldF9fKTtcbiAgYWRkTm9uRW51bWVyYWJsZVByb3BlcnR5KCdfX1Jlc2V0RGVwZW5kZW5jeV9fJywgX3Jlc2V0X18pO1xuICBhZGROb25FbnVtZXJhYmxlUHJvcGVydHkoJ19fd2l0aF9fJywgX3dpdGhfXyk7XG4gIGFkZE5vbkVudW1lcmFibGVQcm9wZXJ0eSgnX19SZXdpcmVBUElfXycsIF9SZXdpcmVBUElfXyk7XG59XG5cbmV4cG9ydHMuX19nZXRfXyA9IF9nZXRfXztcbmV4cG9ydHMuX19HZXREZXBlbmRlbmN5X18gPSBfZ2V0X187XG5leHBvcnRzLl9fUmV3aXJlX18gPSBfc2V0X187XG5leHBvcnRzLl9fc2V0X18gPSBfc2V0X187XG5leHBvcnRzLl9fUmVzZXREZXBlbmRlbmN5X18gPSBfcmVzZXRfXztcbmV4cG9ydHMuX19SZXdpcmVBUElfXyA9IF9SZXdpcmVBUElfXztcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vcmVkYm94LXJlYWN0L2xpYi9pbmRleC5qc1xuLy8gbW9kdWxlIGlkID0gNTc5XG4vLyBtb2R1bGUgY2h1bmtzID0gMSAyIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xudmFyIF9EZWZhdWx0RXhwb3J0VmFsdWUgPSB7XG4gIHJlZGJveDoge1xuICAgIGJveFNpemluZzogJ2JvcmRlci1ib3gnLFxuICAgIGZvbnRGYW1pbHk6ICdzYW5zLXNlcmlmJyxcbiAgICBwb3NpdGlvbjogJ2ZpeGVkJyxcbiAgICBwYWRkaW5nOiAxMCxcbiAgICB0b3A6ICcwcHgnLFxuICAgIGxlZnQ6ICcwcHgnLFxuICAgIGJvdHRvbTogJzBweCcsXG4gICAgcmlnaHQ6ICcwcHgnLFxuICAgIHdpZHRoOiAnMTAwJScsXG4gICAgYmFja2dyb3VuZDogJ3JnYigyMDQsIDAsIDApJyxcbiAgICBjb2xvcjogJ3doaXRlJyxcbiAgICB6SW5kZXg6IDIxNDc0ODM2NDcsXG4gICAgdGV4dEFsaWduOiAnbGVmdCcsXG4gICAgZm9udFNpemU6ICcxNnB4JyxcbiAgICBsaW5lSGVpZ2h0OiAxLjIsXG4gICAgb3ZlcmZsb3c6ICdzY3JvbGwnXG4gIH0sXG4gIG1lc3NhZ2U6IHtcbiAgICBmb250V2VpZ2h0OiAnYm9sZCdcbiAgfSxcbiAgc3RhY2s6IHtcbiAgICBmb250RmFtaWx5OiAnbW9ub3NwYWNlJyxcbiAgICBtYXJnaW5Ub3A6ICcyZW0nXG4gIH0sXG4gIGZyYW1lOiB7XG4gICAgbWFyZ2luVG9wOiAnMWVtJ1xuICB9LFxuICBmaWxlOiB7XG4gICAgZm9udFNpemU6ICcwLjhlbScsXG4gICAgY29sb3I6ICdyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuNyknXG4gIH0sXG4gIGxpbmtUb0ZpbGU6IHtcbiAgICB0ZXh0RGVjb3JhdGlvbjogJ25vbmUnLFxuICAgIGNvbG9yOiAncmdiYSgyNTUsIDI1NSwgMjU1LCAwLjcpJ1xuICB9XG59O1xuZXhwb3J0cy5kZWZhdWx0ID0gX0RlZmF1bHRFeHBvcnRWYWx1ZTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vcmVkYm94LXJlYWN0L2xpYi9zdHlsZS5qc1xuLy8gbW9kdWxlIGlkID0gNTgwXG4vLyBtb2R1bGUgY2h1bmtzID0gMSAyIiwiKGZ1bmN0aW9uKHJvb3QsIGZhY3RvcnkpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgLy8gVW5pdmVyc2FsIE1vZHVsZSBEZWZpbml0aW9uIChVTUQpIHRvIHN1cHBvcnQgQU1ELCBDb21tb25KUy9Ob2RlLmpzLCBSaGlubywgYW5kIGJyb3dzZXJzLlxuXG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG4gICAgICAgIGRlZmluZSgnZXJyb3Itc3RhY2stcGFyc2VyJywgWydzdGFja2ZyYW1lJ10sIGZhY3RvcnkpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShyZXF1aXJlKCdzdGFja2ZyYW1lJykpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJvb3QuRXJyb3JTdGFja1BhcnNlciA9IGZhY3Rvcnkocm9vdC5TdGFja0ZyYW1lKTtcbiAgICB9XG59KHRoaXMsIGZ1bmN0aW9uIEVycm9yU3RhY2tQYXJzZXIoU3RhY2tGcmFtZSkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIHZhciBGSVJFRk9YX1NBRkFSSV9TVEFDS19SRUdFWFAgPSAvKF58QClcXFMrXFw6XFxkKy87XG4gICAgdmFyIENIUk9NRV9JRV9TVEFDS19SRUdFWFAgPSAvXlxccyphdCAuKihcXFMrXFw6XFxkK3xcXChuYXRpdmVcXCkpL207XG4gICAgdmFyIFNBRkFSSV9OQVRJVkVfQ09ERV9SRUdFWFAgPSAvXihldmFsQCk/KFxcW25hdGl2ZSBjb2RlXFxdKT8kLztcblxuICAgIGZ1bmN0aW9uIF9tYXAoYXJyYXksIGZuLCB0aGlzQXJnKSB7XG4gICAgICAgIGlmICh0eXBlb2YgQXJyYXkucHJvdG90eXBlLm1hcCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgcmV0dXJuIGFycmF5Lm1hcChmbiwgdGhpc0FyZyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgb3V0cHV0ID0gbmV3IEFycmF5KGFycmF5Lmxlbmd0aCk7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgb3V0cHV0W2ldID0gZm4uY2FsbCh0aGlzQXJnLCBhcnJheVtpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gb3V0cHV0O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gX2ZpbHRlcihhcnJheSwgZm4sIHRoaXNBcmcpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBBcnJheS5wcm90b3R5cGUuZmlsdGVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICByZXR1cm4gYXJyYXkuZmlsdGVyKGZuLCB0aGlzQXJnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBvdXRwdXQgPSBbXTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoZm4uY2FsbCh0aGlzQXJnLCBhcnJheVtpXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgb3V0cHV0LnB1c2goYXJyYXlbaV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBvdXRwdXQ7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBfaW5kZXhPZihhcnJheSwgdGFyZ2V0KSB7XG4gICAgICAgIGlmICh0eXBlb2YgQXJyYXkucHJvdG90eXBlLmluZGV4T2YgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHJldHVybiBhcnJheS5pbmRleE9mKHRhcmdldCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKGFycmF5W2ldID09PSB0YXJnZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdpdmVuIGFuIEVycm9yIG9iamVjdCwgZXh0cmFjdCB0aGUgbW9zdCBpbmZvcm1hdGlvbiBmcm9tIGl0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0ge0Vycm9yfSBlcnJvciBvYmplY3RcbiAgICAgICAgICogQHJldHVybiB7QXJyYXl9IG9mIFN0YWNrRnJhbWVzXG4gICAgICAgICAqL1xuICAgICAgICBwYXJzZTogZnVuY3Rpb24gRXJyb3JTdGFja1BhcnNlciQkcGFyc2UoZXJyb3IpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgZXJyb3Iuc3RhY2t0cmFjZSAhPT0gJ3VuZGVmaW5lZCcgfHwgdHlwZW9mIGVycm9yWydvcGVyYSNzb3VyY2Vsb2MnXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wYXJzZU9wZXJhKGVycm9yKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZXJyb3Iuc3RhY2sgJiYgZXJyb3Iuc3RhY2subWF0Y2goQ0hST01FX0lFX1NUQUNLX1JFR0VYUCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wYXJzZVY4T3JJRShlcnJvcik7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGVycm9yLnN0YWNrKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucGFyc2VGRk9yU2FmYXJpKGVycm9yKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgcGFyc2UgZ2l2ZW4gRXJyb3Igb2JqZWN0Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLy8gU2VwYXJhdGUgbGluZSBhbmQgY29sdW1uIG51bWJlcnMgZnJvbSBhIHN0cmluZyBvZiB0aGUgZm9ybTogKFVSSTpMaW5lOkNvbHVtbilcbiAgICAgICAgZXh0cmFjdExvY2F0aW9uOiBmdW5jdGlvbiBFcnJvclN0YWNrUGFyc2VyJCRleHRyYWN0TG9jYXRpb24odXJsTGlrZSkge1xuICAgICAgICAgICAgLy8gRmFpbC1mYXN0IGJ1dCByZXR1cm4gbG9jYXRpb25zIGxpa2UgXCIobmF0aXZlKVwiXG4gICAgICAgICAgICBpZiAodXJsTGlrZS5pbmRleE9mKCc6JykgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFt1cmxMaWtlXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIHJlZ0V4cCA9IC8oLis/KSg/OlxcOihcXGQrKSk/KD86XFw6KFxcZCspKT8kLztcbiAgICAgICAgICAgIHZhciBwYXJ0cyA9IHJlZ0V4cC5leGVjKHVybExpa2UucmVwbGFjZSgvW1xcKFxcKV0vZywgJycpKTtcbiAgICAgICAgICAgIHJldHVybiBbcGFydHNbMV0sIHBhcnRzWzJdIHx8IHVuZGVmaW5lZCwgcGFydHNbM10gfHwgdW5kZWZpbmVkXTtcbiAgICAgICAgfSxcblxuICAgICAgICBwYXJzZVY4T3JJRTogZnVuY3Rpb24gRXJyb3JTdGFja1BhcnNlciQkcGFyc2VWOE9ySUUoZXJyb3IpIHtcbiAgICAgICAgICAgIHZhciBmaWx0ZXJlZCA9IF9maWx0ZXIoZXJyb3Iuc3RhY2suc3BsaXQoJ1xcbicpLCBmdW5jdGlvbihsaW5lKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICEhbGluZS5tYXRjaChDSFJPTUVfSUVfU1RBQ0tfUkVHRVhQKTtcbiAgICAgICAgICAgIH0sIHRoaXMpO1xuXG4gICAgICAgICAgICByZXR1cm4gX21hcChmaWx0ZXJlZCwgZnVuY3Rpb24obGluZSkge1xuICAgICAgICAgICAgICAgIGlmIChsaW5lLmluZGV4T2YoJyhldmFsICcpID4gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVGhyb3cgYXdheSBldmFsIGluZm9ybWF0aW9uIHVudGlsIHdlIGltcGxlbWVudCBzdGFja3RyYWNlLmpzL3N0YWNrZnJhbWUjOFxuICAgICAgICAgICAgICAgICAgICBsaW5lID0gbGluZS5yZXBsYWNlKC9ldmFsIGNvZGUvZywgJ2V2YWwnKS5yZXBsYWNlKC8oXFwoZXZhbCBhdCBbXlxcKCldKil8KFxcKVxcLC4qJCkvZywgJycpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgdG9rZW5zID0gbGluZS5yZXBsYWNlKC9eXFxzKy8sICcnKS5yZXBsYWNlKC9cXChldmFsIGNvZGUvZywgJygnKS5zcGxpdCgvXFxzKy8pLnNsaWNlKDEpO1xuICAgICAgICAgICAgICAgIHZhciBsb2NhdGlvblBhcnRzID0gdGhpcy5leHRyYWN0TG9jYXRpb24odG9rZW5zLnBvcCgpKTtcbiAgICAgICAgICAgICAgICB2YXIgZnVuY3Rpb25OYW1lID0gdG9rZW5zLmpvaW4oJyAnKSB8fCB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgdmFyIGZpbGVOYW1lID0gX2luZGV4T2YoWydldmFsJywgJzxhbm9ueW1vdXM+J10sIGxvY2F0aW9uUGFydHNbMF0pID4gLTEgPyB1bmRlZmluZWQgOiBsb2NhdGlvblBhcnRzWzBdO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBTdGFja0ZyYW1lKGZ1bmN0aW9uTmFtZSwgdW5kZWZpbmVkLCBmaWxlTmFtZSwgbG9jYXRpb25QYXJ0c1sxXSwgbG9jYXRpb25QYXJ0c1syXSwgbGluZSk7XG4gICAgICAgICAgICB9LCB0aGlzKTtcbiAgICAgICAgfSxcblxuICAgICAgICBwYXJzZUZGT3JTYWZhcmk6IGZ1bmN0aW9uIEVycm9yU3RhY2tQYXJzZXIkJHBhcnNlRkZPclNhZmFyaShlcnJvcikge1xuICAgICAgICAgICAgdmFyIGZpbHRlcmVkID0gX2ZpbHRlcihlcnJvci5zdGFjay5zcGxpdCgnXFxuJyksIGZ1bmN0aW9uKGxpbmUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gIWxpbmUubWF0Y2goU0FGQVJJX05BVElWRV9DT0RFX1JFR0VYUCk7XG4gICAgICAgICAgICB9LCB0aGlzKTtcblxuICAgICAgICAgICAgcmV0dXJuIF9tYXAoZmlsdGVyZWQsIGZ1bmN0aW9uKGxpbmUpIHtcbiAgICAgICAgICAgICAgICAvLyBUaHJvdyBhd2F5IGV2YWwgaW5mb3JtYXRpb24gdW50aWwgd2UgaW1wbGVtZW50IHN0YWNrdHJhY2UuanMvc3RhY2tmcmFtZSM4XG4gICAgICAgICAgICAgICAgaWYgKGxpbmUuaW5kZXhPZignID4gZXZhbCcpID4gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgbGluZSA9IGxpbmUucmVwbGFjZSgvIGxpbmUgKFxcZCspKD86ID4gZXZhbCBsaW5lIFxcZCspKiA+IGV2YWxcXDpcXGQrXFw6XFxkKy9nLCAnOiQxJyk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGxpbmUuaW5kZXhPZignQCcpID09PSAtMSAmJiBsaW5lLmluZGV4T2YoJzonKSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gU2FmYXJpIGV2YWwgZnJhbWVzIG9ubHkgaGF2ZSBmdW5jdGlvbiBuYW1lcyBhbmQgbm90aGluZyBlbHNlXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgU3RhY2tGcmFtZShsaW5lKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdG9rZW5zID0gbGluZS5zcGxpdCgnQCcpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgbG9jYXRpb25QYXJ0cyA9IHRoaXMuZXh0cmFjdExvY2F0aW9uKHRva2Vucy5wb3AoKSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBmdW5jdGlvbk5hbWUgPSB0b2tlbnMuam9pbignQCcpIHx8IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBTdGFja0ZyYW1lKGZ1bmN0aW9uTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uUGFydHNbMF0sXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2NhdGlvblBhcnRzWzFdLFxuICAgICAgICAgICAgICAgICAgICAgICAgbG9jYXRpb25QYXJ0c1syXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHRoaXMpO1xuICAgICAgICB9LFxuXG4gICAgICAgIHBhcnNlT3BlcmE6IGZ1bmN0aW9uIEVycm9yU3RhY2tQYXJzZXIkJHBhcnNlT3BlcmEoZSkge1xuICAgICAgICAgICAgaWYgKCFlLnN0YWNrdHJhY2UgfHwgKGUubWVzc2FnZS5pbmRleE9mKCdcXG4nKSA+IC0xICYmXG4gICAgICAgICAgICAgICAgZS5tZXNzYWdlLnNwbGl0KCdcXG4nKS5sZW5ndGggPiBlLnN0YWNrdHJhY2Uuc3BsaXQoJ1xcbicpLmxlbmd0aCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wYXJzZU9wZXJhOShlKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIWUuc3RhY2spIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wYXJzZU9wZXJhMTAoZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnBhcnNlT3BlcmExMShlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBwYXJzZU9wZXJhOTogZnVuY3Rpb24gRXJyb3JTdGFja1BhcnNlciQkcGFyc2VPcGVyYTkoZSkge1xuICAgICAgICAgICAgdmFyIGxpbmVSRSA9IC9MaW5lIChcXGQrKS4qc2NyaXB0ICg/OmluICk/KFxcUyspL2k7XG4gICAgICAgICAgICB2YXIgbGluZXMgPSBlLm1lc3NhZ2Uuc3BsaXQoJ1xcbicpO1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMiwgbGVuID0gbGluZXMubGVuZ3RoOyBpIDwgbGVuOyBpICs9IDIpIHtcbiAgICAgICAgICAgICAgICB2YXIgbWF0Y2ggPSBsaW5lUkUuZXhlYyhsaW5lc1tpXSk7XG4gICAgICAgICAgICAgICAgaWYgKG1hdGNoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG5ldyBTdGFja0ZyYW1lKHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBtYXRjaFsyXSwgbWF0Y2hbMV0sIHVuZGVmaW5lZCwgbGluZXNbaV0pKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH0sXG5cbiAgICAgICAgcGFyc2VPcGVyYTEwOiBmdW5jdGlvbiBFcnJvclN0YWNrUGFyc2VyJCRwYXJzZU9wZXJhMTAoZSkge1xuICAgICAgICAgICAgdmFyIGxpbmVSRSA9IC9MaW5lIChcXGQrKS4qc2NyaXB0ICg/OmluICk/KFxcUyspKD86OiBJbiBmdW5jdGlvbiAoXFxTKykpPyQvaTtcbiAgICAgICAgICAgIHZhciBsaW5lcyA9IGUuc3RhY2t0cmFjZS5zcGxpdCgnXFxuJyk7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gW107XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBsaW5lcy5sZW5ndGg7IGkgPCBsZW47IGkgKz0gMikge1xuICAgICAgICAgICAgICAgIHZhciBtYXRjaCA9IGxpbmVSRS5leGVjKGxpbmVzW2ldKTtcbiAgICAgICAgICAgICAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgU3RhY2tGcmFtZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaFszXSB8fCB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoWzJdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoWzFdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW5lc1tpXVxuICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfSxcblxuICAgICAgICAvLyBPcGVyYSAxMC42NSsgRXJyb3Iuc3RhY2sgdmVyeSBzaW1pbGFyIHRvIEZGL1NhZmFyaVxuICAgICAgICBwYXJzZU9wZXJhMTE6IGZ1bmN0aW9uIEVycm9yU3RhY2tQYXJzZXIkJHBhcnNlT3BlcmExMShlcnJvcikge1xuICAgICAgICAgICAgdmFyIGZpbHRlcmVkID0gX2ZpbHRlcihlcnJvci5zdGFjay5zcGxpdCgnXFxuJyksIGZ1bmN0aW9uKGxpbmUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gISFsaW5lLm1hdGNoKEZJUkVGT1hfU0FGQVJJX1NUQUNLX1JFR0VYUCkgJiYgIWxpbmUubWF0Y2goL15FcnJvciBjcmVhdGVkIGF0Lyk7XG4gICAgICAgICAgICB9LCB0aGlzKTtcblxuICAgICAgICAgICAgcmV0dXJuIF9tYXAoZmlsdGVyZWQsIGZ1bmN0aW9uKGxpbmUpIHtcbiAgICAgICAgICAgICAgICB2YXIgdG9rZW5zID0gbGluZS5zcGxpdCgnQCcpO1xuICAgICAgICAgICAgICAgIHZhciBsb2NhdGlvblBhcnRzID0gdGhpcy5leHRyYWN0TG9jYXRpb24odG9rZW5zLnBvcCgpKTtcbiAgICAgICAgICAgICAgICB2YXIgZnVuY3Rpb25DYWxsID0gKHRva2Vucy5zaGlmdCgpIHx8ICcnKTtcbiAgICAgICAgICAgICAgICB2YXIgZnVuY3Rpb25OYW1lID0gZnVuY3Rpb25DYWxsXG4gICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvPGFub255bW91cyBmdW5jdGlvbig6IChcXHcrKSk/Pi8sICckMicpXG4gICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvXFwoW15cXCldKlxcKS9nLCAnJykgfHwgdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIHZhciBhcmdzUmF3O1xuICAgICAgICAgICAgICAgIGlmIChmdW5jdGlvbkNhbGwubWF0Y2goL1xcKChbXlxcKV0qKVxcKS8pKSB7XG4gICAgICAgICAgICAgICAgICAgIGFyZ3NSYXcgPSBmdW5jdGlvbkNhbGwucmVwbGFjZSgvXlteXFwoXStcXCgoW15cXCldKilcXCkkLywgJyQxJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBhcmdzID0gKGFyZ3NSYXcgPT09IHVuZGVmaW5lZCB8fCBhcmdzUmF3ID09PSAnW2FyZ3VtZW50cyBub3QgYXZhaWxhYmxlXScpID9cbiAgICAgICAgICAgICAgICAgICAgdW5kZWZpbmVkIDogYXJnc1Jhdy5zcGxpdCgnLCcpO1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgU3RhY2tGcmFtZShcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb25OYW1lLFxuICAgICAgICAgICAgICAgICAgICBhcmdzLFxuICAgICAgICAgICAgICAgICAgICBsb2NhdGlvblBhcnRzWzBdLFxuICAgICAgICAgICAgICAgICAgICBsb2NhdGlvblBhcnRzWzFdLFxuICAgICAgICAgICAgICAgICAgICBsb2NhdGlvblBhcnRzWzJdLFxuICAgICAgICAgICAgICAgICAgICBsaW5lKTtcbiAgICAgICAgICAgIH0sIHRoaXMpO1xuICAgICAgICB9XG4gICAgfTtcbn0pKTtcblxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2Vycm9yLXN0YWNrLXBhcnNlci9lcnJvci1zdGFjay1wYXJzZXIuanNcbi8vIG1vZHVsZSBpZCA9IDU4MVxuLy8gbW9kdWxlIGNodW5rcyA9IDEgMiIsIihmdW5jdGlvbiAocm9vdCwgZmFjdG9yeSkge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICAvLyBVbml2ZXJzYWwgTW9kdWxlIERlZmluaXRpb24gKFVNRCkgdG8gc3VwcG9ydCBBTUQsIENvbW1vbkpTL05vZGUuanMsIFJoaW5vLCBhbmQgYnJvd3NlcnMuXG5cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcbiAgICAgICAgZGVmaW5lKCdzdGFja2ZyYW1lJywgW10sIGZhY3RvcnkpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJvb3QuU3RhY2tGcmFtZSA9IGZhY3RvcnkoKTtcbiAgICB9XG59KHRoaXMsIGZ1bmN0aW9uICgpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgZnVuY3Rpb24gX2lzTnVtYmVyKG4pIHtcbiAgICAgICAgcmV0dXJuICFpc05hTihwYXJzZUZsb2F0KG4pKSAmJiBpc0Zpbml0ZShuKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBTdGFja0ZyYW1lKGZ1bmN0aW9uTmFtZSwgYXJncywgZmlsZU5hbWUsIGxpbmVOdW1iZXIsIGNvbHVtbk51bWJlciwgc291cmNlKSB7XG4gICAgICAgIGlmIChmdW5jdGlvbk5hbWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5zZXRGdW5jdGlvbk5hbWUoZnVuY3Rpb25OYW1lKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYXJncyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLnNldEFyZ3MoYXJncyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZpbGVOYW1lICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0RmlsZU5hbWUoZmlsZU5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChsaW5lTnVtYmVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0TGluZU51bWJlcihsaW5lTnVtYmVyKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29sdW1uTnVtYmVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0Q29sdW1uTnVtYmVyKGNvbHVtbk51bWJlcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNvdXJjZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLnNldFNvdXJjZShzb3VyY2UpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgU3RhY2tGcmFtZS5wcm90b3R5cGUgPSB7XG4gICAgICAgIGdldEZ1bmN0aW9uTmFtZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZnVuY3Rpb25OYW1lO1xuICAgICAgICB9LFxuICAgICAgICBzZXRGdW5jdGlvbk5hbWU6IGZ1bmN0aW9uICh2KSB7XG4gICAgICAgICAgICB0aGlzLmZ1bmN0aW9uTmFtZSA9IFN0cmluZyh2KTtcbiAgICAgICAgfSxcblxuICAgICAgICBnZXRBcmdzOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5hcmdzO1xuICAgICAgICB9LFxuICAgICAgICBzZXRBcmdzOiBmdW5jdGlvbiAodikge1xuICAgICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2KSAhPT0gJ1tvYmplY3QgQXJyYXldJykge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FyZ3MgbXVzdCBiZSBhbiBBcnJheScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5hcmdzID0gdjtcbiAgICAgICAgfSxcblxuICAgICAgICAvLyBOT1RFOiBQcm9wZXJ0eSBuYW1lIG1heSBiZSBtaXNsZWFkaW5nIGFzIGl0IGluY2x1ZGVzIHRoZSBwYXRoLFxuICAgICAgICAvLyBidXQgaXQgc29tZXdoYXQgbWlycm9ycyBWOCdzIEphdmFTY3JpcHRTdGFja1RyYWNlQXBpXG4gICAgICAgIC8vIGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3Avdjgvd2lraS9KYXZhU2NyaXB0U3RhY2tUcmFjZUFwaSBhbmQgR2Vja28nc1xuICAgICAgICAvLyBodHRwOi8vbXhyLm1vemlsbGEub3JnL21vemlsbGEtY2VudHJhbC9zb3VyY2UveHBjb20vYmFzZS9uc0lFeGNlcHRpb24uaWRsIzE0XG4gICAgICAgIGdldEZpbGVOYW1lOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5maWxlTmFtZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0RmlsZU5hbWU6IGZ1bmN0aW9uICh2KSB7XG4gICAgICAgICAgICB0aGlzLmZpbGVOYW1lID0gU3RyaW5nKHYpO1xuICAgICAgICB9LFxuXG4gICAgICAgIGdldExpbmVOdW1iZXI6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxpbmVOdW1iZXI7XG4gICAgICAgIH0sXG4gICAgICAgIHNldExpbmVOdW1iZXI6IGZ1bmN0aW9uICh2KSB7XG4gICAgICAgICAgICBpZiAoIV9pc051bWJlcih2KSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0xpbmUgTnVtYmVyIG11c3QgYmUgYSBOdW1iZXInKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMubGluZU51bWJlciA9IE51bWJlcih2KTtcbiAgICAgICAgfSxcblxuICAgICAgICBnZXRDb2x1bW5OdW1iZXI6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbHVtbk51bWJlcjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0Q29sdW1uTnVtYmVyOiBmdW5jdGlvbiAodikge1xuICAgICAgICAgICAgaWYgKCFfaXNOdW1iZXIodikpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdDb2x1bW4gTnVtYmVyIG11c3QgYmUgYSBOdW1iZXInKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuY29sdW1uTnVtYmVyID0gTnVtYmVyKHYpO1xuICAgICAgICB9LFxuXG4gICAgICAgIGdldFNvdXJjZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc291cmNlO1xuICAgICAgICB9LFxuICAgICAgICBzZXRTb3VyY2U6IGZ1bmN0aW9uICh2KSB7XG4gICAgICAgICAgICB0aGlzLnNvdXJjZSA9IFN0cmluZyh2KTtcbiAgICAgICAgfSxcblxuICAgICAgICB0b1N0cmluZzogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgZnVuY3Rpb25OYW1lID0gdGhpcy5nZXRGdW5jdGlvbk5hbWUoKSB8fCAne2Fub255bW91c30nO1xuICAgICAgICAgICAgdmFyIGFyZ3MgPSAnKCcgKyAodGhpcy5nZXRBcmdzKCkgfHwgW10pLmpvaW4oJywnKSArICcpJztcbiAgICAgICAgICAgIHZhciBmaWxlTmFtZSA9IHRoaXMuZ2V0RmlsZU5hbWUoKSA/ICgnQCcgKyB0aGlzLmdldEZpbGVOYW1lKCkpIDogJyc7XG4gICAgICAgICAgICB2YXIgbGluZU51bWJlciA9IF9pc051bWJlcih0aGlzLmdldExpbmVOdW1iZXIoKSkgPyAoJzonICsgdGhpcy5nZXRMaW5lTnVtYmVyKCkpIDogJyc7XG4gICAgICAgICAgICB2YXIgY29sdW1uTnVtYmVyID0gX2lzTnVtYmVyKHRoaXMuZ2V0Q29sdW1uTnVtYmVyKCkpID8gKCc6JyArIHRoaXMuZ2V0Q29sdW1uTnVtYmVyKCkpIDogJyc7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb25OYW1lICsgYXJncyArIGZpbGVOYW1lICsgbGluZU51bWJlciArIGNvbHVtbk51bWJlcjtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICByZXR1cm4gU3RhY2tGcmFtZTtcbn0pKTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9zdGFja2ZyYW1lL3N0YWNrZnJhbWUuanNcbi8vIG1vZHVsZSBpZCA9IDU4MlxuLy8gbW9kdWxlIGNodW5rcyA9IDEgMiIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9O1xuXG52YXIgZmlsZW5hbWVXaXRob3V0TG9hZGVycyA9IGV4cG9ydHMuZmlsZW5hbWVXaXRob3V0TG9hZGVycyA9IGZ1bmN0aW9uIGZpbGVuYW1lV2l0aG91dExvYWRlcnMoKSB7XG4gIHZhciBmaWxlbmFtZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogJyc7XG5cbiAgdmFyIGluZGV4ID0gZmlsZW5hbWUubGFzdEluZGV4T2YoJyEnKTtcblxuICByZXR1cm4gaW5kZXggPCAwID8gZmlsZW5hbWUgOiBmaWxlbmFtZS5zdWJzdHIoaW5kZXggKyAxKTtcbn07XG5cbnZhciBmaWxlbmFtZUhhc0xvYWRlcnMgPSBleHBvcnRzLmZpbGVuYW1lSGFzTG9hZGVycyA9IGZ1bmN0aW9uIGZpbGVuYW1lSGFzTG9hZGVycyhmaWxlbmFtZSkge1xuICB2YXIgYWN0dWFsRmlsZW5hbWUgPSBfZ2V0X18oJ2ZpbGVuYW1lV2l0aG91dExvYWRlcnMnKShmaWxlbmFtZSk7XG5cbiAgcmV0dXJuIGFjdHVhbEZpbGVuYW1lICE9PSBmaWxlbmFtZTtcbn07XG5cbnZhciBmaWxlbmFtZUhhc1NjaGVtYSA9IGV4cG9ydHMuZmlsZW5hbWVIYXNTY2hlbWEgPSBmdW5jdGlvbiBmaWxlbmFtZUhhc1NjaGVtYShmaWxlbmFtZSkge1xuICByZXR1cm4gKC9eW1xcd10rXFw6Ly50ZXN0KGZpbGVuYW1lKVxuICApO1xufTtcblxudmFyIGlzRmlsZW5hbWVBYnNvbHV0ZSA9IGV4cG9ydHMuaXNGaWxlbmFtZUFic29sdXRlID0gZnVuY3Rpb24gaXNGaWxlbmFtZUFic29sdXRlKGZpbGVuYW1lKSB7XG4gIHZhciBhY3R1YWxGaWxlbmFtZSA9IF9nZXRfXygnZmlsZW5hbWVXaXRob3V0TG9hZGVycycpKGZpbGVuYW1lKTtcblxuICBpZiAoYWN0dWFsRmlsZW5hbWUuaW5kZXhPZignLycpID09PSAwKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59O1xuXG52YXIgbWFrZVVybCA9IGV4cG9ydHMubWFrZVVybCA9IGZ1bmN0aW9uIG1ha2VVcmwoZmlsZW5hbWUsIHNjaGVtZSwgbGluZSwgY29sdW1uKSB7XG4gIHZhciBhY3R1YWxGaWxlbmFtZSA9IF9nZXRfXygnZmlsZW5hbWVXaXRob3V0TG9hZGVycycpKGZpbGVuYW1lKTtcblxuICBpZiAoX2dldF9fKCdmaWxlbmFtZUhhc1NjaGVtYScpKGZpbGVuYW1lKSkge1xuICAgIHJldHVybiBhY3R1YWxGaWxlbmFtZTtcbiAgfVxuXG4gIHZhciB1cmwgPSAnZmlsZTovLycgKyBhY3R1YWxGaWxlbmFtZTtcblxuICBpZiAoc2NoZW1lKSB7XG4gICAgdXJsID0gc2NoZW1lICsgJzovL29wZW4/dXJsPScgKyB1cmw7XG5cbiAgICBpZiAobGluZSAmJiBhY3R1YWxGaWxlbmFtZSA9PT0gZmlsZW5hbWUpIHtcbiAgICAgIHVybCA9IHVybCArICcmbGluZT0nICsgbGluZTtcblxuICAgICAgaWYgKGNvbHVtbikge1xuICAgICAgICB1cmwgPSB1cmwgKyAnJmNvbHVtbj0nICsgY29sdW1uO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB1cmw7XG59O1xuXG52YXIgbWFrZUxpbmtUZXh0ID0gZXhwb3J0cy5tYWtlTGlua1RleHQgPSBmdW5jdGlvbiBtYWtlTGlua1RleHQoZmlsZW5hbWUsIGxpbmUsIGNvbHVtbikge1xuICB2YXIgdGV4dCA9IF9nZXRfXygnZmlsZW5hbWVXaXRob3V0TG9hZGVycycpKGZpbGVuYW1lKTtcblxuICBpZiAobGluZSAmJiB0ZXh0ID09PSBmaWxlbmFtZSkge1xuICAgIHRleHQgPSB0ZXh0ICsgJzonICsgbGluZTtcblxuICAgIGlmIChjb2x1bW4pIHtcbiAgICAgIHRleHQgPSB0ZXh0ICsgJzonICsgY29sdW1uO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0ZXh0O1xufTtcblxudmFyIF9SZXdpcmVkRGF0YV9fID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcblxudmFyIElOVEVOVElPTkFMX1VOREVGSU5FRCA9ICdfX0lOVEVOVElPTkFMX1VOREVGSU5FRF9fJztcbnZhciBfUmV3aXJlQVBJX18gPSB7fTtcblxuKGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gYWRkUHJvcGVydHlUb0FQSU9iamVjdChuYW1lLCB2YWx1ZSkge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShfUmV3aXJlQVBJX18sIG5hbWUsIHtcbiAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gIH1cblxuICBhZGRQcm9wZXJ0eVRvQVBJT2JqZWN0KCdfX2dldF9fJywgX2dldF9fKTtcbiAgYWRkUHJvcGVydHlUb0FQSU9iamVjdCgnX19HZXREZXBlbmRlbmN5X18nLCBfZ2V0X18pO1xuICBhZGRQcm9wZXJ0eVRvQVBJT2JqZWN0KCdfX1Jld2lyZV9fJywgX3NldF9fKTtcbiAgYWRkUHJvcGVydHlUb0FQSU9iamVjdCgnX19zZXRfXycsIF9zZXRfXyk7XG4gIGFkZFByb3BlcnR5VG9BUElPYmplY3QoJ19fcmVzZXRfXycsIF9yZXNldF9fKTtcbiAgYWRkUHJvcGVydHlUb0FQSU9iamVjdCgnX19SZXNldERlcGVuZGVuY3lfXycsIF9yZXNldF9fKTtcbiAgYWRkUHJvcGVydHlUb0FQSU9iamVjdCgnX193aXRoX18nLCBfd2l0aF9fKTtcbn0pKCk7XG5cbmZ1bmN0aW9uIF9nZXRfXyh2YXJpYWJsZU5hbWUpIHtcbiAgaWYgKF9SZXdpcmVkRGF0YV9fID09PSB1bmRlZmluZWQgfHwgX1Jld2lyZWREYXRhX19bdmFyaWFibGVOYW1lXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIF9nZXRfb3JpZ2luYWxfXyh2YXJpYWJsZU5hbWUpO1xuICB9IGVsc2Uge1xuICAgIHZhciB2YWx1ZSA9IF9SZXdpcmVkRGF0YV9fW3ZhcmlhYmxlTmFtZV07XG5cbiAgICBpZiAodmFsdWUgPT09IElOVEVOVElPTkFMX1VOREVGSU5FRCkge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBfZ2V0X29yaWdpbmFsX18odmFyaWFibGVOYW1lKSB7XG4gIHN3aXRjaCAodmFyaWFibGVOYW1lKSB7XG4gICAgY2FzZSAnZmlsZW5hbWVXaXRob3V0TG9hZGVycyc6XG4gICAgICByZXR1cm4gZmlsZW5hbWVXaXRob3V0TG9hZGVycztcblxuICAgIGNhc2UgJ2ZpbGVuYW1lSGFzU2NoZW1hJzpcbiAgICAgIHJldHVybiBmaWxlbmFtZUhhc1NjaGVtYTtcbiAgfVxuXG4gIHJldHVybiB1bmRlZmluZWQ7XG59XG5cbmZ1bmN0aW9uIF9hc3NpZ25fXyh2YXJpYWJsZU5hbWUsIHZhbHVlKSB7XG4gIGlmIChfUmV3aXJlZERhdGFfXyA9PT0gdW5kZWZpbmVkIHx8IF9SZXdpcmVkRGF0YV9fW3ZhcmlhYmxlTmFtZV0gPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiBfc2V0X29yaWdpbmFsX18odmFyaWFibGVOYW1lLCB2YWx1ZSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIF9SZXdpcmVkRGF0YV9fW3ZhcmlhYmxlTmFtZV0gPSB2YWx1ZTtcbiAgfVxufVxuXG5mdW5jdGlvbiBfc2V0X29yaWdpbmFsX18odmFyaWFibGVOYW1lLCBfdmFsdWUpIHtcbiAgc3dpdGNoICh2YXJpYWJsZU5hbWUpIHt9XG5cbiAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cblxuZnVuY3Rpb24gX3VwZGF0ZV9vcGVyYXRpb25fXyhvcGVyYXRpb24sIHZhcmlhYmxlTmFtZSwgcHJlZml4KSB7XG4gIHZhciBvbGRWYWx1ZSA9IF9nZXRfXyh2YXJpYWJsZU5hbWUpO1xuXG4gIHZhciBuZXdWYWx1ZSA9IG9wZXJhdGlvbiA9PT0gJysrJyA/IG9sZFZhbHVlICsgMSA6IG9sZFZhbHVlIC0gMTtcblxuICBfYXNzaWduX18odmFyaWFibGVOYW1lLCBuZXdWYWx1ZSk7XG5cbiAgcmV0dXJuIHByZWZpeCA/IG5ld1ZhbHVlIDogb2xkVmFsdWU7XG59XG5cbmZ1bmN0aW9uIF9zZXRfXyh2YXJpYWJsZU5hbWUsIHZhbHVlKSB7XG4gIGlmICgodHlwZW9mIHZhcmlhYmxlTmFtZSA9PT0gJ3VuZGVmaW5lZCcgPyAndW5kZWZpbmVkJyA6IF90eXBlb2YodmFyaWFibGVOYW1lKSkgPT09ICdvYmplY3QnKSB7XG4gICAgT2JqZWN0LmtleXModmFyaWFibGVOYW1lKS5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICBfUmV3aXJlZERhdGFfX1tuYW1lXSA9IHZhcmlhYmxlTmFtZVtuYW1lXTtcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgX1Jld2lyZWREYXRhX19bdmFyaWFibGVOYW1lXSA9IElOVEVOVElPTkFMX1VOREVGSU5FRDtcbiAgICB9IGVsc2Uge1xuICAgICAgX1Jld2lyZWREYXRhX19bdmFyaWFibGVOYW1lXSA9IHZhbHVlO1xuICAgIH1cblxuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICBfcmVzZXRfXyh2YXJpYWJsZU5hbWUpO1xuICAgIH07XG4gIH1cbn1cblxuZnVuY3Rpb24gX3Jlc2V0X18odmFyaWFibGVOYW1lKSB7XG4gIGRlbGV0ZSBfUmV3aXJlZERhdGFfX1t2YXJpYWJsZU5hbWVdO1xufVxuXG5mdW5jdGlvbiBfd2l0aF9fKG9iamVjdCkge1xuICB2YXIgcmV3aXJlZFZhcmlhYmxlTmFtZXMgPSBPYmplY3Qua2V5cyhvYmplY3QpO1xuICB2YXIgcHJldmlvdXNWYWx1ZXMgPSB7fTtcblxuICBmdW5jdGlvbiByZXNldCgpIHtcbiAgICByZXdpcmVkVmFyaWFibGVOYW1lcy5mb3JFYWNoKGZ1bmN0aW9uICh2YXJpYWJsZU5hbWUpIHtcbiAgICAgIF9SZXdpcmVkRGF0YV9fW3ZhcmlhYmxlTmFtZV0gPSBwcmV2aW91c1ZhbHVlc1t2YXJpYWJsZU5hbWVdO1xuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIHJld2lyZWRWYXJpYWJsZU5hbWVzLmZvckVhY2goZnVuY3Rpb24gKHZhcmlhYmxlTmFtZSkge1xuICAgICAgcHJldmlvdXNWYWx1ZXNbdmFyaWFibGVOYW1lXSA9IF9SZXdpcmVkRGF0YV9fW3ZhcmlhYmxlTmFtZV07XG4gICAgICBfUmV3aXJlZERhdGFfX1t2YXJpYWJsZU5hbWVdID0gb2JqZWN0W3ZhcmlhYmxlTmFtZV07XG4gICAgfSk7XG4gICAgdmFyIHJlc3VsdCA9IGNhbGxiYWNrKCk7XG5cbiAgICBpZiAoISFyZXN1bHQgJiYgdHlwZW9mIHJlc3VsdC50aGVuID09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJlc3VsdC50aGVuKHJlc2V0KS5jYXRjaChyZXNldCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc2V0KCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcbn1cblxuZXhwb3J0cy5fX2dldF9fID0gX2dldF9fO1xuZXhwb3J0cy5fX0dldERlcGVuZGVuY3lfXyA9IF9nZXRfXztcbmV4cG9ydHMuX19SZXdpcmVfXyA9IF9zZXRfXztcbmV4cG9ydHMuX19zZXRfXyA9IF9zZXRfXztcbmV4cG9ydHMuX19SZXNldERlcGVuZGVuY3lfXyA9IF9yZXNldF9fO1xuZXhwb3J0cy5fX1Jld2lyZUFQSV9fID0gX1Jld2lyZUFQSV9fO1xuZXhwb3J0cy5kZWZhdWx0ID0gX1Jld2lyZUFQSV9fO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9yZWRib3gtcmVhY3QvbGliL2xpYi5qc1xuLy8gbW9kdWxlIGlkID0gNTgzXG4vLyBtb2R1bGUgY2h1bmtzID0gMSAyIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXG52YXIgX3NsaWNlZFRvQXJyYXkgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIHNsaWNlSXRlcmF0b3IoYXJyLCBpKSB7IHZhciBfYXJyID0gW107IHZhciBfbiA9IHRydWU7IHZhciBfZCA9IGZhbHNlOyB2YXIgX2UgPSB1bmRlZmluZWQ7IHRyeSB7IGZvciAodmFyIF9pID0gYXJyW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3M7ICEoX24gPSAoX3MgPSBfaS5uZXh0KCkpLmRvbmUpOyBfbiA9IHRydWUpIHsgX2Fyci5wdXNoKF9zLnZhbHVlKTsgaWYgKGkgJiYgX2Fyci5sZW5ndGggPT09IGkpIGJyZWFrOyB9IH0gY2F0Y2ggKGVycikgeyBfZCA9IHRydWU7IF9lID0gZXJyOyB9IGZpbmFsbHkgeyB0cnkgeyBpZiAoIV9uICYmIF9pW1wicmV0dXJuXCJdKSBfaVtcInJldHVyblwiXSgpOyB9IGZpbmFsbHkgeyBpZiAoX2QpIHRocm93IF9lOyB9IH0gcmV0dXJuIF9hcnI7IH0gcmV0dXJuIGZ1bmN0aW9uIChhcnIsIGkpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgeyByZXR1cm4gYXJyOyB9IGVsc2UgaWYgKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoYXJyKSkgeyByZXR1cm4gc2xpY2VJdGVyYXRvcihhcnIsIGkpOyB9IGVsc2UgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZVwiKTsgfSB9OyB9KCk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSBjYXRjaEVycm9ycztcbmZ1bmN0aW9uIGNhdGNoRXJyb3JzKF9yZWYpIHtcbiAgdmFyIGZpbGVuYW1lID0gX3JlZi5maWxlbmFtZTtcbiAgdmFyIGNvbXBvbmVudHMgPSBfcmVmLmNvbXBvbmVudHM7XG4gIHZhciBpbXBvcnRzID0gX3JlZi5pbXBvcnRzO1xuXG4gIHZhciBfaW1wb3J0cyA9IF9zbGljZWRUb0FycmF5KGltcG9ydHMsIDMpO1xuXG4gIHZhciBSZWFjdCA9IF9pbXBvcnRzWzBdO1xuICB2YXIgRXJyb3JSZXBvcnRlciA9IF9pbXBvcnRzWzFdO1xuICB2YXIgcmVwb3J0ZXJPcHRpb25zID0gX2ltcG9ydHNbMl07XG5cbiAgaWYgKCFSZWFjdCB8fCAhUmVhY3QuQ29tcG9uZW50KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdpbXBvcnRzWzBdIGZvciByZWFjdC10cmFuc2Zvcm0tY2F0Y2gtZXJyb3JzIGRvZXMgbm90IGxvb2sgbGlrZSBSZWFjdC4nKTtcbiAgfVxuICBpZiAodHlwZW9mIEVycm9yUmVwb3J0ZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2ltcG9ydHNbMV0gZm9yIHJlYWN0LXRyYW5zZm9ybS1jYXRjaC1lcnJvcnMgZG9lcyBub3QgbG9vayBsaWtlIGEgUmVhY3QgY29tcG9uZW50LicpO1xuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIHdyYXBUb0NhdGNoRXJyb3JzKFJlYWN0Q2xhc3MsIGNvbXBvbmVudElkKSB7XG4gICAgdmFyIG9yaWdpbmFsUmVuZGVyID0gUmVhY3RDbGFzcy5wcm90b3R5cGUucmVuZGVyO1xuXG4gICAgUmVhY3RDbGFzcy5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gdHJ5UmVuZGVyKCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIG9yaWdpbmFsUmVuZGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgaWYgKHR5cGVvZiBjb25zb2xlLnJlcG9ydEVycm9yc0FzRXhjZXB0aW9ucyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHZhciBwcmV2UmVwb3J0RXJyb3JBc0V4Y2VwdGlvbnMgPSBjb25zb2xlLnJlcG9ydEVycm9yc0FzRXhjZXB0aW9ucztcbiAgICAgICAgICAgIC8vIFdlJ3JlIGluIFJlYWN0IE5hdGl2ZS4gRG9uJ3QgdGhyb3cuXG4gICAgICAgICAgICAvLyBTdG9wIHJlYWN0LW5hdGl2ZSBmcm9tIHRyaWdnZXJpbmcgaXRzIG93biBlcnJvciBoYW5kbGVyXG4gICAgICAgICAgICBjb25zb2xlLnJlcG9ydEVycm9yc0FzRXhjZXB0aW9ucyA9IGZhbHNlO1xuICAgICAgICAgICAgLy8gTG9nIGFuIGVycm9yXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICAgICAgICAvLyBSZWFjdGl2YXRlIGl0IHNvIG90aGVyIGVycm9ycyBhcmUgc3RpbGwgaGFuZGxlZFxuICAgICAgICAgICAgY29uc29sZS5yZXBvcnRFcnJvcnNBc0V4Y2VwdGlvbnMgPSBwcmV2UmVwb3J0RXJyb3JBc0V4Y2VwdGlvbnM7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KEVycm9yUmVwb3J0ZXIsIF9leHRlbmRzKHtcbiAgICAgICAgICBlcnJvcjogZXJyLFxuICAgICAgICAgIGZpbGVuYW1lOiBmaWxlbmFtZVxuICAgICAgICB9LCByZXBvcnRlck9wdGlvbnMpKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgcmV0dXJuIFJlYWN0Q2xhc3M7XG4gIH07XG59XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L3JlYWN0LXRyYW5zZm9ybS1jYXRjaC1lcnJvcnMvbGliL2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSA1ODRcbi8vIG1vZHVsZSBjaHVua3MgPSAxIDIiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3NsaWNlZFRvQXJyYXkgPSAoZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBzbGljZUl0ZXJhdG9yKGFyciwgaSkgeyB2YXIgX2FyciA9IFtdOyB2YXIgX24gPSB0cnVlOyB2YXIgX2QgPSBmYWxzZTsgdmFyIF9lID0gdW5kZWZpbmVkOyB0cnkgeyBmb3IgKHZhciBfaSA9IGFycltTeW1ib2wuaXRlcmF0b3JdKCksIF9zOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7IF9hcnIucHVzaChfcy52YWx1ZSk7IGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhazsgfSB9IGNhdGNoIChlcnIpIHsgX2QgPSB0cnVlOyBfZSA9IGVycjsgfSBmaW5hbGx5IHsgdHJ5IHsgaWYgKCFfbiAmJiBfaVsncmV0dXJuJ10pIF9pWydyZXR1cm4nXSgpOyB9IGZpbmFsbHkgeyBpZiAoX2QpIHRocm93IF9lOyB9IH0gcmV0dXJuIF9hcnI7IH0gcmV0dXJuIGZ1bmN0aW9uIChhcnIsIGkpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgeyByZXR1cm4gYXJyOyB9IGVsc2UgaWYgKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoYXJyKSkgeyByZXR1cm4gc2xpY2VJdGVyYXRvcihhcnIsIGkpOyB9IGVsc2UgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlJyk7IH0gfTsgfSkoKTtcblxuZXhwb3J0c1snZGVmYXVsdCddID0gcHJveHlSZWFjdENvbXBvbmVudHM7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH1cblxudmFyIF9yZWFjdFByb3h5ID0gcmVxdWlyZSgncmVhY3QtcHJveHknKTtcblxudmFyIF9nbG9iYWxXaW5kb3cgPSByZXF1aXJlKCdnbG9iYWwvd2luZG93Jyk7XG5cbnZhciBfZ2xvYmFsV2luZG93MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dsb2JhbFdpbmRvdyk7XG5cbnZhciBjb21wb25lbnRQcm94aWVzID0gdW5kZWZpbmVkO1xuaWYgKF9nbG9iYWxXaW5kb3cyWydkZWZhdWx0J10uX19yZWFjdENvbXBvbmVudFByb3hpZXMpIHtcbiAgY29tcG9uZW50UHJveGllcyA9IF9nbG9iYWxXaW5kb3cyWydkZWZhdWx0J10uX19yZWFjdENvbXBvbmVudFByb3hpZXM7XG59IGVsc2Uge1xuICBjb21wb25lbnRQcm94aWVzID0ge307XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShfZ2xvYmFsV2luZG93MlsnZGVmYXVsdCddLCAnX19yZWFjdENvbXBvbmVudFByb3hpZXMnLCB7XG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgIHdyaXRhYmxlOiBmYWxzZSxcbiAgICB2YWx1ZTogY29tcG9uZW50UHJveGllc1xuICB9KTtcbn1cblxuZnVuY3Rpb24gcHJveHlSZWFjdENvbXBvbmVudHMoX3JlZikge1xuICB2YXIgZmlsZW5hbWUgPSBfcmVmLmZpbGVuYW1lO1xuICB2YXIgY29tcG9uZW50cyA9IF9yZWYuY29tcG9uZW50cztcbiAgdmFyIGltcG9ydHMgPSBfcmVmLmltcG9ydHM7XG4gIHZhciBsb2NhbHMgPSBfcmVmLmxvY2FscztcblxuICB2YXIgX2ltcG9ydHMgPSBfc2xpY2VkVG9BcnJheShpbXBvcnRzLCAxKTtcblxuICB2YXIgUmVhY3QgPSBfaW1wb3J0c1swXTtcblxuICB2YXIgX2xvY2FscyA9IF9zbGljZWRUb0FycmF5KGxvY2FscywgMSk7XG5cbiAgdmFyIGhvdCA9IF9sb2NhbHNbMF0uaG90O1xuXG4gIGlmICghUmVhY3QuQ29tcG9uZW50KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdpbXBvcnRzWzBdIGZvciByZWFjdC10cmFuc2Zvcm0taG1yIGRvZXMgbm90IGxvb2sgbGlrZSBSZWFjdC4nKTtcbiAgfVxuXG4gIGlmICghaG90IHx8IHR5cGVvZiBob3QuYWNjZXB0ICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdsb2NhbHNbMF0gZG9lcyBub3QgYXBwZWFyIHRvIGJlIGEgYG1vZHVsZWAgb2JqZWN0IHdpdGggSG90IE1vZHVsZSAnICsgJ3JlcGxhY2VtZW50IEFQSSBlbmFibGVkLiBZb3Ugc2hvdWxkIGRpc2FibGUgcmVhY3QtdHJhbnNmb3JtLWhtciBpbiAnICsgJ3Byb2R1Y3Rpb24gYnkgdXNpbmcgYGVudmAgc2VjdGlvbiBpbiBCYWJlbCBjb25maWd1cmF0aW9uLiBTZWUgdGhlICcgKyAnZXhhbXBsZSBpbiBSRUFETUU6IGh0dHBzOi8vZ2l0aHViLmNvbS9nYWVhcm9uL3JlYWN0LXRyYW5zZm9ybS1obXInKTtcbiAgfVxuXG4gIGlmIChPYmplY3Qua2V5cyhjb21wb25lbnRzKS5zb21lKGZ1bmN0aW9uIChrZXkpIHtcbiAgICByZXR1cm4gIWNvbXBvbmVudHNba2V5XS5pc0luRnVuY3Rpb247XG4gIH0pKSB7XG4gICAgaG90LmFjY2VwdChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUud2FybignW1JlYWN0IFRyYW5zZm9ybSBITVJdIFRoZXJlIHdhcyBhbiBlcnJvciB1cGRhdGluZyAnICsgZmlsZW5hbWUgKyAnOicpO1xuICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICB2YXIgZm9yY2VVcGRhdGUgPSAoMCwgX3JlYWN0UHJveHkuZ2V0Rm9yY2VVcGRhdGUpKFJlYWN0KTtcblxuICByZXR1cm4gZnVuY3Rpb24gd3JhcFdpdGhQcm94eShSZWFjdENsYXNzLCB1bmlxdWVJZCkge1xuICAgIHZhciBfY29tcG9uZW50cyR1bmlxdWVJZCA9IGNvbXBvbmVudHNbdW5pcXVlSWRdO1xuICAgIHZhciBfY29tcG9uZW50cyR1bmlxdWVJZCRpc0luRnVuY3Rpb24gPSBfY29tcG9uZW50cyR1bmlxdWVJZC5pc0luRnVuY3Rpb247XG4gICAgdmFyIGlzSW5GdW5jdGlvbiA9IF9jb21wb25lbnRzJHVuaXF1ZUlkJGlzSW5GdW5jdGlvbiA9PT0gdW5kZWZpbmVkID8gZmFsc2UgOiBfY29tcG9uZW50cyR1bmlxdWVJZCRpc0luRnVuY3Rpb247XG4gICAgdmFyIF9jb21wb25lbnRzJHVuaXF1ZUlkJGRpc3BsYXlOYW1lID0gX2NvbXBvbmVudHMkdW5pcXVlSWQuZGlzcGxheU5hbWU7XG4gICAgdmFyIGRpc3BsYXlOYW1lID0gX2NvbXBvbmVudHMkdW5pcXVlSWQkZGlzcGxheU5hbWUgPT09IHVuZGVmaW5lZCA/IHVuaXF1ZUlkIDogX2NvbXBvbmVudHMkdW5pcXVlSWQkZGlzcGxheU5hbWU7XG5cbiAgICBpZiAoaXNJbkZ1bmN0aW9uKSB7XG4gICAgICByZXR1cm4gUmVhY3RDbGFzcztcbiAgICB9XG5cbiAgICB2YXIgZ2xvYmFsVW5pcXVlSWQgPSBmaWxlbmFtZSArICckJyArIHVuaXF1ZUlkO1xuICAgIGlmIChjb21wb25lbnRQcm94aWVzW2dsb2JhbFVuaXF1ZUlkXSkge1xuICAgICAgKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY29uc29sZS5pbmZvKCdbUmVhY3QgVHJhbnNmb3JtIEhNUl0gUGF0Y2hpbmcgJyArIGRpc3BsYXlOYW1lKTtcbiAgICAgICAgdmFyIGluc3RhbmNlcyA9IGNvbXBvbmVudFByb3hpZXNbZ2xvYmFsVW5pcXVlSWRdLnVwZGF0ZShSZWFjdENsYXNzKTtcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIGluc3RhbmNlcy5mb3JFYWNoKGZvcmNlVXBkYXRlKTtcbiAgICAgICAgfSk7XG4gICAgICB9KSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb21wb25lbnRQcm94aWVzW2dsb2JhbFVuaXF1ZUlkXSA9ICgwLCBfcmVhY3RQcm94eS5jcmVhdGVQcm94eSkoUmVhY3RDbGFzcyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNvbXBvbmVudFByb3hpZXNbZ2xvYmFsVW5pcXVlSWRdLmdldCgpO1xuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vcmVhY3QtdHJhbnNmb3JtLWhtci9saWIvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDU4NVxuLy8gbW9kdWxlIGNodW5rcyA9IDEgMiIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZ2V0Rm9yY2VVcGRhdGUgPSBleHBvcnRzLmNyZWF0ZVByb3h5ID0gdW5kZWZpbmVkO1xuXG52YXIgX3N1cHBvcnRzUHJvdG9Bc3NpZ25tZW50ID0gcmVxdWlyZSgnLi9zdXBwb3J0c1Byb3RvQXNzaWdubWVudCcpO1xuXG52YXIgX3N1cHBvcnRzUHJvdG9Bc3NpZ25tZW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3N1cHBvcnRzUHJvdG9Bc3NpZ25tZW50KTtcblxudmFyIF9jcmVhdGVDbGFzc1Byb3h5ID0gcmVxdWlyZSgnLi9jcmVhdGVDbGFzc1Byb3h5Jyk7XG5cbnZhciBfY3JlYXRlQ2xhc3NQcm94eTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVDbGFzc1Byb3h5KTtcblxudmFyIF9yZWFjdERlZXBGb3JjZVVwZGF0ZSA9IHJlcXVpcmUoJ3JlYWN0LWRlZXAtZm9yY2UtdXBkYXRlJyk7XG5cbnZhciBfcmVhY3REZWVwRm9yY2VVcGRhdGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3REZWVwRm9yY2VVcGRhdGUpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5pZiAoISgwLCBfc3VwcG9ydHNQcm90b0Fzc2lnbm1lbnQyLmRlZmF1bHQpKCkpIHtcbiAgY29uc29sZS53YXJuKCdUaGlzIEphdmFTY3JpcHQgZW52aXJvbm1lbnQgZG9lcyBub3Qgc3VwcG9ydCBfX3Byb3RvX18uICcgKyAnVGhpcyBtZWFucyB0aGF0IHJlYWN0LXByb3h5IGlzIHVuYWJsZSB0byBwcm94eSBSZWFjdCBjb21wb25lbnRzLiAnICsgJ0ZlYXR1cmVzIHRoYXQgcmVseSBvbiByZWFjdC1wcm94eSwgc3VjaCBhcyByZWFjdC10cmFuc2Zvcm0taG1yLCAnICsgJ3dpbGwgbm90IGZ1bmN0aW9uIGFzIGV4cGVjdGVkLicpO1xufVxuXG5leHBvcnRzLmNyZWF0ZVByb3h5ID0gX2NyZWF0ZUNsYXNzUHJveHkyLmRlZmF1bHQ7XG5leHBvcnRzLmdldEZvcmNlVXBkYXRlID0gX3JlYWN0RGVlcEZvcmNlVXBkYXRlMi5kZWZhdWx0O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9yZWFjdC1wcm94eS9tb2R1bGVzL2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSA1ODZcbi8vIG1vZHVsZSBjaHVua3MgPSAxIDIiLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IHN1cHBvcnRzUHJvdG9Bc3NpZ25tZW50O1xudmFyIHggPSB7fTtcbnZhciB5ID0geyBzdXBwb3J0czogdHJ1ZSB9O1xudHJ5IHtcbiAgeC5fX3Byb3RvX18gPSB5O1xufSBjYXRjaCAoZXJyKSB7fVxuXG5mdW5jdGlvbiBzdXBwb3J0c1Byb3RvQXNzaWdubWVudCgpIHtcbiAgcmV0dXJuIHguc3VwcG9ydHMgfHwgZmFsc2U7XG59O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9yZWFjdC1wcm94eS9tb2R1bGVzL3N1cHBvcnRzUHJvdG9Bc3NpZ25tZW50LmpzXG4vLyBtb2R1bGUgaWQgPSA1ODdcbi8vIG1vZHVsZSBjaHVua3MgPSAxIDIiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cbnZhciBfc2xpY2VkVG9BcnJheSA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gc2xpY2VJdGVyYXRvcihhcnIsIGkpIHsgdmFyIF9hcnIgPSBbXTsgdmFyIF9uID0gdHJ1ZTsgdmFyIF9kID0gZmFsc2U7IHZhciBfZSA9IHVuZGVmaW5lZDsgdHJ5IHsgZm9yICh2YXIgX2kgPSBhcnJbU3ltYm9sLml0ZXJhdG9yXSgpLCBfczsgIShfbiA9IChfcyA9IF9pLm5leHQoKSkuZG9uZSk7IF9uID0gdHJ1ZSkgeyBfYXJyLnB1c2goX3MudmFsdWUpOyBpZiAoaSAmJiBfYXJyLmxlbmd0aCA9PT0gaSkgYnJlYWs7IH0gfSBjYXRjaCAoZXJyKSB7IF9kID0gdHJ1ZTsgX2UgPSBlcnI7IH0gZmluYWxseSB7IHRyeSB7IGlmICghX24gJiYgX2lbXCJyZXR1cm5cIl0pIF9pW1wicmV0dXJuXCJdKCk7IH0gZmluYWxseSB7IGlmIChfZCkgdGhyb3cgX2U7IH0gfSByZXR1cm4gX2FycjsgfSByZXR1cm4gZnVuY3Rpb24gKGFyciwgaSkgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSB7IHJldHVybiBhcnI7IH0gZWxzZSBpZiAoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChhcnIpKSB7IHJldHVybiBzbGljZUl0ZXJhdG9yKGFyciwgaSk7IH0gZWxzZSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlXCIpOyB9IH07IH0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gcHJveHlDbGFzcztcbmV4cG9ydHMuZGVmYXVsdCA9IGNyZWF0ZUNsYXNzUHJveHk7XG5cbnZhciBfZmluZCA9IHJlcXVpcmUoJ2xvZGFzaC9maW5kJyk7XG5cbnZhciBfZmluZDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9maW5kKTtcblxudmFyIF9jcmVhdGVQcm90b3R5cGVQcm94eSA9IHJlcXVpcmUoJy4vY3JlYXRlUHJvdG90eXBlUHJveHknKTtcblxudmFyIF9jcmVhdGVQcm90b3R5cGVQcm94eTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVQcm90b3R5cGVQcm94eSk7XG5cbnZhciBfYmluZEF1dG9CaW5kTWV0aG9kcyA9IHJlcXVpcmUoJy4vYmluZEF1dG9CaW5kTWV0aG9kcycpO1xuXG52YXIgX2JpbmRBdXRvQmluZE1ldGhvZHMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYmluZEF1dG9CaW5kTWV0aG9kcyk7XG5cbnZhciBfZGVsZXRlVW5rbm93bkF1dG9CaW5kTWV0aG9kcyA9IHJlcXVpcmUoJy4vZGVsZXRlVW5rbm93bkF1dG9CaW5kTWV0aG9kcycpO1xuXG52YXIgX2RlbGV0ZVVua25vd25BdXRvQmluZE1ldGhvZHMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGVsZXRlVW5rbm93bkF1dG9CaW5kTWV0aG9kcyk7XG5cbnZhciBfc3VwcG9ydHNQcm90b0Fzc2lnbm1lbnQgPSByZXF1aXJlKCcuL3N1cHBvcnRzUHJvdG9Bc3NpZ25tZW50Jyk7XG5cbnZhciBfc3VwcG9ydHNQcm90b0Fzc2lnbm1lbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc3VwcG9ydHNQcm90b0Fzc2lnbm1lbnQpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBBcnJheShhcnIubGVuZ3RoKTsgaSA8IGFyci5sZW5ndGg7IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9IGVsc2UgeyByZXR1cm4gQXJyYXkuZnJvbShhcnIpOyB9IH1cblxudmFyIFJFU0VSVkVEX1NUQVRJQ1MgPSBbJ2xlbmd0aCcsICduYW1lJywgJ2FyZ3VtZW50cycsICdjYWxsZXInLCAncHJvdG90eXBlJywgJ3RvU3RyaW5nJ107XG5cbmZ1bmN0aW9uIGlzRXF1YWxEZXNjcmlwdG9yKGEsIGIpIHtcbiAgaWYgKCFhICYmICFiKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgaWYgKCFhIHx8ICFiKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGZvciAodmFyIGtleSBpbiBhKSB7XG4gICAgaWYgKGFba2V5XSAhPT0gYltrZXldKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG4gIHJldHVybiB0cnVlO1xufVxuXG4vLyBUaGlzIHdhcyBvcmlnaW5hbGx5IGEgV2Vha01hcCBidXQgd2UgaGFkIGlzc3VlcyB3aXRoIFJlYWN0IE5hdGl2ZTpcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9nYWVhcm9uL3JlYWN0LXByb3h5L2lzc3Vlcy81MCNpc3N1ZWNvbW1lbnQtMTkyOTI4MDY2XG52YXIgYWxsUHJveGllcyA9IFtdO1xuZnVuY3Rpb24gZmluZFByb3h5KENvbXBvbmVudCkge1xuICB2YXIgcGFpciA9ICgwLCBfZmluZDIuZGVmYXVsdCkoYWxsUHJveGllcywgZnVuY3Rpb24gKF9yZWYpIHtcbiAgICB2YXIgX3JlZjIgPSBfc2xpY2VkVG9BcnJheShfcmVmLCAxKTtcblxuICAgIHZhciBrZXkgPSBfcmVmMlswXTtcbiAgICByZXR1cm4ga2V5ID09PSBDb21wb25lbnQ7XG4gIH0pO1xuICByZXR1cm4gcGFpciA/IHBhaXJbMV0gOiBudWxsO1xufVxuZnVuY3Rpb24gYWRkUHJveHkoQ29tcG9uZW50LCBwcm94eSkge1xuICBhbGxQcm94aWVzLnB1c2goW0NvbXBvbmVudCwgcHJveHldKTtcbn1cblxuZnVuY3Rpb24gcHJveHlDbGFzcyhJbml0aWFsQ29tcG9uZW50KSB7XG4gIC8vIFByZXZlbnQgZG91YmxlIHdyYXBwaW5nLlxuICAvLyBHaXZlbiBhIHByb3h5IGNsYXNzLCByZXR1cm4gdGhlIGV4aXN0aW5nIHByb3h5IG1hbmFnaW5nIGl0LlxuICB2YXIgZXhpc3RpbmdQcm94eSA9IGZpbmRQcm94eShJbml0aWFsQ29tcG9uZW50KTtcbiAgaWYgKGV4aXN0aW5nUHJveHkpIHtcbiAgICByZXR1cm4gZXhpc3RpbmdQcm94eTtcbiAgfVxuXG4gIHZhciBwcm90b3R5cGVQcm94eSA9ICgwLCBfY3JlYXRlUHJvdG90eXBlUHJveHkyLmRlZmF1bHQpKCk7XG4gIHZhciBDdXJyZW50Q29tcG9uZW50ID0gdW5kZWZpbmVkO1xuICB2YXIgUHJveHlDb21wb25lbnQgPSB1bmRlZmluZWQ7XG5cbiAgdmFyIHN0YXRpY0Rlc2NyaXB0b3JzID0ge307XG4gIGZ1bmN0aW9uIHdhc1N0YXRpY01vZGlmaWVkQnlVc2VyKGtleSkge1xuICAgIC8vIENvbXBhcmUgdGhlIGRlc2NyaXB0b3Igd2l0aCB0aGUgb25lIHdlIHByZXZpb3VzbHkgc2V0IG91cnNlbHZlcy5cbiAgICB2YXIgY3VycmVudERlc2NyaXB0b3IgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKFByb3h5Q29tcG9uZW50LCBrZXkpO1xuICAgIHJldHVybiAhaXNFcXVhbERlc2NyaXB0b3Ioc3RhdGljRGVzY3JpcHRvcnNba2V5XSwgY3VycmVudERlc2NyaXB0b3IpO1xuICB9XG5cbiAgZnVuY3Rpb24gaW5zdGFudGlhdGUoZmFjdG9yeSwgY29udGV4dCwgcGFyYW1zKSB7XG4gICAgdmFyIGNvbXBvbmVudCA9IGZhY3RvcnkoKTtcblxuICAgIHRyeSB7XG4gICAgICByZXR1cm4gY29tcG9uZW50LmFwcGx5KGNvbnRleHQsIHBhcmFtcyk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAoZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBOYXRpdmUgRVM2IGNsYXNzIGluc3RhbnRpYXRpb25cbiAgICAgICAgdmFyIGluc3RhbmNlID0gbmV3IChGdW5jdGlvbi5wcm90b3R5cGUuYmluZC5hcHBseShjb21wb25lbnQsIFtudWxsXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KHBhcmFtcykpKSkoKTtcblxuICAgICAgICBPYmplY3Qua2V5cyhpbnN0YW5jZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgaWYgKFJFU0VSVkVEX1NUQVRJQ1MuaW5kZXhPZihrZXkpID4gLTEpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29udGV4dFtrZXldID0gaW5zdGFuY2Vba2V5XTtcbiAgICAgICAgfSk7XG4gICAgICB9KSgpO1xuICAgIH1cbiAgfVxuXG4gIHRyeSB7XG4gICAgLy8gQ3JlYXRlIGEgcHJveHkgY29uc3RydWN0b3Igd2l0aCBtYXRjaGluZyBuYW1lXG4gICAgUHJveHlDb21wb25lbnQgPSBuZXcgRnVuY3Rpb24oJ2ZhY3RvcnknLCAnaW5zdGFudGlhdGUnLCAncmV0dXJuIGZ1bmN0aW9uICcgKyAoSW5pdGlhbENvbXBvbmVudC5uYW1lIHx8ICdQcm94eUNvbXBvbmVudCcpICsgJygpIHtcXG4gICAgICAgICByZXR1cm4gaW5zdGFudGlhdGUoZmFjdG9yeSwgdGhpcywgYXJndW1lbnRzKTtcXG4gICAgICB9JykoZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIEN1cnJlbnRDb21wb25lbnQ7XG4gICAgfSwgaW5zdGFudGlhdGUpO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICAvLyBTb21lIGVudmlyb25tZW50cyBtYXkgZm9yYmlkIGR5bmFtaWMgZXZhbHVhdGlvblxuICAgIFByb3h5Q29tcG9uZW50ID0gZnVuY3Rpb24gUHJveHlDb21wb25lbnQoKSB7XG4gICAgICByZXR1cm4gaW5zdGFudGlhdGUoZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gQ3VycmVudENvbXBvbmVudDtcbiAgICAgIH0sIHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfTtcbiAgfVxuXG4gIC8vIFBvaW50IHByb3h5IGNvbnN0cnVjdG9yIHRvIHRoZSBwcm94eSBwcm90b3R5cGVcbiAgUHJveHlDb21wb25lbnQucHJvdG90eXBlID0gcHJvdG90eXBlUHJveHkuZ2V0KCk7XG5cbiAgLy8gUHJveHkgdG9TdHJpbmcoKSB0byB0aGUgY3VycmVudCBjb25zdHJ1Y3RvclxuICBQcm94eUNvbXBvbmVudC50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiBDdXJyZW50Q29tcG9uZW50LnRvU3RyaW5nKCk7XG4gIH07XG5cbiAgZnVuY3Rpb24gdXBkYXRlKE5leHRDb21wb25lbnQpIHtcbiAgICBpZiAodHlwZW9mIE5leHRDb21wb25lbnQgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignRXhwZWN0ZWQgYSBjb25zdHJ1Y3Rvci4nKTtcbiAgICB9XG5cbiAgICAvLyBQcmV2ZW50IHByb3h5IGN5Y2xlc1xuICAgIHZhciBleGlzdGluZ1Byb3h5ID0gZmluZFByb3h5KE5leHRDb21wb25lbnQpO1xuICAgIGlmIChleGlzdGluZ1Byb3h5KSB7XG4gICAgICByZXR1cm4gdXBkYXRlKGV4aXN0aW5nUHJveHkuX19nZXRDdXJyZW50KCkpO1xuICAgIH1cblxuICAgIC8vIFNhdmUgdGhlIG5leHQgY29uc3RydWN0b3Igc28gd2UgY2FsbCBpdFxuICAgIEN1cnJlbnRDb21wb25lbnQgPSBOZXh0Q29tcG9uZW50O1xuXG4gICAgLy8gVXBkYXRlIHRoZSBwcm90b3R5cGUgcHJveHkgd2l0aCBuZXcgbWV0aG9kc1xuICAgIHZhciBtb3VudGVkSW5zdGFuY2VzID0gcHJvdG90eXBlUHJveHkudXBkYXRlKE5leHRDb21wb25lbnQucHJvdG90eXBlKTtcblxuICAgIC8vIFNldCB1cCB0aGUgY29uc3RydWN0b3IgcHJvcGVydHkgc28gYWNjZXNzaW5nIHRoZSBzdGF0aWNzIHdvcmtcbiAgICBQcm94eUNvbXBvbmVudC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBQcm94eUNvbXBvbmVudDtcblxuICAgIC8vIFNldCB1cCB0aGUgc2FtZSBwcm90b3R5cGUgZm9yIGluaGVyaXRlZCBzdGF0aWNzXG4gICAgUHJveHlDb21wb25lbnQuX19wcm90b19fID0gTmV4dENvbXBvbmVudC5fX3Byb3RvX187XG5cbiAgICAvLyBDb3B5IHN0YXRpYyBtZXRob2RzIGFuZCBwcm9wZXJ0aWVzXG4gICAgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoTmV4dENvbXBvbmVudCkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICBpZiAoUkVTRVJWRURfU1RBVElDUy5pbmRleE9mKGtleSkgPiAtMSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBzdGF0aWNEZXNjcmlwdG9yID0gX2V4dGVuZHMoe30sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoTmV4dENvbXBvbmVudCwga2V5KSwge1xuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICAgIH0pO1xuXG4gICAgICAvLyBDb3B5IHN0YXRpYyB1bmxlc3MgdXNlciBoYXMgcmVkZWZpbmVkIGl0IGF0IHJ1bnRpbWVcbiAgICAgIGlmICghd2FzU3RhdGljTW9kaWZpZWRCeVVzZXIoa2V5KSkge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUHJveHlDb21wb25lbnQsIGtleSwgc3RhdGljRGVzY3JpcHRvcik7XG4gICAgICAgIHN0YXRpY0Rlc2NyaXB0b3JzW2tleV0gPSBzdGF0aWNEZXNjcmlwdG9yO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gUmVtb3ZlIG9sZCBzdGF0aWMgbWV0aG9kcyBhbmQgcHJvcGVydGllc1xuICAgIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKFByb3h5Q29tcG9uZW50KS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIGlmIChSRVNFUlZFRF9TVEFUSUNTLmluZGV4T2Yoa2V5KSA+IC0xKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gU2tpcCBzdGF0aWNzIHRoYXQgZXhpc3Qgb24gdGhlIG5leHQgY2xhc3NcbiAgICAgIGlmIChOZXh0Q29tcG9uZW50Lmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBTa2lwIG5vbi1jb25maWd1cmFibGUgc3RhdGljc1xuICAgICAgdmFyIGRlc2NyaXB0b3IgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKFByb3h5Q29tcG9uZW50LCBrZXkpO1xuICAgICAgaWYgKGRlc2NyaXB0b3IgJiYgIWRlc2NyaXB0b3IuY29uZmlndXJhYmxlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gRGVsZXRlIHN0YXRpYyB1bmxlc3MgdXNlciBoYXMgcmVkZWZpbmVkIGl0IGF0IHJ1bnRpbWVcbiAgICAgIGlmICghd2FzU3RhdGljTW9kaWZpZWRCeVVzZXIoa2V5KSkge1xuICAgICAgICBkZWxldGUgUHJveHlDb21wb25lbnRba2V5XTtcbiAgICAgICAgZGVsZXRlIHN0YXRpY0Rlc2NyaXB0b3JzW2tleV07XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBUcnkgdG8gaW5mZXIgZGlzcGxheU5hbWVcbiAgICBQcm94eUNvbXBvbmVudC5kaXNwbGF5TmFtZSA9IE5leHRDb21wb25lbnQuZGlzcGxheU5hbWUgfHwgTmV4dENvbXBvbmVudC5uYW1lO1xuXG4gICAgLy8gV2UgbWlnaHQgaGF2ZSBhZGRlZCBuZXcgbWV0aG9kcyB0aGF0IG5lZWQgdG8gYmUgYXV0by1ib3VuZFxuICAgIG1vdW50ZWRJbnN0YW5jZXMuZm9yRWFjaChfYmluZEF1dG9CaW5kTWV0aG9kczIuZGVmYXVsdCk7XG4gICAgbW91bnRlZEluc3RhbmNlcy5mb3JFYWNoKF9kZWxldGVVbmtub3duQXV0b0JpbmRNZXRob2RzMi5kZWZhdWx0KTtcblxuICAgIC8vIExldCB0aGUgdXNlciB0YWtlIGNhcmUgb2YgcmVkcmF3aW5nXG4gICAgcmV0dXJuIG1vdW50ZWRJbnN0YW5jZXM7XG4gIH07XG5cbiAgZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBQcm94eUNvbXBvbmVudDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldEN1cnJlbnQoKSB7XG4gICAgcmV0dXJuIEN1cnJlbnRDb21wb25lbnQ7XG4gIH1cblxuICB1cGRhdGUoSW5pdGlhbENvbXBvbmVudCk7XG5cbiAgdmFyIHByb3h5ID0geyBnZXQ6IGdldCwgdXBkYXRlOiB1cGRhdGUgfTtcbiAgYWRkUHJveHkoUHJveHlDb21wb25lbnQsIHByb3h5KTtcblxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkocHJveHksICdfX2dldEN1cnJlbnQnLCB7XG4gICAgY29uZmlndXJhYmxlOiBmYWxzZSxcbiAgICB3cml0YWJsZTogZmFsc2UsXG4gICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgdmFsdWU6IGdldEN1cnJlbnRcbiAgfSk7XG5cbiAgcmV0dXJuIHByb3h5O1xufVxuXG5mdW5jdGlvbiBjcmVhdGVGYWxsYmFjayhDb21wb25lbnQpIHtcbiAgdmFyIEN1cnJlbnRDb21wb25lbnQgPSBDb21wb25lbnQ7XG5cbiAgcmV0dXJuIHtcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiBDdXJyZW50Q29tcG9uZW50O1xuICAgIH0sXG4gICAgdXBkYXRlOiBmdW5jdGlvbiB1cGRhdGUoTmV4dENvbXBvbmVudCkge1xuICAgICAgQ3VycmVudENvbXBvbmVudCA9IE5leHRDb21wb25lbnQ7XG4gICAgfVxuICB9O1xufVxuXG5mdW5jdGlvbiBjcmVhdGVDbGFzc1Byb3h5KENvbXBvbmVudCkge1xuICByZXR1cm4gQ29tcG9uZW50Ll9fcHJvdG9fXyAmJiAoMCwgX3N1cHBvcnRzUHJvdG9Bc3NpZ25tZW50Mi5kZWZhdWx0KSgpID8gcHJveHlDbGFzcyhDb21wb25lbnQpIDogY3JlYXRlRmFsbGJhY2soQ29tcG9uZW50KTtcbn1cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vcmVhY3QtcHJveHkvbW9kdWxlcy9jcmVhdGVDbGFzc1Byb3h5LmpzXG4vLyBtb2R1bGUgaWQgPSA1ODhcbi8vIG1vZHVsZSBjaHVua3MgPSAxIDIiLCJ2YXIgY3JlYXRlRmluZCA9IHJlcXVpcmUoJy4vX2NyZWF0ZUZpbmQnKSxcbiAgICBmaW5kSW5kZXggPSByZXF1aXJlKCcuL2ZpbmRJbmRleCcpO1xuXG4vKipcbiAqIEl0ZXJhdGVzIG92ZXIgZWxlbWVudHMgb2YgYGNvbGxlY3Rpb25gLCByZXR1cm5pbmcgdGhlIGZpcnN0IGVsZW1lbnRcbiAqIGBwcmVkaWNhdGVgIHJldHVybnMgdHJ1dGh5IGZvci4gVGhlIHByZWRpY2F0ZSBpcyBpbnZva2VkIHdpdGggdGhyZWVcbiAqIGFyZ3VtZW50czogKHZhbHVlLCBpbmRleHxrZXksIGNvbGxlY3Rpb24pLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpbnNwZWN0LlxuICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICogQHBhcmFtIHtudW1iZXJ9IFtmcm9tSW5kZXg9MF0gVGhlIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG1hdGNoZWQgZWxlbWVudCwgZWxzZSBgdW5kZWZpbmVkYC5cbiAqIEBleGFtcGxlXG4gKlxuICogdmFyIHVzZXJzID0gW1xuICogICB7ICd1c2VyJzogJ2Jhcm5leScsICAnYWdlJzogMzYsICdhY3RpdmUnOiB0cnVlIH0sXG4gKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgICdhZ2UnOiA0MCwgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gKiAgIHsgJ3VzZXInOiAncGViYmxlcycsICdhZ2UnOiAxLCAgJ2FjdGl2ZSc6IHRydWUgfVxuICogXTtcbiAqXG4gKiBfLmZpbmQodXNlcnMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8uYWdlIDwgNDA7IH0pO1xuICogLy8gPT4gb2JqZWN0IGZvciAnYmFybmV5J1xuICpcbiAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gKiBfLmZpbmQodXNlcnMsIHsgJ2FnZSc6IDEsICdhY3RpdmUnOiB0cnVlIH0pO1xuICogLy8gPT4gb2JqZWN0IGZvciAncGViYmxlcydcbiAqXG4gKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gKiBfLmZpbmQodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAqIC8vID0+IG9iamVjdCBmb3IgJ2ZyZWQnXG4gKlxuICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gKiBfLmZpbmQodXNlcnMsICdhY3RpdmUnKTtcbiAqIC8vID0+IG9iamVjdCBmb3IgJ2Jhcm5leSdcbiAqL1xudmFyIGZpbmQgPSBjcmVhdGVGaW5kKGZpbmRJbmRleCk7XG5cbm1vZHVsZS5leHBvcnRzID0gZmluZDtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9sb2Rhc2gvZmluZC5qc1xuLy8gbW9kdWxlIGlkID0gNTg5XG4vLyBtb2R1bGUgY2h1bmtzID0gMSAyIiwidmFyIGJhc2VJdGVyYXRlZSA9IHJlcXVpcmUoJy4vX2Jhc2VJdGVyYXRlZScpLFxuICAgIGlzQXJyYXlMaWtlID0gcmVxdWlyZSgnLi9pc0FycmF5TGlrZScpLFxuICAgIGtleXMgPSByZXF1aXJlKCcuL2tleXMnKTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgYF8uZmluZGAgb3IgYF8uZmluZExhc3RgIGZ1bmN0aW9uLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmaW5kSW5kZXhGdW5jIFRoZSBmdW5jdGlvbiB0byBmaW5kIHRoZSBjb2xsZWN0aW9uIGluZGV4LlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZmluZCBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gY3JlYXRlRmluZChmaW5kSW5kZXhGdW5jKSB7XG4gIHJldHVybiBmdW5jdGlvbihjb2xsZWN0aW9uLCBwcmVkaWNhdGUsIGZyb21JbmRleCkge1xuICAgIHZhciBpdGVyYWJsZSA9IE9iamVjdChjb2xsZWN0aW9uKTtcbiAgICBpZiAoIWlzQXJyYXlMaWtlKGNvbGxlY3Rpb24pKSB7XG4gICAgICB2YXIgaXRlcmF0ZWUgPSBiYXNlSXRlcmF0ZWUocHJlZGljYXRlLCAzKTtcbiAgICAgIGNvbGxlY3Rpb24gPSBrZXlzKGNvbGxlY3Rpb24pO1xuICAgICAgcHJlZGljYXRlID0gZnVuY3Rpb24oa2V5KSB7IHJldHVybiBpdGVyYXRlZShpdGVyYWJsZVtrZXldLCBrZXksIGl0ZXJhYmxlKTsgfTtcbiAgICB9XG4gICAgdmFyIGluZGV4ID0gZmluZEluZGV4RnVuYyhjb2xsZWN0aW9uLCBwcmVkaWNhdGUsIGZyb21JbmRleCk7XG4gICAgcmV0dXJuIGluZGV4ID4gLTEgPyBpdGVyYWJsZVtpdGVyYXRlZSA/IGNvbGxlY3Rpb25baW5kZXhdIDogaW5kZXhdIDogdW5kZWZpbmVkO1xuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGNyZWF0ZUZpbmQ7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vbG9kYXNoL19jcmVhdGVGaW5kLmpzXG4vLyBtb2R1bGUgaWQgPSA1OTBcbi8vIG1vZHVsZSBjaHVua3MgPSAxIDIiLCJ2YXIgYmFzZUZpbmRJbmRleCA9IHJlcXVpcmUoJy4vX2Jhc2VGaW5kSW5kZXgnKSxcbiAgICBiYXNlSXRlcmF0ZWUgPSByZXF1aXJlKCcuL19iYXNlSXRlcmF0ZWUnKSxcbiAgICB0b0ludGVnZXIgPSByZXF1aXJlKCcuL3RvSW50ZWdlcicpO1xuXG4vKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyBmb3IgdGhvc2Ugd2l0aCB0aGUgc2FtZSBuYW1lIGFzIG90aGVyIGBsb2Rhc2hgIG1ldGhvZHMuICovXG52YXIgbmF0aXZlTWF4ID0gTWF0aC5tYXg7XG5cbi8qKlxuICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5maW5kYCBleGNlcHQgdGhhdCBpdCByZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgZmlyc3RcbiAqIGVsZW1lbnQgYHByZWRpY2F0ZWAgcmV0dXJucyB0cnV0aHkgZm9yIGluc3RlYWQgb2YgdGhlIGVsZW1lbnQgaXRzZWxmLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMS4xLjBcbiAqIEBjYXRlZ29yeSBBcnJheVxuICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gKiBAcGFyYW0ge251bWJlcn0gW2Zyb21JbmRleD0wXSBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgZm91bmQgZWxlbWVudCwgZWxzZSBgLTFgLlxuICogQGV4YW1wbGVcbiAqXG4gKiB2YXIgdXNlcnMgPSBbXG4gKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgICdhY3RpdmUnOiBmYWxzZSB9LFxuICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICAnYWN0aXZlJzogZmFsc2UgfSxcbiAqICAgeyAndXNlcic6ICdwZWJibGVzJywgJ2FjdGl2ZSc6IHRydWUgfVxuICogXTtcbiAqXG4gKiBfLmZpbmRJbmRleCh1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gby51c2VyID09ICdiYXJuZXknOyB9KTtcbiAqIC8vID0+IDBcbiAqXG4gKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICogXy5maW5kSW5kZXgodXNlcnMsIHsgJ3VzZXInOiAnZnJlZCcsICdhY3RpdmUnOiBmYWxzZSB9KTtcbiAqIC8vID0+IDFcbiAqXG4gKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gKiBfLmZpbmRJbmRleCh1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuICogLy8gPT4gMFxuICpcbiAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICogXy5maW5kSW5kZXgodXNlcnMsICdhY3RpdmUnKTtcbiAqIC8vID0+IDJcbiAqL1xuZnVuY3Rpb24gZmluZEluZGV4KGFycmF5LCBwcmVkaWNhdGUsIGZyb21JbmRleCkge1xuICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gIGlmICghbGVuZ3RoKSB7XG4gICAgcmV0dXJuIC0xO1xuICB9XG4gIHZhciBpbmRleCA9IGZyb21JbmRleCA9PSBudWxsID8gMCA6IHRvSW50ZWdlcihmcm9tSW5kZXgpO1xuICBpZiAoaW5kZXggPCAwKSB7XG4gICAgaW5kZXggPSBuYXRpdmVNYXgobGVuZ3RoICsgaW5kZXgsIDApO1xuICB9XG4gIHJldHVybiBiYXNlRmluZEluZGV4KGFycmF5LCBiYXNlSXRlcmF0ZWUocHJlZGljYXRlLCAzKSwgaW5kZXgpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZpbmRJbmRleDtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9sb2Rhc2gvZmluZEluZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSA2OTdcbi8vIG1vZHVsZSBjaHVua3MgPSAxIDIiLCJ2YXIgdG9GaW5pdGUgPSByZXF1aXJlKCcuL3RvRmluaXRlJyk7XG5cbi8qKlxuICogQ29udmVydHMgYHZhbHVlYCB0byBhbiBpbnRlZ2VyLlxuICpcbiAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBsb29zZWx5IGJhc2VkIG9uXG4gKiBbYFRvSW50ZWdlcmBdKGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy10b2ludGVnZXIpLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgY29udmVydGVkIGludGVnZXIuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8udG9JbnRlZ2VyKDMuMik7XG4gKiAvLyA9PiAzXG4gKlxuICogXy50b0ludGVnZXIoTnVtYmVyLk1JTl9WQUxVRSk7XG4gKiAvLyA9PiAwXG4gKlxuICogXy50b0ludGVnZXIoSW5maW5pdHkpO1xuICogLy8gPT4gMS43OTc2OTMxMzQ4NjIzMTU3ZSszMDhcbiAqXG4gKiBfLnRvSW50ZWdlcignMy4yJyk7XG4gKiAvLyA9PiAzXG4gKi9cbmZ1bmN0aW9uIHRvSW50ZWdlcih2YWx1ZSkge1xuICB2YXIgcmVzdWx0ID0gdG9GaW5pdGUodmFsdWUpLFxuICAgICAgcmVtYWluZGVyID0gcmVzdWx0ICUgMTtcblxuICByZXR1cm4gcmVzdWx0ID09PSByZXN1bHQgPyAocmVtYWluZGVyID8gcmVzdWx0IC0gcmVtYWluZGVyIDogcmVzdWx0KSA6IDA7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gdG9JbnRlZ2VyO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2xvZGFzaC90b0ludGVnZXIuanNcbi8vIG1vZHVsZSBpZCA9IDY5OVxuLy8gbW9kdWxlIGNodW5rcyA9IDEgMiIsInZhciB0b051bWJlciA9IHJlcXVpcmUoJy4vdG9OdW1iZXInKTtcblxuLyoqIFVzZWQgYXMgcmVmZXJlbmNlcyBmb3IgdmFyaW91cyBgTnVtYmVyYCBjb25zdGFudHMuICovXG52YXIgSU5GSU5JVFkgPSAxIC8gMCxcbiAgICBNQVhfSU5URUdFUiA9IDEuNzk3NjkzMTM0ODYyMzE1N2UrMzA4O1xuXG4vKipcbiAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBmaW5pdGUgbnVtYmVyLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4xMi4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBudW1iZXIuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8udG9GaW5pdGUoMy4yKTtcbiAqIC8vID0+IDMuMlxuICpcbiAqIF8udG9GaW5pdGUoTnVtYmVyLk1JTl9WQUxVRSk7XG4gKiAvLyA9PiA1ZS0zMjRcbiAqXG4gKiBfLnRvRmluaXRlKEluZmluaXR5KTtcbiAqIC8vID0+IDEuNzk3NjkzMTM0ODYyMzE1N2UrMzA4XG4gKlxuICogXy50b0Zpbml0ZSgnMy4yJyk7XG4gKiAvLyA9PiAzLjJcbiAqL1xuZnVuY3Rpb24gdG9GaW5pdGUodmFsdWUpIHtcbiAgaWYgKCF2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSA9PT0gMCA/IHZhbHVlIDogMDtcbiAgfVxuICB2YWx1ZSA9IHRvTnVtYmVyKHZhbHVlKTtcbiAgaWYgKHZhbHVlID09PSBJTkZJTklUWSB8fCB2YWx1ZSA9PT0gLUlORklOSVRZKSB7XG4gICAgdmFyIHNpZ24gPSAodmFsdWUgPCAwID8gLTEgOiAxKTtcbiAgICByZXR1cm4gc2lnbiAqIE1BWF9JTlRFR0VSO1xuICB9XG4gIHJldHVybiB2YWx1ZSA9PT0gdmFsdWUgPyB2YWx1ZSA6IDA7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gdG9GaW5pdGU7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vbG9kYXNoL3RvRmluaXRlLmpzXG4vLyBtb2R1bGUgaWQgPSA3MDBcbi8vIG1vZHVsZSBjaHVua3MgPSAxIDIiLCJ2YXIgaXNPYmplY3QgPSByZXF1aXJlKCcuL2lzT2JqZWN0JyksXG4gICAgaXNTeW1ib2wgPSByZXF1aXJlKCcuL2lzU3ltYm9sJyk7XG5cbi8qKiBVc2VkIGFzIHJlZmVyZW5jZXMgZm9yIHZhcmlvdXMgYE51bWJlcmAgY29uc3RhbnRzLiAqL1xudmFyIE5BTiA9IDAgLyAwO1xuXG4vKiogVXNlZCB0byBtYXRjaCBsZWFkaW5nIGFuZCB0cmFpbGluZyB3aGl0ZXNwYWNlLiAqL1xudmFyIHJlVHJpbSA9IC9eXFxzK3xcXHMrJC9nO1xuXG4vKiogVXNlZCB0byBkZXRlY3QgYmFkIHNpZ25lZCBoZXhhZGVjaW1hbCBzdHJpbmcgdmFsdWVzLiAqL1xudmFyIHJlSXNCYWRIZXggPSAvXlstK10weFswLTlhLWZdKyQvaTtcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IGJpbmFyeSBzdHJpbmcgdmFsdWVzLiAqL1xudmFyIHJlSXNCaW5hcnkgPSAvXjBiWzAxXSskL2k7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBvY3RhbCBzdHJpbmcgdmFsdWVzLiAqL1xudmFyIHJlSXNPY3RhbCA9IC9eMG9bMC03XSskL2k7XG5cbi8qKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyB3aXRob3V0IGEgZGVwZW5kZW5jeSBvbiBgcm9vdGAuICovXG52YXIgZnJlZVBhcnNlSW50ID0gcGFyc2VJbnQ7XG5cbi8qKlxuICogQ29udmVydHMgYHZhbHVlYCB0byBhIG51bWJlci5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcHJvY2Vzcy5cbiAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIG51bWJlci5cbiAqIEBleGFtcGxlXG4gKlxuICogXy50b051bWJlcigzLjIpO1xuICogLy8gPT4gMy4yXG4gKlxuICogXy50b051bWJlcihOdW1iZXIuTUlOX1ZBTFVFKTtcbiAqIC8vID0+IDVlLTMyNFxuICpcbiAqIF8udG9OdW1iZXIoSW5maW5pdHkpO1xuICogLy8gPT4gSW5maW5pdHlcbiAqXG4gKiBfLnRvTnVtYmVyKCczLjInKTtcbiAqIC8vID0+IDMuMlxuICovXG5mdW5jdGlvbiB0b051bWJlcih2YWx1ZSkge1xuICBpZiAodHlwZW9mIHZhbHVlID09ICdudW1iZXInKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG4gIGlmIChpc1N5bWJvbCh2YWx1ZSkpIHtcbiAgICByZXR1cm4gTkFOO1xuICB9XG4gIGlmIChpc09iamVjdCh2YWx1ZSkpIHtcbiAgICB2YXIgb3RoZXIgPSB0eXBlb2YgdmFsdWUudmFsdWVPZiA9PSAnZnVuY3Rpb24nID8gdmFsdWUudmFsdWVPZigpIDogdmFsdWU7XG4gICAgdmFsdWUgPSBpc09iamVjdChvdGhlcikgPyAob3RoZXIgKyAnJykgOiBvdGhlcjtcbiAgfVxuICBpZiAodHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIHZhbHVlID09PSAwID8gdmFsdWUgOiArdmFsdWU7XG4gIH1cbiAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKHJlVHJpbSwgJycpO1xuICB2YXIgaXNCaW5hcnkgPSByZUlzQmluYXJ5LnRlc3QodmFsdWUpO1xuICByZXR1cm4gKGlzQmluYXJ5IHx8IHJlSXNPY3RhbC50ZXN0KHZhbHVlKSlcbiAgICA/IGZyZWVQYXJzZUludCh2YWx1ZS5zbGljZSgyKSwgaXNCaW5hcnkgPyAyIDogOClcbiAgICA6IChyZUlzQmFkSGV4LnRlc3QodmFsdWUpID8gTkFOIDogK3ZhbHVlKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB0b051bWJlcjtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9sb2Rhc2gvdG9OdW1iZXIuanNcbi8vIG1vZHVsZSBpZCA9IDcwMVxuLy8gbW9kdWxlIGNodW5rcyA9IDEgMiIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IGNyZWF0ZVByb3RvdHlwZVByb3h5O1xuXG52YXIgX2Fzc2lnbiA9IHJlcXVpcmUoJ2xvZGFzaC9hc3NpZ24nKTtcblxudmFyIF9hc3NpZ24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYXNzaWduKTtcblxudmFyIF9kaWZmZXJlbmNlID0gcmVxdWlyZSgnbG9kYXNoL2RpZmZlcmVuY2UnKTtcblxudmFyIF9kaWZmZXJlbmNlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RpZmZlcmVuY2UpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBjcmVhdGVQcm90b3R5cGVQcm94eSgpIHtcbiAgdmFyIHByb3h5ID0ge307XG4gIHZhciBjdXJyZW50ID0gbnVsbDtcbiAgdmFyIG1vdW50ZWRJbnN0YW5jZXMgPSBbXTtcblxuICAvKipcbiAgICogQ3JlYXRlcyBhIHByb3hpZWQgdG9TdHJpbmcoKSBtZXRob2QgcG9pbnRpbmcgdG8gdGhlIGN1cnJlbnQgdmVyc2lvbidzIHRvU3RyaW5nKCkuXG4gICAqL1xuICBmdW5jdGlvbiBwcm94eVRvU3RyaW5nKG5hbWUpIHtcbiAgICAvLyBXcmFwIHRvIGFsd2F5cyBjYWxsIHRoZSBjdXJyZW50IHZlcnNpb25cbiAgICByZXR1cm4gZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gICAgICBpZiAodHlwZW9mIGN1cnJlbnRbbmFtZV0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIGN1cnJlbnRbbmFtZV0udG9TdHJpbmcoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiAnPG1ldGhvZCB3YXMgZGVsZXRlZD4nO1xuICAgICAgfVxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhIHByb3hpZWQgbWV0aG9kIHRoYXQgY2FsbHMgdGhlIGN1cnJlbnQgdmVyc2lvbiwgd2hlbmV2ZXIgYXZhaWxhYmxlLlxuICAgKi9cbiAgZnVuY3Rpb24gcHJveHlNZXRob2QobmFtZSkge1xuICAgIC8vIFdyYXAgdG8gYWx3YXlzIGNhbGwgdGhlIGN1cnJlbnQgdmVyc2lvblxuICAgIHZhciBwcm94aWVkTWV0aG9kID0gZnVuY3Rpb24gcHJveGllZE1ldGhvZCgpIHtcbiAgICAgIGlmICh0eXBlb2YgY3VycmVudFtuYW1lXSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm4gY3VycmVudFtuYW1lXS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBDb3B5IHByb3BlcnRpZXMgb2YgdGhlIG9yaWdpbmFsIGZ1bmN0aW9uLCBpZiBhbnlcbiAgICAoMCwgX2Fzc2lnbjIuZGVmYXVsdCkocHJveGllZE1ldGhvZCwgY3VycmVudFtuYW1lXSk7XG4gICAgcHJveGllZE1ldGhvZC50b1N0cmluZyA9IHByb3h5VG9TdHJpbmcobmFtZSk7XG5cbiAgICByZXR1cm4gcHJveGllZE1ldGhvZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBBdWdtZW50cyB0aGUgb3JpZ2luYWwgY29tcG9uZW50RGlkTW91bnQgd2l0aCBpbnN0YW5jZSB0cmFja2luZy5cbiAgICovXG4gIGZ1bmN0aW9uIHByb3hpZWRDb21wb25lbnREaWRNb3VudCgpIHtcbiAgICBtb3VudGVkSW5zdGFuY2VzLnB1c2godGhpcyk7XG4gICAgaWYgKHR5cGVvZiBjdXJyZW50LmNvbXBvbmVudERpZE1vdW50ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICByZXR1cm4gY3VycmVudC5jb21wb25lbnREaWRNb3VudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH1cbiAgfVxuICBwcm94aWVkQ29tcG9uZW50RGlkTW91bnQudG9TdHJpbmcgPSBwcm94eVRvU3RyaW5nKCdjb21wb25lbnREaWRNb3VudCcpO1xuXG4gIC8qKlxuICAgKiBBdWdtZW50cyB0aGUgb3JpZ2luYWwgY29tcG9uZW50V2lsbFVubW91bnQgd2l0aCBpbnN0YW5jZSB0cmFja2luZy5cbiAgICovXG4gIGZ1bmN0aW9uIHByb3hpZWRDb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICB2YXIgaW5kZXggPSBtb3VudGVkSW5zdGFuY2VzLmluZGV4T2YodGhpcyk7XG4gICAgLy8gVW5sZXNzIHdlJ3JlIGluIGEgd2VpcmQgZW52aXJvbm1lbnQgd2l0aG91dCBjb21wb25lbnREaWRNb3VudFxuICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgIG1vdW50ZWRJbnN0YW5jZXMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBjdXJyZW50LmNvbXBvbmVudFdpbGxVbm1vdW50ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICByZXR1cm4gY3VycmVudC5jb21wb25lbnRXaWxsVW5tb3VudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH1cbiAgfVxuICBwcm94aWVkQ29tcG9uZW50V2lsbFVubW91bnQudG9TdHJpbmcgPSBwcm94eVRvU3RyaW5nKCdjb21wb25lbnRXaWxsVW5tb3VudCcpO1xuXG4gIC8qKlxuICAgKiBEZWZpbmVzIGEgcHJvcGVydHkgb24gdGhlIHByb3h5LlxuICAgKi9cbiAgZnVuY3Rpb24gZGVmaW5lUHJveHlQcm9wZXJ0eShuYW1lLCBkZXNjcmlwdG9yKSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHByb3h5LCBuYW1lLCBkZXNjcmlwdG9yKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZWZpbmVzIGEgcHJvcGVydHksIGF0dGVtcHRpbmcgdG8ga2VlcCB0aGUgb3JpZ2luYWwgZGVzY3JpcHRvciBjb25maWd1cmF0aW9uLlxuICAgKi9cbiAgZnVuY3Rpb24gZGVmaW5lUHJveHlQcm9wZXJ0eVdpdGhWYWx1ZShuYW1lLCB2YWx1ZSkge1xuICAgIHZhciBfcmVmID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihjdXJyZW50LCBuYW1lKSB8fCB7fTtcblxuICAgIHZhciBfcmVmJGVudW1lcmFibGUgPSBfcmVmLmVudW1lcmFibGU7XG4gICAgdmFyIGVudW1lcmFibGUgPSBfcmVmJGVudW1lcmFibGUgPT09IHVuZGVmaW5lZCA/IGZhbHNlIDogX3JlZiRlbnVtZXJhYmxlO1xuICAgIHZhciBfcmVmJHdyaXRhYmxlID0gX3JlZi53cml0YWJsZTtcbiAgICB2YXIgd3JpdGFibGUgPSBfcmVmJHdyaXRhYmxlID09PSB1bmRlZmluZWQgPyB0cnVlIDogX3JlZiR3cml0YWJsZTtcblxuXG4gICAgZGVmaW5lUHJveHlQcm9wZXJ0eShuYW1lLCB7XG4gICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICBlbnVtZXJhYmxlOiBlbnVtZXJhYmxlLFxuICAgICAgd3JpdGFibGU6IHdyaXRhYmxlLFxuICAgICAgdmFsdWU6IHZhbHVlXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhbiBhdXRvLWJpbmQgbWFwIG1pbWlja2luZyB0aGUgb3JpZ2luYWwgbWFwLCBidXQgZGlyZWN0ZWQgYXQgcHJveHkuXG4gICAqL1xuICBmdW5jdGlvbiBjcmVhdGVBdXRvQmluZE1hcCgpIHtcbiAgICBpZiAoIWN1cnJlbnQuX19yZWFjdEF1dG9CaW5kTWFwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIF9fcmVhY3RBdXRvQmluZE1hcCA9IHt9O1xuICAgIGZvciAodmFyIG5hbWUgaW4gY3VycmVudC5fX3JlYWN0QXV0b0JpbmRNYXApIHtcbiAgICAgIGlmICh0eXBlb2YgcHJveHlbbmFtZV0gPT09ICdmdW5jdGlvbicgJiYgY3VycmVudC5fX3JlYWN0QXV0b0JpbmRNYXAuaGFzT3duUHJvcGVydHkobmFtZSkpIHtcbiAgICAgICAgX19yZWFjdEF1dG9CaW5kTWFwW25hbWVdID0gcHJveHlbbmFtZV07XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIF9fcmVhY3RBdXRvQmluZE1hcDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGFuIGF1dG8tYmluZCBtYXAgbWltaWNraW5nIHRoZSBvcmlnaW5hbCBtYXAsIGJ1dCBkaXJlY3RlZCBhdCBwcm94eS5cbiAgICovXG4gIGZ1bmN0aW9uIGNyZWF0ZUF1dG9CaW5kUGFpcnMoKSB7XG4gICAgdmFyIF9fcmVhY3RBdXRvQmluZFBhaXJzID0gW107XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGN1cnJlbnQuX19yZWFjdEF1dG9CaW5kUGFpcnMubGVuZ3RoOyBpICs9IDIpIHtcbiAgICAgIHZhciBuYW1lID0gY3VycmVudC5fX3JlYWN0QXV0b0JpbmRQYWlyc1tpXTtcbiAgICAgIHZhciBtZXRob2QgPSBwcm94eVtuYW1lXTtcblxuICAgICAgaWYgKHR5cGVvZiBtZXRob2QgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgX19yZWFjdEF1dG9CaW5kUGFpcnMucHVzaChuYW1lLCBtZXRob2QpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBfX3JlYWN0QXV0b0JpbmRQYWlycztcbiAgfVxuXG4gIC8qKlxuICAgKiBBcHBsaWVzIHRoZSB1cGRhdGVkIHByb3RvdHlwZS5cbiAgICovXG4gIGZ1bmN0aW9uIHVwZGF0ZShuZXh0KSB7XG4gICAgLy8gU2F2ZSBjdXJyZW50IHNvdXJjZSBvZiB0cnV0aFxuICAgIGN1cnJlbnQgPSBuZXh0O1xuXG4gICAgLy8gRmluZCBjaGFuZ2VkIHByb3BlcnR5IG5hbWVzXG4gICAgdmFyIGN1cnJlbnROYW1lcyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGN1cnJlbnQpO1xuICAgIHZhciBwcmV2aW91c05hbWUgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhwcm94eSk7XG4gICAgdmFyIHJlbW92ZWROYW1lcyA9ICgwLCBfZGlmZmVyZW5jZTIuZGVmYXVsdCkocHJldmlvdXNOYW1lLCBjdXJyZW50TmFtZXMpO1xuXG4gICAgLy8gUmVtb3ZlIHByb3BlcnRpZXMgYW5kIG1ldGhvZHMgdGhhdCBhcmUgbm8gbG9uZ2VyIHRoZXJlXG4gICAgcmVtb3ZlZE5hbWVzLmZvckVhY2goZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgIGRlbGV0ZSBwcm94eVtuYW1lXTtcbiAgICB9KTtcblxuICAgIC8vIENvcHkgZXZlcnkgZGVzY3JpcHRvclxuICAgIGN1cnJlbnROYW1lcy5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICB2YXIgZGVzY3JpcHRvciA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoY3VycmVudCwgbmFtZSk7XG4gICAgICBpZiAodHlwZW9mIGRlc2NyaXB0b3IudmFsdWUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgLy8gRnVuY3Rpb25zIHJlcXVpcmUgYWRkaXRpb25hbCB3cmFwcGluZyBzbyB0aGV5IGNhbiBiZSBib3VuZCBsYXRlclxuICAgICAgICBkZWZpbmVQcm94eVByb3BlcnR5V2l0aFZhbHVlKG5hbWUsIHByb3h5TWV0aG9kKG5hbWUpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIE90aGVyIHZhbHVlcyBjYW4gYmUgY29waWVkIGRpcmVjdGx5XG4gICAgICAgIGRlZmluZVByb3h5UHJvcGVydHkobmFtZSwgZGVzY3JpcHRvcik7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBUcmFjayBtb3VudGluZyBhbmQgdW5tb3VudGluZ1xuICAgIGRlZmluZVByb3h5UHJvcGVydHlXaXRoVmFsdWUoJ2NvbXBvbmVudERpZE1vdW50JywgcHJveGllZENvbXBvbmVudERpZE1vdW50KTtcbiAgICBkZWZpbmVQcm94eVByb3BlcnR5V2l0aFZhbHVlKCdjb21wb25lbnRXaWxsVW5tb3VudCcsIHByb3hpZWRDb21wb25lbnRXaWxsVW5tb3VudCk7XG5cbiAgICBpZiAoY3VycmVudC5oYXNPd25Qcm9wZXJ0eSgnX19yZWFjdEF1dG9CaW5kTWFwJykpIHtcbiAgICAgIGRlZmluZVByb3h5UHJvcGVydHlXaXRoVmFsdWUoJ19fcmVhY3RBdXRvQmluZE1hcCcsIGNyZWF0ZUF1dG9CaW5kTWFwKCkpO1xuICAgIH1cblxuICAgIGlmIChjdXJyZW50Lmhhc093blByb3BlcnR5KCdfX3JlYWN0QXV0b0JpbmRQYWlycycpKSB7XG4gICAgICBkZWZpbmVQcm94eVByb3BlcnR5V2l0aFZhbHVlKCdfX3JlYWN0QXV0b0JpbmRQYWlycycsIGNyZWF0ZUF1dG9CaW5kUGFpcnMoKSk7XG4gICAgfVxuXG4gICAgLy8gU2V0IHVwIHRoZSBwcm90b3R5cGUgY2hhaW5cbiAgICBwcm94eS5fX3Byb3RvX18gPSBuZXh0O1xuXG4gICAgcmV0dXJuIG1vdW50ZWRJbnN0YW5jZXM7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgdXAtdG8tZGF0ZSBwcm94eSBwcm90b3R5cGUuXG4gICAqL1xuICBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIHByb3h5O1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICB1cGRhdGU6IHVwZGF0ZSxcbiAgICBnZXQ6IGdldFxuICB9O1xufTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vcmVhY3QtcHJveHkvbW9kdWxlcy9jcmVhdGVQcm90b3R5cGVQcm94eS5qc1xuLy8gbW9kdWxlIGlkID0gNzAyXG4vLyBtb2R1bGUgY2h1bmtzID0gMSAyIiwidmFyIGFzc2lnblZhbHVlID0gcmVxdWlyZSgnLi9fYXNzaWduVmFsdWUnKSxcbiAgICBjb3B5T2JqZWN0ID0gcmVxdWlyZSgnLi9fY29weU9iamVjdCcpLFxuICAgIGNyZWF0ZUFzc2lnbmVyID0gcmVxdWlyZSgnLi9fY3JlYXRlQXNzaWduZXInKSxcbiAgICBpc0FycmF5TGlrZSA9IHJlcXVpcmUoJy4vaXNBcnJheUxpa2UnKSxcbiAgICBpc1Byb3RvdHlwZSA9IHJlcXVpcmUoJy4vX2lzUHJvdG90eXBlJyksXG4gICAga2V5cyA9IHJlcXVpcmUoJy4va2V5cycpO1xuXG4vKiogVXNlZCBmb3IgYnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMuICovXG52YXIgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXG4vKiogVXNlZCB0byBjaGVjayBvYmplY3RzIGZvciBvd24gcHJvcGVydGllcy4gKi9cbnZhciBoYXNPd25Qcm9wZXJ0eSA9IG9iamVjdFByb3RvLmhhc093blByb3BlcnR5O1xuXG4vKipcbiAqIEFzc2lnbnMgb3duIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnRpZXMgb2Ygc291cmNlIG9iamVjdHMgdG8gdGhlXG4gKiBkZXN0aW5hdGlvbiBvYmplY3QuIFNvdXJjZSBvYmplY3RzIGFyZSBhcHBsaWVkIGZyb20gbGVmdCB0byByaWdodC5cbiAqIFN1YnNlcXVlbnQgc291cmNlcyBvdmVyd3JpdGUgcHJvcGVydHkgYXNzaWdubWVudHMgb2YgcHJldmlvdXMgc291cmNlcy5cbiAqXG4gKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YCBhbmQgaXMgbG9vc2VseSBiYXNlZCBvblxuICogW2BPYmplY3QuYXNzaWduYF0oaHR0cHM6Ly9tZG4uaW8vT2JqZWN0L2Fzc2lnbikuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEwLjBcbiAqIEBjYXRlZ29yeSBPYmplY3RcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAqIEBwYXJhbSB7Li4uT2JqZWN0fSBbc291cmNlc10gVGhlIHNvdXJjZSBvYmplY3RzLlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAqIEBzZWUgXy5hc3NpZ25JblxuICogQGV4YW1wbGVcbiAqXG4gKiBmdW5jdGlvbiBGb28oKSB7XG4gKiAgIHRoaXMuYSA9IDE7XG4gKiB9XG4gKlxuICogZnVuY3Rpb24gQmFyKCkge1xuICogICB0aGlzLmMgPSAzO1xuICogfVxuICpcbiAqIEZvby5wcm90b3R5cGUuYiA9IDI7XG4gKiBCYXIucHJvdG90eXBlLmQgPSA0O1xuICpcbiAqIF8uYXNzaWduKHsgJ2EnOiAwIH0sIG5ldyBGb28sIG5ldyBCYXIpO1xuICogLy8gPT4geyAnYSc6IDEsICdjJzogMyB9XG4gKi9cbnZhciBhc3NpZ24gPSBjcmVhdGVBc3NpZ25lcihmdW5jdGlvbihvYmplY3QsIHNvdXJjZSkge1xuICBpZiAoaXNQcm90b3R5cGUoc291cmNlKSB8fCBpc0FycmF5TGlrZShzb3VyY2UpKSB7XG4gICAgY29weU9iamVjdChzb3VyY2UsIGtleXMoc291cmNlKSwgb2JqZWN0KTtcbiAgICByZXR1cm47XG4gIH1cbiAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkge1xuICAgICAgYXNzaWduVmFsdWUob2JqZWN0LCBrZXksIHNvdXJjZVtrZXldKTtcbiAgICB9XG4gIH1cbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGFzc2lnbjtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9sb2Rhc2gvYXNzaWduLmpzXG4vLyBtb2R1bGUgaWQgPSA3MDNcbi8vIG1vZHVsZSBjaHVua3MgPSAxIDIiLCJ2YXIgYmFzZUFzc2lnblZhbHVlID0gcmVxdWlyZSgnLi9fYmFzZUFzc2lnblZhbHVlJyksXG4gICAgZXEgPSByZXF1aXJlKCcuL2VxJyk7XG5cbi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKiBVc2VkIHRvIGNoZWNrIG9iamVjdHMgZm9yIG93biBwcm9wZXJ0aWVzLiAqL1xudmFyIGhhc093blByb3BlcnR5ID0gb2JqZWN0UHJvdG8uaGFzT3duUHJvcGVydHk7XG5cbi8qKlxuICogQXNzaWducyBgdmFsdWVgIHRvIGBrZXlgIG9mIGBvYmplY3RgIGlmIHRoZSBleGlzdGluZyB2YWx1ZSBpcyBub3QgZXF1aXZhbGVudFxuICogdXNpbmcgW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAqIGZvciBlcXVhbGl0eSBjb21wYXJpc29ucy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gYXNzaWduLlxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gYXNzaWduLlxuICovXG5mdW5jdGlvbiBhc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgdmFsdWUpIHtcbiAgdmFyIG9ialZhbHVlID0gb2JqZWN0W2tleV07XG4gIGlmICghKGhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpICYmIGVxKG9ialZhbHVlLCB2YWx1ZSkpIHx8XG4gICAgICAodmFsdWUgPT09IHVuZGVmaW5lZCAmJiAhKGtleSBpbiBvYmplY3QpKSkge1xuICAgIGJhc2VBc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgdmFsdWUpO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYXNzaWduVmFsdWU7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vbG9kYXNoL19hc3NpZ25WYWx1ZS5qc1xuLy8gbW9kdWxlIGlkID0gNzA0XG4vLyBtb2R1bGUgY2h1bmtzID0gMSAyIiwidmFyIGFzc2lnblZhbHVlID0gcmVxdWlyZSgnLi9fYXNzaWduVmFsdWUnKSxcbiAgICBiYXNlQXNzaWduVmFsdWUgPSByZXF1aXJlKCcuL19iYXNlQXNzaWduVmFsdWUnKTtcblxuLyoqXG4gKiBDb3BpZXMgcHJvcGVydGllcyBvZiBgc291cmNlYCB0byBgb2JqZWN0YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IHRvIGNvcHkgcHJvcGVydGllcyBmcm9tLlxuICogQHBhcmFtIHtBcnJheX0gcHJvcHMgVGhlIHByb3BlcnR5IGlkZW50aWZpZXJzIHRvIGNvcHkuXG4gKiBAcGFyYW0ge09iamVjdH0gW29iamVjdD17fV0gVGhlIG9iamVjdCB0byBjb3B5IHByb3BlcnRpZXMgdG8uXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb3BpZWQgdmFsdWVzLlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAqL1xuZnVuY3Rpb24gY29weU9iamVjdChzb3VyY2UsIHByb3BzLCBvYmplY3QsIGN1c3RvbWl6ZXIpIHtcbiAgdmFyIGlzTmV3ID0gIW9iamVjdDtcbiAgb2JqZWN0IHx8IChvYmplY3QgPSB7fSk7XG5cbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBwcm9wcy5sZW5ndGg7XG5cbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICB2YXIga2V5ID0gcHJvcHNbaW5kZXhdO1xuXG4gICAgdmFyIG5ld1ZhbHVlID0gY3VzdG9taXplclxuICAgICAgPyBjdXN0b21pemVyKG9iamVjdFtrZXldLCBzb3VyY2Vba2V5XSwga2V5LCBvYmplY3QsIHNvdXJjZSlcbiAgICAgIDogdW5kZWZpbmVkO1xuXG4gICAgaWYgKG5ld1ZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgIG5ld1ZhbHVlID0gc291cmNlW2tleV07XG4gICAgfVxuICAgIGlmIChpc05ldykge1xuICAgICAgYmFzZUFzc2lnblZhbHVlKG9iamVjdCwga2V5LCBuZXdWYWx1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFzc2lnblZhbHVlKG9iamVjdCwga2V5LCBuZXdWYWx1ZSk7XG4gICAgfVxuICB9XG4gIHJldHVybiBvYmplY3Q7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gY29weU9iamVjdDtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9sb2Rhc2gvX2NvcHlPYmplY3QuanNcbi8vIG1vZHVsZSBpZCA9IDcwN1xuLy8gbW9kdWxlIGNodW5rcyA9IDEgMiIsInZhciBiYXNlUmVzdCA9IHJlcXVpcmUoJy4vX2Jhc2VSZXN0JyksXG4gICAgaXNJdGVyYXRlZUNhbGwgPSByZXF1aXJlKCcuL19pc0l0ZXJhdGVlQ2FsbCcpO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBmdW5jdGlvbiBsaWtlIGBfLmFzc2lnbmAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGFzc2lnbmVyIFRoZSBmdW5jdGlvbiB0byBhc3NpZ24gdmFsdWVzLlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYXNzaWduZXIgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUFzc2lnbmVyKGFzc2lnbmVyKSB7XG4gIHJldHVybiBiYXNlUmVzdChmdW5jdGlvbihvYmplY3QsIHNvdXJjZXMpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gc291cmNlcy5sZW5ndGgsXG4gICAgICAgIGN1c3RvbWl6ZXIgPSBsZW5ndGggPiAxID8gc291cmNlc1tsZW5ndGggLSAxXSA6IHVuZGVmaW5lZCxcbiAgICAgICAgZ3VhcmQgPSBsZW5ndGggPiAyID8gc291cmNlc1syXSA6IHVuZGVmaW5lZDtcblxuICAgIGN1c3RvbWl6ZXIgPSAoYXNzaWduZXIubGVuZ3RoID4gMyAmJiB0eXBlb2YgY3VzdG9taXplciA9PSAnZnVuY3Rpb24nKVxuICAgICAgPyAobGVuZ3RoLS0sIGN1c3RvbWl6ZXIpXG4gICAgICA6IHVuZGVmaW5lZDtcblxuICAgIGlmIChndWFyZCAmJiBpc0l0ZXJhdGVlQ2FsbChzb3VyY2VzWzBdLCBzb3VyY2VzWzFdLCBndWFyZCkpIHtcbiAgICAgIGN1c3RvbWl6ZXIgPSBsZW5ndGggPCAzID8gdW5kZWZpbmVkIDogY3VzdG9taXplcjtcbiAgICAgIGxlbmd0aCA9IDE7XG4gICAgfVxuICAgIG9iamVjdCA9IE9iamVjdChvYmplY3QpO1xuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICB2YXIgc291cmNlID0gc291cmNlc1tpbmRleF07XG4gICAgICBpZiAoc291cmNlKSB7XG4gICAgICAgIGFzc2lnbmVyKG9iamVjdCwgc291cmNlLCBpbmRleCwgY3VzdG9taXplcik7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBvYmplY3Q7XG4gIH0pO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGNyZWF0ZUFzc2lnbmVyO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2xvZGFzaC9fY3JlYXRlQXNzaWduZXIuanNcbi8vIG1vZHVsZSBpZCA9IDcwOFxuLy8gbW9kdWxlIGNodW5rcyA9IDEgMiIsInZhciBlcSA9IHJlcXVpcmUoJy4vZXEnKSxcbiAgICBpc0FycmF5TGlrZSA9IHJlcXVpcmUoJy4vaXNBcnJheUxpa2UnKSxcbiAgICBpc0luZGV4ID0gcmVxdWlyZSgnLi9faXNJbmRleCcpLFxuICAgIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9pc09iamVjdCcpO1xuXG4vKipcbiAqIENoZWNrcyBpZiB0aGUgZ2l2ZW4gYXJndW1lbnRzIGFyZSBmcm9tIGFuIGl0ZXJhdGVlIGNhbGwuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHBvdGVudGlhbCBpdGVyYXRlZSB2YWx1ZSBhcmd1bWVudC5cbiAqIEBwYXJhbSB7Kn0gaW5kZXggVGhlIHBvdGVudGlhbCBpdGVyYXRlZSBpbmRleCBvciBrZXkgYXJndW1lbnQuXG4gKiBAcGFyYW0geyp9IG9iamVjdCBUaGUgcG90ZW50aWFsIGl0ZXJhdGVlIG9iamVjdCBhcmd1bWVudC5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgYXJndW1lbnRzIGFyZSBmcm9tIGFuIGl0ZXJhdGVlIGNhbGwsXG4gKiAgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc0l0ZXJhdGVlQ2FsbCh2YWx1ZSwgaW5kZXgsIG9iamVjdCkge1xuICBpZiAoIWlzT2JqZWN0KG9iamVjdCkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgdmFyIHR5cGUgPSB0eXBlb2YgaW5kZXg7XG4gIGlmICh0eXBlID09ICdudW1iZXInXG4gICAgICAgID8gKGlzQXJyYXlMaWtlKG9iamVjdCkgJiYgaXNJbmRleChpbmRleCwgb2JqZWN0Lmxlbmd0aCkpXG4gICAgICAgIDogKHR5cGUgPT0gJ3N0cmluZycgJiYgaW5kZXggaW4gb2JqZWN0KVxuICAgICAgKSB7XG4gICAgcmV0dXJuIGVxKG9iamVjdFtpbmRleF0sIHZhbHVlKTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaXNJdGVyYXRlZUNhbGw7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vbG9kYXNoL19pc0l0ZXJhdGVlQ2FsbC5qc1xuLy8gbW9kdWxlIGlkID0gNzE2XG4vLyBtb2R1bGUgY2h1bmtzID0gMSAyIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gYmluZEF1dG9CaW5kTWV0aG9kcztcbi8qKlxuICogQ29weXJpZ2h0IDIwMTMtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIFJlYWN0IHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBPcmlnaW5hbDpcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC9ibG9iLzY1MDhiMWFkMjczYTZmMzcxZThkOTBhZTY3NmU1MzkwMTk5NDYxYjQvc3JjL2lzb21vcnBoaWMvY2xhc3NpYy9jbGFzcy9SZWFjdENsYXNzLmpzI0w2NTAtTDcxM1xuICovXG5cbmZ1bmN0aW9uIGJpbmRBdXRvQmluZE1ldGhvZChjb21wb25lbnQsIG1ldGhvZCkge1xuICB2YXIgYm91bmRNZXRob2QgPSBtZXRob2QuYmluZChjb21wb25lbnQpO1xuXG4gIGJvdW5kTWV0aG9kLl9fcmVhY3RCb3VuZENvbnRleHQgPSBjb21wb25lbnQ7XG4gIGJvdW5kTWV0aG9kLl9fcmVhY3RCb3VuZE1ldGhvZCA9IG1ldGhvZDtcbiAgYm91bmRNZXRob2QuX19yZWFjdEJvdW5kQXJndW1lbnRzID0gbnVsbDtcblxuICB2YXIgY29tcG9uZW50TmFtZSA9IGNvbXBvbmVudC5jb25zdHJ1Y3Rvci5kaXNwbGF5TmFtZSxcbiAgICAgIF9iaW5kID0gYm91bmRNZXRob2QuYmluZDtcblxuICBib3VuZE1ldGhvZC5iaW5kID0gZnVuY3Rpb24gKG5ld1RoaXMpIHtcbiAgICB2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG4gICAgaWYgKG5ld1RoaXMgIT09IGNvbXBvbmVudCAmJiBuZXdUaGlzICE9PSBudWxsKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ2JpbmQoKTogUmVhY3QgY29tcG9uZW50IG1ldGhvZHMgbWF5IG9ubHkgYmUgYm91bmQgdG8gdGhlICcgKyAnY29tcG9uZW50IGluc3RhbmNlLiBTZWUgJyArIGNvbXBvbmVudE5hbWUpO1xuICAgIH0gZWxzZSBpZiAoIWFyZ3MubGVuZ3RoKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ2JpbmQoKTogWW91IGFyZSBiaW5kaW5nIGEgY29tcG9uZW50IG1ldGhvZCB0byB0aGUgY29tcG9uZW50LiAnICsgJ1JlYWN0IGRvZXMgdGhpcyBmb3IgeW91IGF1dG9tYXRpY2FsbHkgaW4gYSBoaWdoLXBlcmZvcm1hbmNlICcgKyAnd2F5LCBzbyB5b3UgY2FuIHNhZmVseSByZW1vdmUgdGhpcyBjYWxsLiBTZWUgJyArIGNvbXBvbmVudE5hbWUpO1xuICAgICAgcmV0dXJuIGJvdW5kTWV0aG9kO1xuICAgIH1cblxuICAgIHZhciByZWJvdW5kTWV0aG9kID0gX2JpbmQuYXBwbHkoYm91bmRNZXRob2QsIGFyZ3VtZW50cyk7XG4gICAgcmVib3VuZE1ldGhvZC5fX3JlYWN0Qm91bmRDb250ZXh0ID0gY29tcG9uZW50O1xuICAgIHJlYm91bmRNZXRob2QuX19yZWFjdEJvdW5kTWV0aG9kID0gbWV0aG9kO1xuICAgIHJlYm91bmRNZXRob2QuX19yZWFjdEJvdW5kQXJndW1lbnRzID0gYXJncztcblxuICAgIHJldHVybiByZWJvdW5kTWV0aG9kO1xuICB9O1xuXG4gIHJldHVybiBib3VuZE1ldGhvZDtcbn1cblxuZnVuY3Rpb24gYmluZEF1dG9CaW5kTWV0aG9kc0Zyb21NYXAoY29tcG9uZW50KSB7XG4gIGZvciAodmFyIGF1dG9CaW5kS2V5IGluIGNvbXBvbmVudC5fX3JlYWN0QXV0b0JpbmRNYXApIHtcbiAgICBpZiAoIWNvbXBvbmVudC5fX3JlYWN0QXV0b0JpbmRNYXAuaGFzT3duUHJvcGVydHkoYXV0b0JpbmRLZXkpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gVHdlYWs6IHNraXAgbWV0aG9kcyB0aGF0IGFyZSBhbHJlYWR5IGJvdW5kLlxuICAgIC8vIFRoaXMgaXMgdG8gcHJlc2VydmUgbWV0aG9kIHJlZmVyZW5jZSBpbiBjYXNlIGl0IGlzIHVzZWRcbiAgICAvLyBhcyBhIHN1YnNjcmlwdGlvbiBoYW5kbGVyIHRoYXQgbmVlZHMgdG8gYmUgZGV0YWNoZWQgbGF0ZXIuXG4gICAgaWYgKGNvbXBvbmVudC5oYXNPd25Qcm9wZXJ0eShhdXRvQmluZEtleSkgJiYgY29tcG9uZW50W2F1dG9CaW5kS2V5XS5fX3JlYWN0Qm91bmRDb250ZXh0ID09PSBjb21wb25lbnQpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIHZhciBtZXRob2QgPSBjb21wb25lbnQuX19yZWFjdEF1dG9CaW5kTWFwW2F1dG9CaW5kS2V5XTtcbiAgICBjb21wb25lbnRbYXV0b0JpbmRLZXldID0gYmluZEF1dG9CaW5kTWV0aG9kKGNvbXBvbmVudCwgbWV0aG9kKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBiaW5kQXV0b0JpbmRNZXRob2RzKGNvbXBvbmVudCkge1xuICBpZiAoY29tcG9uZW50Ll9fcmVhY3RBdXRvQmluZFBhaXJzKSB7XG4gICAgYmluZEF1dG9CaW5kTWV0aG9kc0Zyb21BcnJheShjb21wb25lbnQpO1xuICB9IGVsc2UgaWYgKGNvbXBvbmVudC5fX3JlYWN0QXV0b0JpbmRNYXApIHtcbiAgICBiaW5kQXV0b0JpbmRNZXRob2RzRnJvbU1hcChjb21wb25lbnQpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGJpbmRBdXRvQmluZE1ldGhvZHNGcm9tQXJyYXkoY29tcG9uZW50KSB7XG4gIHZhciBwYWlycyA9IGNvbXBvbmVudC5fX3JlYWN0QXV0b0JpbmRQYWlycztcblxuICBpZiAoIXBhaXJzKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYWlycy5sZW5ndGg7IGkgKz0gMikge1xuICAgIHZhciBhdXRvQmluZEtleSA9IHBhaXJzW2ldO1xuXG4gICAgaWYgKGNvbXBvbmVudC5oYXNPd25Qcm9wZXJ0eShhdXRvQmluZEtleSkgJiYgY29tcG9uZW50W2F1dG9CaW5kS2V5XS5fX3JlYWN0Qm91bmRDb250ZXh0ID09PSBjb21wb25lbnQpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIHZhciBtZXRob2QgPSBwYWlyc1tpICsgMV07XG5cbiAgICBjb21wb25lbnRbYXV0b0JpbmRLZXldID0gYmluZEF1dG9CaW5kTWV0aG9kKGNvbXBvbmVudCwgbWV0aG9kKTtcbiAgfVxufVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9yZWFjdC1wcm94eS9tb2R1bGVzL2JpbmRBdXRvQmluZE1ldGhvZHMuanNcbi8vIG1vZHVsZSBpZCA9IDcyN1xuLy8gbW9kdWxlIGNodW5rcyA9IDEgMiIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IGRlbGV0ZVVua25vd25BdXRvQmluZE1ldGhvZHM7XG5mdW5jdGlvbiBzaG91bGREZWxldGVDbGFzc2ljSW5zdGFuY2VNZXRob2QoY29tcG9uZW50LCBuYW1lKSB7XG4gIGlmIChjb21wb25lbnQuX19yZWFjdEF1dG9CaW5kTWFwICYmIGNvbXBvbmVudC5fX3JlYWN0QXV0b0JpbmRNYXAuaGFzT3duUHJvcGVydHkobmFtZSkpIHtcbiAgICAvLyBJdCdzIGEga25vd24gYXV0b2JvdW5kIGZ1bmN0aW9uLCBrZWVwIGl0XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgaWYgKGNvbXBvbmVudC5fX3JlYWN0QXV0b0JpbmRQYWlycyAmJiBjb21wb25lbnQuX19yZWFjdEF1dG9CaW5kUGFpcnMuaW5kZXhPZihuYW1lKSA+PSAwKSB7XG4gICAgLy8gSXQncyBhIGtub3duIGF1dG9ib3VuZCBmdW5jdGlvbiwga2VlcCBpdFxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlmIChjb21wb25lbnRbbmFtZV0uX19yZWFjdEJvdW5kQXJndW1lbnRzICE9PSBudWxsKSB7XG4gICAgLy8gSXQncyBhIGZ1bmN0aW9uIGJvdW5kIHRvIHNwZWNpZmljIGFyZ3MsIGtlZXAgaXRcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvLyBJdCdzIGEgY2FjaGVkIGJvdW5kIG1ldGhvZCBmb3IgYSBmdW5jdGlvblxuICAvLyB0aGF0IHdhcyBkZWxldGVkIGJ5IHVzZXIsIHNvIHdlIGRlbGV0ZSBpdCBmcm9tIGNvbXBvbmVudC5cbiAgcmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIHNob3VsZERlbGV0ZU1vZGVybkluc3RhbmNlTWV0aG9kKGNvbXBvbmVudCwgbmFtZSkge1xuICB2YXIgcHJvdG90eXBlID0gY29tcG9uZW50LmNvbnN0cnVjdG9yLnByb3RvdHlwZTtcblxuICB2YXIgcHJvdG90eXBlRGVzY3JpcHRvciA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IocHJvdG90eXBlLCBuYW1lKTtcblxuICBpZiAoIXByb3RvdHlwZURlc2NyaXB0b3IgfHwgIXByb3RvdHlwZURlc2NyaXB0b3IuZ2V0KSB7XG4gICAgLy8gVGhpcyBpcyBkZWZpbml0ZWx5IG5vdCBhbiBhdXRvYmluZGluZyBnZXR0ZXJcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBpZiAocHJvdG90eXBlRGVzY3JpcHRvci5nZXQoKS5sZW5ndGggIT09IGNvbXBvbmVudFtuYW1lXS5sZW5ndGgpIHtcbiAgICAvLyBUaGUgbGVuZ3RoIGRvZXNuJ3QgbWF0Y2gsIGJhaWwgb3V0XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLy8gVGhpcyBzZWVtcyBsaWtlIGEgbWV0aG9kIGJvdW5kIHVzaW5nIGFuIGF1dG9iaW5kaW5nIGdldHRlciBvbiB0aGUgcHJvdG90eXBlXG4gIC8vIEhvcGVmdWxseSB3ZSB3b24ndCBydW4gaW50byB0b28gbWFueSBmYWxzZSBwb3NpdGl2ZXMuXG4gIHJldHVybiB0cnVlO1xufVxuXG5mdW5jdGlvbiBzaG91bGREZWxldGVJbnN0YW5jZU1ldGhvZChjb21wb25lbnQsIG5hbWUpIHtcbiAgdmFyIGRlc2NyaXB0b3IgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGNvbXBvbmVudCwgbmFtZSk7XG4gIGlmICh0eXBlb2YgZGVzY3JpcHRvci52YWx1ZSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIC8vIE5vdCBhIGZ1bmN0aW9uLCBvciBzb21ldGhpbmcgZmFuY3k6IGJhaWwgb3V0XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKGNvbXBvbmVudC5fX3JlYWN0QXV0b0JpbmRNYXAgfHwgY29tcG9uZW50Ll9fcmVhY3RBdXRvQmluZFBhaXJzKSB7XG4gICAgLy8gQ2xhc3NpY1xuICAgIHJldHVybiBzaG91bGREZWxldGVDbGFzc2ljSW5zdGFuY2VNZXRob2QoY29tcG9uZW50LCBuYW1lKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBNb2Rlcm5cbiAgICByZXR1cm4gc2hvdWxkRGVsZXRlTW9kZXJuSW5zdGFuY2VNZXRob2QoY29tcG9uZW50LCBuYW1lKTtcbiAgfVxufVxuXG4vKipcbiAqIERlbGV0ZXMgYXV0b2JvdW5kIG1ldGhvZHMgZnJvbSB0aGUgaW5zdGFuY2UuXG4gKlxuICogRm9yIGNsYXNzaWMgUmVhY3QgY2xhc3Nlcywgd2Ugb25seSBkZWxldGUgdGhlIG1ldGhvZHMgdGhhdCBubyBsb25nZXIgZXhpc3QgaW4gbWFwLlxuICogVGhpcyBtZWFucyB0aGUgdXNlciBhY3R1YWxseSBkZWxldGVkIHRoZW0gaW4gY29kZS5cbiAqXG4gKiBGb3IgbW9kZXJuIGNsYXNzZXMsIHdlIGRlbGV0ZSBtZXRob2RzIHRoYXQgZXhpc3Qgb24gcHJvdG90eXBlIHdpdGggdGhlIHNhbWUgbGVuZ3RoLFxuICogYW5kIHdoaWNoIGhhdmUgZ2V0dGVycyBvbiBwcm90b3R5cGUsIGJ1dCBhcmUgbm9ybWFsIHZhbHVlcyBvbiB0aGUgaW5zdGFuY2UuXG4gKiBUaGlzIGlzIHVzdWFsbHkgYW4gaW5kaWNhdGlvbiB0aGF0IGFuIGF1dG9iaW5kaW5nIGRlY29yYXRvciBpcyBiZWluZyB1c2VkLFxuICogYW5kIHRoZSBnZXR0ZXIgd2lsbCByZS1nZW5lcmF0ZSB0aGUgbWVtb2l6ZWQgaGFuZGxlciBvbiBuZXh0IGFjY2Vzcy5cbiAqL1xuZnVuY3Rpb24gZGVsZXRlVW5rbm93bkF1dG9CaW5kTWV0aG9kcyhjb21wb25lbnQpIHtcbiAgdmFyIG5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoY29tcG9uZW50KTtcblxuICBuYW1lcy5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgaWYgKHNob3VsZERlbGV0ZUluc3RhbmNlTWV0aG9kKGNvbXBvbmVudCwgbmFtZSkpIHtcbiAgICAgIGRlbGV0ZSBjb21wb25lbnRbbmFtZV07XG4gICAgfVxuICB9KTtcbn1cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vcmVhY3QtcHJveHkvbW9kdWxlcy9kZWxldGVVbmtub3duQXV0b0JpbmRNZXRob2RzLmpzXG4vLyBtb2R1bGUgaWQgPSA3Mjhcbi8vIG1vZHVsZSBjaHVua3MgPSAxIDIiLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gZ2V0Rm9yY2VVcGRhdGU7XG5mdW5jdGlvbiB0cmF2ZXJzZVJlbmRlcmVkQ2hpbGRyZW4oaW50ZXJuYWxJbnN0YW5jZSwgY2FsbGJhY2ssIGFyZ3VtZW50KSB7XG4gIGNhbGxiYWNrKGludGVybmFsSW5zdGFuY2UsIGFyZ3VtZW50KTtcblxuICBpZiAoaW50ZXJuYWxJbnN0YW5jZS5fcmVuZGVyZWRDb21wb25lbnQpIHtcbiAgICB0cmF2ZXJzZVJlbmRlcmVkQ2hpbGRyZW4oaW50ZXJuYWxJbnN0YW5jZS5fcmVuZGVyZWRDb21wb25lbnQsIGNhbGxiYWNrLCBhcmd1bWVudCk7XG4gIH0gZWxzZSB7XG4gICAgZm9yICh2YXIga2V5IGluIGludGVybmFsSW5zdGFuY2UuX3JlbmRlcmVkQ2hpbGRyZW4pIHtcbiAgICAgIGlmIChpbnRlcm5hbEluc3RhbmNlLl9yZW5kZXJlZENoaWxkcmVuLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgdHJhdmVyc2VSZW5kZXJlZENoaWxkcmVuKGludGVybmFsSW5zdGFuY2UuX3JlbmRlcmVkQ2hpbGRyZW5ba2V5XSwgY2FsbGJhY2ssIGFyZ3VtZW50KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gc2V0UGVuZGluZ0ZvcmNlVXBkYXRlKGludGVybmFsSW5zdGFuY2UpIHtcbiAgaWYgKGludGVybmFsSW5zdGFuY2UuX3BlbmRpbmdGb3JjZVVwZGF0ZSA9PT0gZmFsc2UpIHtcbiAgICBpbnRlcm5hbEluc3RhbmNlLl9wZW5kaW5nRm9yY2VVcGRhdGUgPSB0cnVlO1xuICB9XG59XG5cbmZ1bmN0aW9uIGZvcmNlVXBkYXRlSWZQZW5kaW5nKGludGVybmFsSW5zdGFuY2UsIFJlYWN0KSB7XG4gIGlmIChpbnRlcm5hbEluc3RhbmNlLl9wZW5kaW5nRm9yY2VVcGRhdGUgPT09IHRydWUpIHtcbiAgICB2YXIgcHVibGljSW5zdGFuY2UgPSBpbnRlcm5hbEluc3RhbmNlLl9pbnN0YW5jZTtcbiAgICBSZWFjdC5Db21wb25lbnQucHJvdG90eXBlLmZvcmNlVXBkYXRlLmNhbGwocHVibGljSW5zdGFuY2UpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGdldEZvcmNlVXBkYXRlKFJlYWN0KSB7XG4gIHJldHVybiBmdW5jdGlvbiAoaW5zdGFuY2UpIHtcbiAgICB2YXIgaW50ZXJuYWxJbnN0YW5jZSA9IGluc3RhbmNlLl9yZWFjdEludGVybmFsSW5zdGFuY2U7XG4gICAgdHJhdmVyc2VSZW5kZXJlZENoaWxkcmVuKGludGVybmFsSW5zdGFuY2UsIHNldFBlbmRpbmdGb3JjZVVwZGF0ZSk7XG4gICAgdHJhdmVyc2VSZW5kZXJlZENoaWxkcmVuKGludGVybmFsSW5zdGFuY2UsIGZvcmNlVXBkYXRlSWZQZW5kaW5nLCBSZWFjdCk7XG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L3JlYWN0LWRlZXAtZm9yY2UtdXBkYXRlL2xpYi9pbmRleC5qc1xuLy8gbW9kdWxlIGlkID0gNzI5XG4vLyBtb2R1bGUgY2h1bmtzID0gMSAyIiwiaWYgKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IHdpbmRvdztcbn0gZWxzZSBpZiAodHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgIG1vZHVsZS5leHBvcnRzID0gZ2xvYmFsO1xufSBlbHNlIGlmICh0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIil7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBzZWxmO1xufSBlbHNlIHtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IHt9O1xufVxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2dsb2JhbC93aW5kb3cuanNcbi8vIG1vZHVsZSBpZCA9IDczMFxuLy8gbW9kdWxlIGNodW5rcyA9IDEgMiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBwdXNoLCBnbyB9IGZyb20gJ3JlYWN0LXJvdXRlci1yZWR1eCc7XG5pbXBvcnQgSWNvbiBmcm9tICdjb21wb25lbnRzL0ljb24nO1xuaW1wb3J0ICcuL3N0eWxlLmxlc3MnO1xuXG5jbGFzcyBIZWFkZXIgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICAgIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgICAgIHN1cGVyKHByb3BzKTtcbiAgICB9XG5cbiAgICBnbyhldmVudCwgaGlzdG9yeSkge1xuICAgICAgICBpZiAoZXZlbnQgPT09ICdiYWNrJykge1xuICAgICAgICAgICAgdGhpcy5wcm9wcy5kaXNwYXRjaChnbygtMSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5wcm9wcy5kaXNwYXRjaChnbyhoaXN0b3J5KSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnb3RvKHVybCkge1xuICAgICAgICBpZiAodXJsKSB7XG4gICAgICAgICAgICB0aGlzLnByb3BzLmRpc3BhdGNoKHB1c2godXJsKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIGxldCB7XG4gICAgICAgICAgICBsZWZ0LFxuICAgICAgICAgICAgY2VudGVyLFxuICAgICAgICAgICAgcmlnaHQsXG4gICAgICAgICAgICB9ID0gdGhpcy5wcm9wcztcblxuICAgICAgICBjb25zdCBpY29uU2l6ZSA9IHtcbiAgICAgICAgICAgIHdpZHRoOiAyOCwgaGVpZ2h0OiAyOFxuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0naGVhZGVyJz5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nbmF2YmFyJz5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J25hdmJhci1pbm5lcic+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPSdsZWZ0IGxpbmsnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gdGhpcy5nbyhsZWZ0LmV2ZW50KX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZWZ0Lmljb24gP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEljb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPXtsZWZ0Lmljb259XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e2xlZnQuc2l6ZSA/IGxlZnQuc2l6ZSA6IGljb25TaXplfSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBsZWZ0LnRleHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2NlbnRlcic+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjZW50ZXIuaWNvbiA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SWNvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9e2NlbnRlci5pY29ufVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXtjZW50ZXIuc2l6ZSA/IGNlbnRlci5zaXplIDogaWNvblNpemV9IC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGNlbnRlci50ZXh0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9J3JpZ2h0IGxpbmsnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gdGhpcy5nb3RvKHJpZ2h0LnVybCl9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmlnaHQuaWNvbiA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SWNvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9e3JpZ2h0Lmljb259XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3JpZ2h0LnNpemUgPyByaWdodC5zaXplIDogaWNvblNpemV9IC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHJpZ2h0LnRleHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcbiAgICB9XG59XG5cbkhlYWRlci5wcm9wVHlwZXMgPSB7XG4gICAgbGVmdDogUmVhY3QuUHJvcFR5cGVzLm9iamVjdC5pc1JlcXVpcmVkLFxuICAgIGNlbnRlcjogUmVhY3QuUHJvcFR5cGVzLm9iamVjdC5pc1JlcXVpcmVkLFxuICAgIHJpZ2h0OiBSZWFjdC5Qcm9wVHlwZXMub2JqZWN0LmlzUmVxdWlyZWRcbn07XG5cblxuZXhwb3J0IGRlZmF1bHQgSGVhZGVyO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9jb21wb25lbnRzL0hlYWRlci9pbmRleC5qc3giLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0ICcuL3N0eWxlLmxlc3MnO1xuXG5jb25zdCBJY29uID0gKHByb3BzKSA9PiB7XG5cbiAgICBjb25zdCBzcmMgPSAnLi4vc3JjL2ltZy9pY29uLycgKyBwcm9wcy5uYW1lICsgJy5wbmcnO1xuXG4gICAgcmV0dXJuIChcbiAgICAgICAgPGltZ1xuICAgICAgICAgICAgY2xhc3NOYW1lPSdpbWctaWNvbidcbiAgICAgICAgICAgIHNyYz17c3JjfVxuICAgICAgICAgICAgc3R5bGU9e3Byb3BzLnN0eWxlfVxuICAgICAgICAgICAgYWx0PSdpY29uJyAvPlxuICAgICk7XG59O1xuXG5JY29uLnByb3BUeXBlcyA9IHtcbiAgICBjaGlsZHJlbjogUmVhY3QuUHJvcFR5cGVzLmFueVxufTtcblxuZXhwb3J0IGRlZmF1bHQgSWNvbjtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29tcG9uZW50cy9JY29uL2luZGV4LmpzeCIsIi8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cbi8vIGxvYWQgdGhlIHN0eWxlc1xudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2xlc3MtbG9hZGVyL2luZGV4LmpzIS4vc3R5bGUubGVzc1wiKTtcbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuLy8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxudmFyIHVwZGF0ZSA9IHJlcXVpcmUoXCIhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCB7fSk7XG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcbi8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcbmlmKG1vZHVsZS5ob3QpIHtcblx0Ly8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0aWYoIWNvbnRlbnQubG9jYWxzKSB7XG5cdFx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvbGVzcy1sb2FkZXIvaW5kZXguanMhLi9zdHlsZS5sZXNzXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2xlc3MtbG9hZGVyL2luZGV4LmpzIS4vc3R5bGUubGVzc1wiKTtcblx0XHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdH0pO1xuXHR9XG5cdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvY29tcG9uZW50cy9JY29uL3N0eWxlLmxlc3Ncbi8vIG1vZHVsZSBpZCA9IDczNFxuLy8gbW9kdWxlIGNodW5rcyA9IDEgMiIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qc1wiKSgpO1xuLy8gaW1wb3J0c1xuXG5cbi8vIG1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLmltZy1pY29ue3ZlcnRpY2FsLWFsaWduOm1pZGRsZTt3aWR0aDouMjEzMzMzcmVtO2hlaWdodDouMjEzMzMzcmVtfVwiLCBcIlwiXSk7XG5cbi8vIGV4cG9ydHNcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9jc3MtbG9hZGVyIS4vfi9wb3N0Y3NzLWxvYWRlciEuL34vbGVzcy1sb2FkZXIhLi9zcmMvY29tcG9uZW50cy9JY29uL3N0eWxlLmxlc3Ncbi8vIG1vZHVsZSBpZCA9IDczNVxuLy8gbW9kdWxlIGNodW5rcyA9IDEgMiIsIi8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cbi8vIGxvYWQgdGhlIHN0eWxlc1xudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2xlc3MtbG9hZGVyL2luZGV4LmpzIS4vc3R5bGUubGVzc1wiKTtcbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuLy8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxudmFyIHVwZGF0ZSA9IHJlcXVpcmUoXCIhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCB7fSk7XG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcbi8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcbmlmKG1vZHVsZS5ob3QpIHtcblx0Ly8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0aWYoIWNvbnRlbnQubG9jYWxzKSB7XG5cdFx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvbGVzcy1sb2FkZXIvaW5kZXguanMhLi9zdHlsZS5sZXNzXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2xlc3MtbG9hZGVyL2luZGV4LmpzIS4vc3R5bGUubGVzc1wiKTtcblx0XHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdH0pO1xuXHR9XG5cdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvY29tcG9uZW50cy9IZWFkZXIvc3R5bGUubGVzc1xuLy8gbW9kdWxlIGlkID0gNzM2XG4vLyBtb2R1bGUgY2h1bmtzID0gMSAyIiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXCIpKCk7XG4vLyBpbXBvcnRzXG5cblxuLy8gbW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCJib2R5e2JhY2tncm91bmQtY29sb3I6I2ZmZn0uYnV0dG9uLXJlZHtjb2xvcjojZmZmO2JhY2tncm91bmQtY29sb3I6I2Y0NDMzNiFpbXBvcnRhbnR9LmJ1dHRvbi1vcmFuZ2V7Y29sb3I6I2ZmZjtiYWNrZ3JvdW5kLWNvbG9yOiNmZjk4MDAhaW1wb3J0YW50fS5idXR0b24tZ3JlZW57Y29sb3I6I2ZmZjtiYWNrZ3JvdW5kLWNvbG9yOiM0Y2FmNTAhaW1wb3J0YW50fS5idXR0b24tYmx1ZXtjb2xvcjojZmZmO2JhY2tncm91bmQtY29sb3I6IzIxOTZmMyFpbXBvcnRhbnR9LmJ1dHRvbntib3JkZXItcmFkaXVzOjB9LmVudHJ5LXdyYXAsLmVudHJ5LXdyYXA+ZGl2LC5lbnRyeS13cmFwPmRpdj5kaXZ7aGVpZ2h0OjEwMCV9Lmxpc3QtYmxvY2sgLml0ZW0taW5uZXI6YWZ0ZXJ7ZGlzcGxheTpub25lfS5oZWFkZXIgLmxpbmsuYWN0aXZlLXN0YXRle29wYWNpdHk6LjQ7ZmlsdGVyOmFscGhhKG9wYWNpdHk9NDApfVwiLCBcIlwiXSk7XG5cbi8vIGV4cG9ydHNcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9jc3MtbG9hZGVyIS4vfi9wb3N0Y3NzLWxvYWRlciEuL34vbGVzcy1sb2FkZXIhLi9zcmMvY29tcG9uZW50cy9IZWFkZXIvc3R5bGUubGVzc1xuLy8gbW9kdWxlIGlkID0gNzM3XG4vLyBtb2R1bGUgY2h1bmtzID0gMSAyIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBjbGFzc25hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xuaW1wb3J0ICcuL3N0eWxlLmxlc3MnO1xuXG5jb25zdCBDb250ZW50ID0gcHJvcHMgPT5cblx0PGRpdiB7Li4ucHJvcHN9IGNsYXNzTmFtZT17Y2xhc3NuYW1lcygncGFnZS1jb250ZW50JywgcHJvcHMuY2xhc3NOYW1lKX0gPlxuXHRcdHtwcm9wcy5jaGlsZHJlbn1cblx0PC9kaXY+O1xuXG5Db250ZW50LnByb3BUeXBlcyA9IHtcblx0Y2hpbGRyZW46IFJlYWN0LlByb3BUeXBlcy5hbnkuaXNSZXF1aXJlZFxufTtcblxuZXhwb3J0IGRlZmF1bHQgQ29udGVudDtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29tcG9uZW50cy9Db250ZW50L2luZGV4LmpzeCIsIi8qIVxuICBDb3B5cmlnaHQgKGMpIDIwMTYgSmVkIFdhdHNvbi5cbiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlIChNSVQpLCBzZWVcbiAgaHR0cDovL2plZHdhdHNvbi5naXRodWIuaW8vY2xhc3NuYW1lc1xuKi9cbi8qIGdsb2JhbCBkZWZpbmUgKi9cblxuKGZ1bmN0aW9uICgpIHtcblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBoYXNPd24gPSB7fS5oYXNPd25Qcm9wZXJ0eTtcblxuXHRmdW5jdGlvbiBjbGFzc05hbWVzICgpIHtcblx0XHR2YXIgY2xhc3NlcyA9IFtdO1xuXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBhcmcgPSBhcmd1bWVudHNbaV07XG5cdFx0XHRpZiAoIWFyZykgY29udGludWU7XG5cblx0XHRcdHZhciBhcmdUeXBlID0gdHlwZW9mIGFyZztcblxuXHRcdFx0aWYgKGFyZ1R5cGUgPT09ICdzdHJpbmcnIHx8IGFyZ1R5cGUgPT09ICdudW1iZXInKSB7XG5cdFx0XHRcdGNsYXNzZXMucHVzaChhcmcpO1xuXHRcdFx0fSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGFyZykpIHtcblx0XHRcdFx0Y2xhc3Nlcy5wdXNoKGNsYXNzTmFtZXMuYXBwbHkobnVsbCwgYXJnKSk7XG5cdFx0XHR9IGVsc2UgaWYgKGFyZ1R5cGUgPT09ICdvYmplY3QnKSB7XG5cdFx0XHRcdGZvciAodmFyIGtleSBpbiBhcmcpIHtcblx0XHRcdFx0XHRpZiAoaGFzT3duLmNhbGwoYXJnLCBrZXkpICYmIGFyZ1trZXldKSB7XG5cdFx0XHRcdFx0XHRjbGFzc2VzLnB1c2goa2V5KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gY2xhc3Nlcy5qb2luKCcgJyk7XG5cdH1cblxuXHRpZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlLmV4cG9ydHMpIHtcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGNsYXNzTmFtZXM7XG5cdH0gZWxzZSBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgZGVmaW5lLmFtZCA9PT0gJ29iamVjdCcgJiYgZGVmaW5lLmFtZCkge1xuXHRcdC8vIHJlZ2lzdGVyIGFzICdjbGFzc25hbWVzJywgY29uc2lzdGVudCB3aXRoIG5wbSBwYWNrYWdlIG5hbWVcblx0XHRkZWZpbmUoJ2NsYXNzbmFtZXMnLCBbXSwgZnVuY3Rpb24gKCkge1xuXHRcdFx0cmV0dXJuIGNsYXNzTmFtZXM7XG5cdFx0fSk7XG5cdH0gZWxzZSB7XG5cdFx0d2luZG93LmNsYXNzTmFtZXMgPSBjbGFzc05hbWVzO1xuXHR9XG59KCkpO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2NsYXNzbmFtZXMvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDczOVxuLy8gbW9kdWxlIGNodW5rcyA9IDEgMiIsIi8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cbi8vIGxvYWQgdGhlIHN0eWxlc1xudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2xlc3MtbG9hZGVyL2luZGV4LmpzIS4vc3R5bGUubGVzc1wiKTtcbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuLy8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxudmFyIHVwZGF0ZSA9IHJlcXVpcmUoXCIhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCB7fSk7XG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcbi8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcbmlmKG1vZHVsZS5ob3QpIHtcblx0Ly8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0aWYoIWNvbnRlbnQubG9jYWxzKSB7XG5cdFx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvbGVzcy1sb2FkZXIvaW5kZXguanMhLi9zdHlsZS5sZXNzXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2xlc3MtbG9hZGVyL2luZGV4LmpzIS4vc3R5bGUubGVzc1wiKTtcblx0XHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdH0pO1xuXHR9XG5cdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvY29tcG9uZW50cy9Db250ZW50L3N0eWxlLmxlc3Ncbi8vIG1vZHVsZSBpZCA9IDc0MFxuLy8gbW9kdWxlIGNodW5rcyA9IDEgMiIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qc1wiKSgpO1xuLy8gaW1wb3J0c1xuXG5cbi8vIG1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLnBhZ2UtY29udGVudHtvdmVyZmxvdzpzY3JvbGw7aGVpZ2h0OmNhbGMoMTAwJSAtIC41ODY2NjdyZW0pfVwiLCBcIlwiXSk7XG5cbi8vIGV4cG9ydHNcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9jc3MtbG9hZGVyIS4vfi9wb3N0Y3NzLWxvYWRlciEuL34vbGVzcy1sb2FkZXIhLi9zcmMvY29tcG9uZW50cy9Db250ZW50L3N0eWxlLmxlc3Ncbi8vIG1vZHVsZSBpZCA9IDc0MVxuLy8gbW9kdWxlIGNodW5rcyA9IDEgMiIsImltcG9ydCBMaXN0IGZyb20gJy4vTGlzdCc7XG5pbXBvcnQgSXRlbSBmcm9tICcuL0l0ZW0nO1xuaW1wb3J0ICcuL3N0eWxlLmxlc3MnO1xuXG5jb25zdCBMaXN0QmxvY2sgPSB7XG4gICAgTGlzdDogTGlzdCxcbiAgICBJdGVtOiBJdGVtXG59O1xuXG5leHBvcnQgZGVmYXVsdCBMaXN0QmxvY2s7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NvbXBvbmVudHMvTGlzdEJsb2NrL2luZGV4LmpzIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBjbGFzc05hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xuXG5jb25zdCBMaXN0ID0gKHtcblx0Y2xhc3NOYW1lLFxuXHRjaGlsZHJlbixcbn0pID0+IHtcblxuXHRjb25zdCBjbiA9IGNsYXNzTmFtZXMoJ2xpc3QtYmxvY2snLCBjbGFzc05hbWUsIHt9KTtcblxuXHRyZXR1cm4gKFxuXHRcdDxkaXYgY2xhc3NOYW1lPXtjbn0+XG4gICAgICAgICAgICA8dWw+XG4gICAgICAgICAgICAgICAge2NoaWxkcmVufVxuICAgICAgICAgICAgPC91bD5cbiAgICAgICAgPC9kaXY+XG5cdCk7XG59O1xuXG5MaXN0LnByb3BUeXBlcyA9IHtcblx0Y2hpbGRyZW46IFJlYWN0LlByb3BUeXBlcy5hbnlcbn07XG5cbmV4cG9ydCBkZWZhdWx0IExpc3Q7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NvbXBvbmVudHMvTGlzdEJsb2NrL0xpc3QuanN4IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBjbGFzc05hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xuXG5jb25zdCBJdGVtID0gKHtcblx0Y2xhc3NOYW1lLFxuXHRtZWRpYSxcblx0Y2hpbGRyZW4sXG59KSA9PiB7XG5cblx0Y29uc3QgY24gPSBjbGFzc05hbWVzKCdpdGVtLWNvbnRlbnQnLCBjbGFzc05hbWUsIHtcblx0XHRtZWRpYTogbWVkaWFcblx0fSk7XG5cblx0cmV0dXJuIDxsaSBjbGFzc05hbWU9e2NufT57Y2hpbGRyZW59PC9saT47XG59O1xuXG5JdGVtLnByb3BUeXBlcyA9IHtcblx0Y2hpbGRyZW46IFJlYWN0LlByb3BUeXBlcy5hbnlcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEl0ZW07XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NvbXBvbmVudHMvTGlzdEJsb2NrL0l0ZW0uanN4IiwiLy8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblxuLy8gbG9hZCB0aGUgc3R5bGVzXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvbGVzcy1sb2FkZXIvaW5kZXguanMhLi9zdHlsZS5sZXNzXCIpO1xuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG4vLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvYWRkU3R5bGVzLmpzXCIpKGNvbnRlbnQsIHt9KTtcbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuLy8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuaWYobW9kdWxlLmhvdCkge1xuXHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRpZighY29udGVudC5sb2NhbHMpIHtcblx0XHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9sZXNzLWxvYWRlci9pbmRleC5qcyEuL3N0eWxlLmxlc3NcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvbGVzcy1sb2FkZXIvaW5kZXguanMhLi9zdHlsZS5sZXNzXCIpO1xuXHRcdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cdFx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdFx0fSk7XG5cdH1cblx0Ly8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuXHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn1cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9jb21wb25lbnRzL0xpc3RCbG9jay9zdHlsZS5sZXNzXG4vLyBtb2R1bGUgaWQgPSA3NDVcbi8vIG1vZHVsZSBjaHVua3MgPSAxIDIiLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanNcIikoKTtcbi8vIGltcG9ydHNcblxuXG4vLyBtb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi5saXN0LWJsb2Nre21hcmdpbjowfS5saXN0LWJsb2NrIC5pdGVtLWNvbnRlbnR7ZGlzcGxheTpibG9ja30ubGlzdC1ibG9jayAuaXRlbS1jb250ZW50Lm1lZGlhe2Rpc3BsYXk6LXdlYmtpdC1ib3g7ZGlzcGxheTotbXMtZmxleGJveDtkaXNwbGF5OmZsZXh9Lmxpc3QtYmxvY2sgVUw6YWZ0ZXIsLmxpc3QtYmxvY2sgdWw6YmVmb3Jle2Rpc3BsYXk6bm9uZX0ubGlzdC1ibG9jayBsaXtib3JkZXItYm90dG9tOi4wMTMzMzNyZW0gc29saWQgI2NjY31cIiwgXCJcIl0pO1xuXG4vLyBleHBvcnRzXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vY3NzLWxvYWRlciEuL34vcG9zdGNzcy1sb2FkZXIhLi9+L2xlc3MtbG9hZGVyIS4vc3JjL2NvbXBvbmVudHMvTGlzdEJsb2NrL3N0eWxlLmxlc3Ncbi8vIG1vZHVsZSBpZCA9IDc0NlxuLy8gbW9kdWxlIGNodW5rcyA9IDEgMiIsImltcG9ydCBmNyBmcm9tICcuL2Y3LmpzJztcblxubGV0IHskfSA9IGY3O1xuXG5sZXQgJHBhZ2VzID0gJCgnI3BhZ2VzJyk7XG5cbmV4cG9ydCBkZWZhdWx0ICgpID0+IHtcbiAgICAkcGFnZXMucmVtb3ZlQ2xhc3MoJ3Rvb2xiYXItZml4ZWQnKTtcbn07XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29tbW9uL2NsZWFyVG9vbGJhci5qcyIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgY2xhc3NOYW1lcyBmcm9tICdjbGFzc25hbWVzJztcbmltcG9ydCAnLi9zdHlsZS5sZXNzJztcblxuY2xhc3MgVGFiIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcblx0Y29uc3RydWN0b3IocHJvcHMpIHtcblx0XHRzdXBlcihwcm9wcyk7XG5cblx0XHR0aGlzLnN0YXRlID0ge1xuXHRcdFx0YWN0aXZlTmFtZTpwcm9wcy5hY3RpdmVOYW1lXG5cdFx0fTtcblx0fVxuXG5cdGNoYW5nZUFjdGl2ZU5hbWUoYWN0aXZlTmFtZSkge1xuXHRcdHRoaXMuc2V0U3RhdGUoe1xuXHRcdFx0YWN0aXZlTmFtZTphY3RpdmVOYW1lXG5cdFx0fSk7XG5cblx0XHRpZiAodHlwZW9mIHRoaXMucHJvcHMub25DaGFuZ2UgPT09ICdmdW5jdGlvbicpIHtcblx0XHRcdHRoaXMucHJvcHMub25DaGFuZ2UoYWN0aXZlTmFtZSk7XG5cdFx0fVxuXHR9XG5cblx0cmVuZGVyKCkge1xuXHRcdGNvbnN0IHtcblx0XHRcdHRhYnMsXG5cdFx0XHRpc0ZldGNoaW5nLFxuXHRcdH0gPSB0aGlzLnByb3BzO1xuXG5cdFx0cmV0dXJuIChcblx0XHRcdDxkaXYgY2xhc3NOYW1lPSd0YWJzJz5cblx0XHRcdFx0e1xuXHRcdFx0XHRcdHRhYnMubWFwKHRhYiA9PiAoXG5cdFx0XHRcdFx0XHRcdDxkaXZcblx0XHRcdFx0XHRcdFx0XHRrZXk9e3RhYi5hY3RpdmVOYW1lfVxuXHRcdFx0XHRcdFx0XHRcdGNsYXNzTmFtZT17Y2xhc3NOYW1lcygndGFiJywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkOnRoaXMuc3RhdGUuYWN0aXZlTmFtZSA9PT0gdGFiLmFjdGl2ZU5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuXHRcdFx0XHRcdFx0XHRcdG9uQ2xpY2s9eygpID0+IHRoaXMuY2hhbmdlQWN0aXZlTmFtZSh0YWIuYWN0aXZlTmFtZSl9XG5cdFx0XHRcdFx0XHRcdFx0ZGlzYWJsZWQ9e2lzRmV0Y2hpbmd9PlxuXHRcdFx0XHRcdFx0XHRcdHt0YWIudGl0bGV9XG5cdFx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0KVxuXHRcdFx0XHRcdClcblx0XHRcdFx0fVxuICAgICAgICAgICAgPC9kaXY+XG5cdFx0KTtcblx0fVxufVxuXG5UYWIucG9ycFR5cGVzID0ge1xuXHR0YWJzOiBSZWFjdC5Qcm9wVHlwZXMub2JqZWN0LmlzUmVxdWlyZWQsXG5cdGFjdGl2ZU5hbWU6IFJlYWN0LlByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcblx0aXNGZXRjaGluZzogUmVhY3QuUHJvcFR5cGVzLmJvb2wsXG59O1xuXG5UYWIuZGVmYXVsdFByb3BzID0ge1xuXHRpc0ZldGNoaW5nOiBmYWxzZSxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFRhYjtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29tcG9uZW50cy9UYWIvaW5kZXguanN4IiwiLy8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblxuLy8gbG9hZCB0aGUgc3R5bGVzXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvbGVzcy1sb2FkZXIvaW5kZXguanMhLi9zdHlsZS5sZXNzXCIpO1xuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG4vLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvYWRkU3R5bGVzLmpzXCIpKGNvbnRlbnQsIHt9KTtcbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuLy8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuaWYobW9kdWxlLmhvdCkge1xuXHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRpZighY29udGVudC5sb2NhbHMpIHtcblx0XHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9sZXNzLWxvYWRlci9pbmRleC5qcyEuL3N0eWxlLmxlc3NcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvbGVzcy1sb2FkZXIvaW5kZXguanMhLi9zdHlsZS5sZXNzXCIpO1xuXHRcdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cdFx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdFx0fSk7XG5cdH1cblx0Ly8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuXHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn1cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9jb21wb25lbnRzL1RhYi9zdHlsZS5sZXNzXG4vLyBtb2R1bGUgaWQgPSA3NDlcbi8vIG1vZHVsZSBjaHVua3MgPSAxIDIiLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanNcIikoKTtcbi8vIGltcG9ydHNcblxuXG4vLyBtb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi50YWJze2Rpc3BsYXk6dGFibGU7d2lkdGg6MTAwJTt0YWJsZS1sYXlvdXQ6Zml4ZWQ7YmFja2dyb3VuZDojZmFmYWZhfS50YWJzIC50YWJ7ZGlzcGxheTp0YWJsZS1jZWxsO3RleHQtYWxpZ246Y2VudGVyO3BhZGRpbmc6LjEzMzMzM3JlbSAwfVwiLCBcIlwiXSk7XG5cbi8vIGV4cG9ydHNcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9jc3MtbG9hZGVyIS4vfi9wb3N0Y3NzLWxvYWRlciEuL34vbGVzcy1sb2FkZXIhLi9zcmMvY29tcG9uZW50cy9UYWIvc3R5bGUubGVzc1xuLy8gbW9kdWxlIGlkID0gNzUwXG4vLyBtb2R1bGUgY2h1bmtzID0gMSAyIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBjbGFzc05hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xuaW1wb3J0ICcuL3N0eWxlLmxlc3MnO1xuXG5jbGFzcyBDb3VudFBhZ2UgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICAgIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgICAgIHN1cGVyKHByb3BzKTtcblxuICAgICAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgICAgICAgcGFnZTogMVxuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMuYWRkUGFnZSA9IHRoaXMuYWRkUGFnZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLm1pbnVzUGFnZSA9IHRoaXMubWludXNQYWdlLmJpbmQodGhpcyk7XG4gICAgfVxuXG4gICAgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcykge1xuICAgICAgICBpZiAobmV4dFByb3MucmVzZXQpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgIHBhZ2U6IDFcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYWRkUGFnZSgpIHtcblxuICAgICAgICBsZXQgX3BhZ2UgPSB0aGlzLnN0YXRlLnBhZ2U7XG5cbiAgICAgICAgX3BhZ2UgPSBfcGFnZSArIDE7XG5cbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBwYWdlOiBfcGFnZVxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAodHlwZW9mIHRoaXMucHJvcHMub25DaGFuZ2UgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRoaXMucHJvcHMub25DaGFuZ2UoX3BhZ2UpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgbWludXNQYWdlKCkge1xuXG4gICAgICAgIGxldCBfcGFnZSA9IHRoaXMuc3RhdGUucGFnZTtcblxuICAgICAgICBfcGFnZSA9IF9wYWdlIC0gMTtcblxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIHBhZ2U6IF9wYWdlXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5wcm9wcy5vbkNoYW5nZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdGhpcy5wcm9wcy5vbkNoYW5nZShfcGFnZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZW5kZXIoKSB7XG5cbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgcGFnZVxuICAgICAgICAgICAgfSA9IHRoaXMuc3RhdGU7XG5cbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgbWluLFxuICAgICAgICAgICAgbWF4XG4gICAgICAgICAgICB9ID0gdGhpcy5wcm9wcztcblxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3BhZ2luYXRpb24gcm93IG5vLWd1dHRlcic+XG4gICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2NsYXNzTmFtZXMoJ2NvbC0zMycsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkOnBhZ2UgPD0gbWluXG4gICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB0aGlzLm1pbnVzUGFnZSgpfT7il4DvuI5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nY29sLTMzIGN1cnJlbnQtcGFnZSc+e3BhZ2UgKyAnLycgKyBtYXh9PC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2NsYXNzTmFtZXMoJ2NvbC0zMycsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkOnBhZ2UgPj0gbWF4XG4gICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB0aGlzLmFkZFBhZ2UoKX0+4pa277iOXG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcbiAgICB9XG59XG5cbkNvdW50UGFnZS5wb3JwVHlwZXMgPSB7XG4gICAgbWluOiBSZWFjdC5Qcm9wVHlwZXMubnVtYmVyLFxuICAgIG1heDogUmVhY3QuUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkLFxuICAgIHJlc2V0OiBSZWFjdC5Qcm9wVHlwZXMuYm9vbCxcbn07XG5cbkNvdW50UGFnZS5kZWZhdWx0UHJvcHMgPSB7XG4gICAgbWluOiAxLFxuICAgIG1heDogMSxcbiAgICByZXNldDogZmFsc2UsXG59O1xuXG5leHBvcnQgZGVmYXVsdCBDb3VudFBhZ2U7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NvbXBvbmVudHMvQ291bnRQYWdlL2luZGV4LmpzeCIsIi8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cbi8vIGxvYWQgdGhlIHN0eWxlc1xudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2xlc3MtbG9hZGVyL2luZGV4LmpzIS4vc3R5bGUubGVzc1wiKTtcbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuLy8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxudmFyIHVwZGF0ZSA9IHJlcXVpcmUoXCIhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCB7fSk7XG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcbi8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcbmlmKG1vZHVsZS5ob3QpIHtcblx0Ly8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0aWYoIWNvbnRlbnQubG9jYWxzKSB7XG5cdFx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvbGVzcy1sb2FkZXIvaW5kZXguanMhLi9zdHlsZS5sZXNzXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2xlc3MtbG9hZGVyL2luZGV4LmpzIS4vc3R5bGUubGVzc1wiKTtcblx0XHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdH0pO1xuXHR9XG5cdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvY29tcG9uZW50cy9Db3VudFBhZ2Uvc3R5bGUubGVzc1xuLy8gbW9kdWxlIGlkID0gNzUyXG4vLyBtb2R1bGUgY2h1bmtzID0gMSIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qc1wiKSgpO1xuLy8gaW1wb3J0c1xuXG5cbi8vIG1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLnBhZ2luYXRpb257dGV4dC1hbGlnbjpjZW50ZXJ9LnBhZ2luYXRpb24gZGl2e3BhZGRpbmc6LjEzMzMzM3JlbSAuMnJlbTtib3JkZXItYm90dG9tOi4wMTMzMzNyZW0gc29saWQgI2RkZH0ucGFnaW5hdGlvbiAuY3VycmVudC1wYWdle2JvcmRlci1yaWdodDouMDEzMzMzcmVtIHNvbGlkICNkZGQ7Ym9yZGVyLWxlZnQ6LjAxMzMzM3JlbSBzb2xpZCAjZGRkfS5wYWdpbmF0aW9uIC5jdXJyZW50LXBhZ2UuYWN0aXZlLXN0YXRle2JhY2tncm91bmQ6dHJhbnNwYXJlbnR9LnBhZ2luYXRpb24gLmFjdGl2ZS1zdGF0ZXtiYWNrZ3JvdW5kLWNvbG9yOiNiZmU1ZjN9XCIsIFwiXCJdKTtcblxuLy8gZXhwb3J0c1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2Nzcy1sb2FkZXIhLi9+L3Bvc3Rjc3MtbG9hZGVyIS4vfi9sZXNzLWxvYWRlciEuL3NyYy9jb21wb25lbnRzL0NvdW50UGFnZS9zdHlsZS5sZXNzXG4vLyBtb2R1bGUgaWQgPSA3NTNcbi8vIG1vZHVsZSBjaHVua3MgPSAxIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBJbW11dGFibGUgZnJvbSAnaW1tdXRhYmxlJztcbmltcG9ydCBMaXN0QmxvY2sgZnJvbSAnY29tcG9uZW50cy9MaXN0QmxvY2snO1xuaW1wb3J0IGN1dFdvcmRzIGZyb20gJ2NvbW1vbi9jdXRXb3Jkcyc7XG5pbXBvcnQgU2VhcmNoUGxhY2Vob2xkZXIgZnJvbSAnY29tcG9uZW50cy9QbGFjZWhvbGRlci9TZWFyY2hQbGFjZWhvbGRlcic7XG5pbXBvcnQgTG9hZGluZyBmcm9tICdjb21wb25lbnRzL0xvYWRpbmcnO1xuXG5jb25zdCB7XG4gICAgTGlzdCxcbiAgICBJdGVtXG59ID0gTGlzdEJsb2NrO1xuXG5jb25zdCBSZXBvc2l0b3JpZXMgPSAoe1xuICAgICAgICBpdGVtcyxcbiAgICAgICAgaXNGZXRjaGluZyxcbiAgICB9KSA9PlxuICAgIGlzRmV0Y2hpbmcgPyA8TG9hZGluZyAvPiA6XG4gICAgaXRlbXMuc2l6ZSAhPT0gMCA/XG4gICAgPExpc3QgY2xhc3NOYW1lPSdyZXAtaXRlbXMnPlxuICAgICAgICB7XG4gICAgICAgICAgICBpdGVtcy5tYXAocmVwID0+IChcbiAgICAgICAgICAgICAgICA8SXRlbVxuICAgICAgICAgICAgICAgICAgICBrZXk9e3JlcC5nZXQoJ2lkJyl9PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0naXRlbS13cmFwJz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSd0aXRsZSc+e3JlcC5nZXQoJ2Z1bGxfbmFtZScpfTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2FmdGVyJz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7cmVwLmdldCgnc3RhcmdhemVyc19jb3VudCcpfTxzcGFuPuKYhTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVwLmdldCgnZGVzY3JpcHRpb24nKSAmJiByZXAuZ2V0KCdkZXNjcmlwdGlvbicpICE9PSAnJyAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2Rlcyc+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXRXb3JkcyhyZXAuZ2V0KCdkZXNjcmlwdGlvbicpLCAyMDApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICA8L0l0ZW0+XG4gICAgICAgICAgICApKVxuICAgICAgICB9XG4gICAgPC9MaXN0PiA6IDxTZWFyY2hQbGFjZWhvbGRlciAvPjtcblxuUmVwb3NpdG9yaWVzLnByb3BUeXBlcyA9IHtcbiAgICBpdGVtOiBSZWFjdC5Qcm9wVHlwZXMuaW5zdGFuY2VPZihJbW11dGFibGUuTGlzdCksXG4gICAgaXNGZXRjaGluZzogUmVhY3QuUHJvcFR5cGVzLmJvb2wsXG59O1xuXG5leHBvcnQgZGVmYXVsdCBSZXBvc2l0b3JpZXM7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL1NlYXJjaC9jb21wb25lbnRzL1JlcG9zaXRvcmllcy5qc3giLCJleHBvcnQgZGVmYXVsdCAoc3RyaW5nLCBsZW5ndGgpID0+IHtcblx0aWYgKHN0cmluZy5sZW5ndGggPiBsZW5ndGgpIHtcblx0XHRyZXR1cm4gc3RyaW5nLnN1YnN0cmluZygwLCBsZW5ndGgpICsgJy4uLic7XG5cdH0gZWxzZSB7XG5cdFx0cmV0dXJuIHN0cmluZztcblx0fVxufTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29tbW9uL2N1dFdvcmRzLmpzIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCAnLi9zdHlsZS5sZXNzJztcblxuY29uc3QgU2VhcmNoUGxhY2Vob2xkZXIgPSAoKSA9PiA8ZGl2IGNsYXNzTmFtZT0nc2VhcmNoLXBsYWNlaG9sZGVyJz5ObyByZXN1bHRzIHRvIHNob3cuPC9kaXY+O1xuXG5leHBvcnQgZGVmYXVsdCBTZWFyY2hQbGFjZWhvbGRlcjtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29tcG9uZW50cy9QbGFjZWhvbGRlci9TZWFyY2hQbGFjZWhvbGRlci5qc3giLCIvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXG4vLyBsb2FkIHRoZSBzdHlsZXNcbnZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9sZXNzLWxvYWRlci9pbmRleC5qcyEuL3N0eWxlLmxlc3NcIik7XG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbi8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9hZGRTdHlsZXMuanNcIikoY29udGVudCwge30pO1xuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG4vLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5pZihtb2R1bGUuaG90KSB7XG5cdC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdGlmKCFjb250ZW50LmxvY2Fscykge1xuXHRcdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2xlc3MtbG9hZGVyL2luZGV4LmpzIS4vc3R5bGUubGVzc1wiLCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9sZXNzLWxvYWRlci9pbmRleC5qcyEuL3N0eWxlLmxlc3NcIik7XG5cdFx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblx0XHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0XHR9KTtcblx0fVxuXHQvLyBXaGVuIHRoZSBtb2R1bGUgaXMgZGlzcG9zZWQsIHJlbW92ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2NvbXBvbmVudHMvUGxhY2Vob2xkZXIvc3R5bGUubGVzc1xuLy8gbW9kdWxlIGlkID0gNzU3XG4vLyBtb2R1bGUgY2h1bmtzID0gMSAyIiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXCIpKCk7XG4vLyBpbXBvcnRzXG5cblxuLy8gbW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIudXNlci1wbGFjZWhvbGRlcntwYWRkaW5nOjA7bWFyZ2luOi4ycmVtO292ZXJmbG93OmhpZGRlbjt3b3JkLWJyZWFrOmJyZWFrLXdvcmQ7d29yZC13cmFwOmJyZWFrLXdvcmQ7d2hpdGUtc3BhY2U6bm9ybWFsO2JvcmRlcjouMDEzMzMzcmVtIHNvbGlkICNkZGQ7Ym9yZGVyLXJhZGl1czouMDRyZW07YmFja2dyb3VuZDojZjVmNWY1O2JvcmRlci1jb2xvcjojY2NjO2JveC1zaGFkb3c6aW5zZXQgMCAwIC4xMzMzMzNyZW0gcmdiYSgwLDAsMCwuMSl9LnVzZXItcGxhY2Vob2xkZXIgLndyYXB7Zm9udC1zaXplOi4ycmVtO2NvbG9yOiM3Njc2NzY7dGV4dC1hbGlnbjpjZW50ZXI7cGFkZGluZzouMnJlbX0uc2VhcmNoLXBsYWNlaG9sZGVye3BhZGRpbmc6LjZyZW07Zm9udC13ZWlnaHQ6NzAwO2NvbG9yOiM3Njc2NzY7dGV4dC1hbGlnbjpjZW50ZXJ9XCIsIFwiXCJdKTtcblxuLy8gZXhwb3J0c1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2Nzcy1sb2FkZXIhLi9+L3Bvc3Rjc3MtbG9hZGVyIS4vfi9sZXNzLWxvYWRlciEuL3NyYy9jb21wb25lbnRzL1BsYWNlaG9sZGVyL3N0eWxlLmxlc3Ncbi8vIG1vZHVsZSBpZCA9IDc1OFxuLy8gbW9kdWxlIGNodW5rcyA9IDEgMiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgJy4vc3R5bGUubGVzcyc7XG5cbmNvbnN0IExvYWRpbmcgPSAoKSA9PlxuXHQ8ZGl2IGNsYXNzTmFtZT0nbG9hZGluZyc+XG5cdFx0PGRpdiBjbGFzc05hbWU9J2xvYWRlcic+PC9kaXY+XG5cdFx0PGRpdiBjbGFzc05hbWU9J3RleHQnPkxvYWRpbmcuLi48L2Rpdj5cblx0PC9kaXY+O1xuXG5leHBvcnQgZGVmYXVsdCBMb2FkaW5nO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9jb21wb25lbnRzL0xvYWRpbmcvaW5kZXguanN4IiwiLy8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblxuLy8gbG9hZCB0aGUgc3R5bGVzXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvbGVzcy1sb2FkZXIvaW5kZXguanMhLi9zdHlsZS5sZXNzXCIpO1xuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG4vLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvYWRkU3R5bGVzLmpzXCIpKGNvbnRlbnQsIHt9KTtcbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuLy8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuaWYobW9kdWxlLmhvdCkge1xuXHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRpZighY29udGVudC5sb2NhbHMpIHtcblx0XHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9sZXNzLWxvYWRlci9pbmRleC5qcyEuL3N0eWxlLmxlc3NcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvbGVzcy1sb2FkZXIvaW5kZXguanMhLi9zdHlsZS5sZXNzXCIpO1xuXHRcdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cdFx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdFx0fSk7XG5cdH1cblx0Ly8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuXHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn1cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9jb21wb25lbnRzL0xvYWRpbmcvc3R5bGUubGVzc1xuLy8gbW9kdWxlIGlkID0gNzYwXG4vLyBtb2R1bGUgY2h1bmtzID0gMSAyIiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXCIpKCk7XG4vLyBpbXBvcnRzXG5cblxuLy8gbW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIubG9hZGluZ3ttYXJnaW46LjI2NjY2N3JlbSBhdXRvO2Rpc3BsYXk6LXdlYmtpdC1ib3g7ZGlzcGxheTotbXMtZmxleGJveDtkaXNwbGF5OmZsZXg7LXdlYmtpdC1ib3gtcGFjazpjZW50ZXI7LW1zLWZsZXgtcGFjazpjZW50ZXI7anVzdGlmeS1jb250ZW50OmNlbnRlcjtwb3NpdGlvbjpyZWxhdGl2ZX0ubG9hZGluZyAudGV4dHtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6NTAlO2xlZnQ6NTAlOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZSgtNTAlLC01MCUpO3RyYW5zZm9ybTp0cmFuc2xhdGUoLTUwJSwtNTAlKTtmb250LXNpemU6LjI0cmVtfS5sb2FkaW5nIC5sb2FkZXIsLmxvYWRpbmcgLmxvYWRlcjphZnRlcntib3JkZXItcmFkaXVzOjUwJTt3aWR0aDoxMGVtO2hlaWdodDoxMGVtfS5sb2FkaW5nIC5sb2FkZXJ7bWFyZ2luOi44cmVtIGF1dG87Zm9udC1zaXplOi4xMzMzMzNyZW07cG9zaXRpb246cmVsYXRpdmU7dGV4dC1pbmRlbnQ6LTk5OTllbTtib3JkZXItdG9wOjEuMWVtIHNvbGlkIGhzbGEoMCwwJSw4MCUsLjIpO2JvcmRlci1yaWdodDoxLjFlbSBzb2xpZCBoc2xhKDAsMCUsODAlLC4yKTtib3JkZXItYm90dG9tOjEuMWVtIHNvbGlkIGhzbGEoMCwwJSw4MCUsLjIpO2JvcmRlci1sZWZ0OjEuMWVtIHNvbGlkICNjY2M7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWigwKTt0cmFuc2Zvcm06dHJhbnNsYXRlWigwKTstd2Via2l0LWFuaW1hdGlvbjpsb2FkOCAxLjFzIGluZmluaXRlIGxpbmVhcjthbmltYXRpb246bG9hZDggMS4xcyBpbmZpbml0ZSBsaW5lYXJ9QC13ZWJraXQta2V5ZnJhbWVzIGxvYWQ4ezAley13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSgwZGVnKTt0cmFuc2Zvcm06cm90YXRlKDBkZWcpfXRvey13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSgxdHVybik7dHJhbnNmb3JtOnJvdGF0ZSgxdHVybil9fUBrZXlmcmFtZXMgbG9hZDh7MCV7LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlKDBkZWcpO3RyYW5zZm9ybTpyb3RhdGUoMGRlZyl9dG97LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlKDF0dXJuKTt0cmFuc2Zvcm06cm90YXRlKDF0dXJuKX19XCIsIFwiXCJdKTtcblxuLy8gZXhwb3J0c1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2Nzcy1sb2FkZXIhLi9+L3Bvc3Rjc3MtbG9hZGVyIS4vfi9sZXNzLWxvYWRlciEuL3NyYy9jb21wb25lbnRzL0xvYWRpbmcvc3R5bGUubGVzc1xuLy8gbW9kdWxlIGlkID0gNzYxXG4vLyBtb2R1bGUgY2h1bmtzID0gMSAyIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBJbW11dGFibGUgZnJvbSAnaW1tdXRhYmxlJztcbmltcG9ydCBMaXN0QmxvY2sgZnJvbSAnY29tcG9uZW50cy9MaXN0QmxvY2snO1xuaW1wb3J0IGN1dFdvcmRzIGZyb20gJ2NvbW1vbi9jdXRXb3Jkcyc7XG5pbXBvcnQgU2VhcmNoUGxhY2Vob2xkZXIgZnJvbSAnY29tcG9uZW50cy9QbGFjZWhvbGRlci9TZWFyY2hQbGFjZWhvbGRlcic7XG5pbXBvcnQgTG9hZGluZyBmcm9tICdjb21wb25lbnRzL0xvYWRpbmcnO1xuXG5jb25zdCB7XG4gICAgTGlzdCxcbiAgICBJdGVtXG59ID0gTGlzdEJsb2NrO1xuXG5jb25zdCBJc3N1ZXMgPSAoe1xuICAgICAgICBpdGVtcyxcbiAgICAgICAgaXNGZXRjaGluZyxcbiAgICB9KSA9PlxuICAgIGlzRmV0Y2hpbmcgPyA8TG9hZGluZyAvPiA6XG4gICAgaXRlbXMuc2l6ZSAhPT0gMCA/XG4gICAgPExpc3QgY2xhc3NOYW1lPSdpc3N1ZXMtaXRlbXMnPlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGl0ZW1zLm1hcChpc3N1ZSA9PiAoXG4gICAgICAgICAgICAgICAgICAgIDxJdGVtXG4gICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2lzc3VlLmdldCgnaWQnKX0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0naXRlbS13cmFwJz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ndGl0bGUnPntpc3N1ZS5nZXQoJ3RpdGxlJyl9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2FmdGVyJz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+Izwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2lzc3VlLmdldCgnbnVtYmVyJyl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc3N1ZS5nZXQoJ2JvZHknKSAmJiBpc3N1ZS5nZXQoJ2JvZHknKSAhPT0gJycgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZGVzJz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3V0V29yZHMoaXNzdWUuZ2V0KCdib2R5JyksIDIwMClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICA8L0l0ZW0+XG4gICAgICAgICAgICAgICAgKSlcbiAgICAgICAgICAgIH1cbiAgICA8L0xpc3Q+IDogPFNlYXJjaFBsYWNlaG9sZGVyIC8+O1xuXG5Jc3N1ZXMucHJvcFR5cGVzID0ge1xuICAgIGl0ZW06IFJlYWN0LlByb3BUeXBlcy5pbnN0YW5jZU9mKEltbXV0YWJsZS5MaXN0KSxcbiAgICBpc0ZldGNoaW5nOiBSZWFjdC5Qcm9wVHlwZXMuYm9vbCxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IElzc3VlcztcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvU2VhcmNoL2NvbXBvbmVudHMvSXNzdWVzLmpzeCIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgSW1tdXRhYmxlIGZyb20gJ2ltbXV0YWJsZSc7XG5pbXBvcnQgTGlzdEJsb2NrIGZyb20gJ2NvbXBvbmVudHMvTGlzdEJsb2NrJztcbmltcG9ydCBTZWFyY2hQbGFjZWhvbGRlciBmcm9tICdjb21wb25lbnRzL1BsYWNlaG9sZGVyL1NlYXJjaFBsYWNlaG9sZGVyJztcbmltcG9ydCBMb2FkaW5nIGZyb20gJ2NvbXBvbmVudHMvTG9hZGluZyc7XG5cbmNvbnN0IHtcbiAgICBMaXN0LFxuICAgIEl0ZW1cbn0gPSBMaXN0QmxvY2s7XG5cbmNvbnN0IFVzZXJzID0gKHtcbiAgICAgICAgaXRlbXMsXG4gICAgICAgIGdvdG9Vc2VyLFxuICAgICAgICBpc0ZldGNoaW5nLFxuICAgIH0pID0+XG4gICAgaXNGZXRjaGluZyA/IDxMb2FkaW5nIC8+IDpcbiAgICBpdGVtcy5zaXplICE9PSAwID9cbiAgICA8TGlzdCBjbGFzc05hbWU9J3VzZXJzLWl0ZW1zJz5cbiAgICAgICAge1xuICAgICAgICAgICAgaXRlbXMubWFwKHVzZXIgPT4gKFxuICAgICAgICAgICAgICAgIDxJdGVtXG4gICAgICAgICAgICAgICAgICAgIGtleT17dXNlci5nZXQoJ2lkJyl9XG4gICAgICAgICAgICAgICAgICAgIG1lZGlhPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0naXRlbS1tZWRpYSc+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz17dXNlci5nZXQoJ2F2YXRhcl91cmwnKX0gLz5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdpdGVtLWlubmVyJz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9J2l0ZW0tdGl0bGUnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gZ290b1VzZXIodXNlci5nZXQoJ2xvZ2luJykpfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dXNlci5nZXQoJ2xvZ2luJyl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPSduYW1lJz57dXNlci5nZXQoJ25hbWUnKX08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdsb2NhdGlvbic+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge3VzZXIuZ2V0KCdsb2NhdGlvbicpfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvSXRlbT5cbiAgICAgICAgICAgICkpXG4gICAgICAgIH1cbiAgICA8L0xpc3Q+IDogPFNlYXJjaFBsYWNlaG9sZGVyIC8+O1xuXG5Vc2Vycy5wcm9wVHlwZXMgPSB7XG4gICAgaXRlbTogUmVhY3QuUHJvcFR5cGVzLmluc3RhbmNlT2YoSW1tdXRhYmxlLkxpc3QpLFxuICAgIGlzRmV0Y2hpbmc6IFJlYWN0LlByb3BUeXBlcy5ib29sLFxufTtcblxuZXhwb3J0IGRlZmF1bHQgVXNlcnM7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL1NlYXJjaC9jb21wb25lbnRzL1VzZXJzLmpzeCIsIi8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cbi8vIGxvYWQgdGhlIHN0eWxlc1xudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL2xlc3MtbG9hZGVyL2luZGV4LmpzIS4vc3R5bGUubGVzc1wiKTtcbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuLy8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxudmFyIHVwZGF0ZSA9IHJlcXVpcmUoXCIhLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCB7fSk7XG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcbi8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcbmlmKG1vZHVsZS5ob3QpIHtcblx0Ly8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0aWYoIWNvbnRlbnQubG9jYWxzKSB7XG5cdFx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi9ub2RlX21vZHVsZXMvbGVzcy1sb2FkZXIvaW5kZXguanMhLi9zdHlsZS5sZXNzXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL2xlc3MtbG9hZGVyL2luZGV4LmpzIS4vc3R5bGUubGVzc1wiKTtcblx0XHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdH0pO1xuXHR9XG5cdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvU2VhcmNoL3N0eWxlLmxlc3Ncbi8vIG1vZHVsZSBpZCA9IDc2NFxuLy8gbW9kdWxlIGNodW5rcyA9IDEiLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanNcIikoKTtcbi8vIGltcG9ydHNcblxuXG4vLyBtb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcImJvZHl7YmFja2dyb3VuZC1jb2xvcjojZmZmfS5idXR0b24tcmVke2NvbG9yOiNmZmY7YmFja2dyb3VuZC1jb2xvcjojZjQ0MzM2IWltcG9ydGFudH0uYnV0dG9uLW9yYW5nZXtjb2xvcjojZmZmO2JhY2tncm91bmQtY29sb3I6I2ZmOTgwMCFpbXBvcnRhbnR9LmJ1dHRvbi1ncmVlbntjb2xvcjojZmZmO2JhY2tncm91bmQtY29sb3I6IzRjYWY1MCFpbXBvcnRhbnR9LmJ1dHRvbi1ibHVle2NvbG9yOiNmZmY7YmFja2dyb3VuZC1jb2xvcjojMjE5NmYzIWltcG9ydGFudH0uYnV0dG9ue2JvcmRlci1yYWRpdXM6MH0uZW50cnktd3JhcCwuZW50cnktd3JhcD5kaXYsLmVudHJ5LXdyYXA+ZGl2PmRpdntoZWlnaHQ6MTAwJX0ubGlzdC1ibG9jayAuaXRlbS1pbm5lcjphZnRlcntkaXNwbGF5Om5vbmV9LnNlYXJjaCAuc2VhcmNoLWlucHV0e2JvcmRlci1ib3R0b206bm9uZTtiYWNrZ3JvdW5kLWNvbG9yOiNmYWZhZmF9LnNlYXJjaCAuc2VhcmNoLWlucHV0IC5pdGVtLWlucHV0e3BhZGRpbmc6LjEzMzMzM3JlbX0uc2VhcmNoIC5zZWFyY2gtaW5wdXQgaW5wdXR7cGFkZGluZzouMTMzMzMzcmVtO2JvcmRlcjouMDEzMzMzcmVtIHNvbGlkICNkZGR9LnNlYXJjaCAudGFicyAudGFie2NvbG9yOiM0MDc4YzA7Ym9yZGVyLWJvdHRvbTouMDEzMzMzcmVtIHNvbGlkICNkZGR9LnNlYXJjaCAudGFicyAudGFiW2NsYXNzKj1zZWxlY3RlZF17Y29sb3I6IzQ0NDtiYWNrZ3JvdW5kLWNvbG9yOiNmZmY7Ym9yZGVyLXRvcDouMDI2NjY3cmVtIHNvbGlkICNkMjY5MTE7Ym9yZGVyLWJvdHRvbS1jb2xvcjojZmZmfS5zZWFyY2ggLnRhYnMgLnNlbGVjdGVkOm50aC1jaGlsZCgxKXtib3JkZXItcmlnaHQ6LjAxMzMzM3JlbSBzb2xpZCAjZGRkfS5zZWFyY2ggLnRhYnMgLnNlbGVjdGVkOm50aC1jaGlsZCgyKXtib3JkZXItcmlnaHQ6LjAxMzMzM3JlbSBzb2xpZCAjZGRkO2JvcmRlci1sZWZ0Oi4wMTMzMzNyZW0gc29saWQgI2RkZH0uc2VhcmNoIC50YWJzIC5zZWxlY3RlZDpudGgtY2hpbGQoMyl7Ym9yZGVyLWxlZnQ6LjAxMzMzM3JlbSBzb2xpZCAjZGRkfS5zZWFyY2ggLml0ZW0tY29udGVudHt3aWR0aDoxMDAlO3BhZGRpbmc6LjE4NjY2N3JlbSAuMnJlbSAuMTg2NjY3cmVtIC40NjY2NjdyZW19LnNlYXJjaCAuaXRlbS13cmFwe2Rpc3BsYXk6LXdlYmtpdC1ib3g7ZGlzcGxheTotbXMtZmxleGJveDtkaXNwbGF5OmZsZXg7LXdlYmtpdC1ib3gtcGFjazpqdXN0aWZ5Oy1tcy1mbGV4LXBhY2s6anVzdGlmeTtqdXN0aWZ5LWNvbnRlbnQ6c3BhY2UtYmV0d2VlbjttYXJnaW4tYm90dG9tOi4wNHJlbTtmb250LXNpemU6LjE4NjY2N3JlbX0uc2VhcmNoIC5pdGVtLXdyYXAgLnRpdGxle2NvbG9yOiM0MDc4YzB9LnNlYXJjaCAuaXRlbS13cmFwIC5hZnRlcntjb2xvcjojOTk5fS5zZWFyY2ggLml0ZW0td3JhcCAuZGVze2ZvbnQtc2l6ZTouMTZyZW07Y29sb3I6Izc2NzY3Nn0uc2VhcmNoIC5pc3N1ZXMtaXRlbXMgLmRlcywuc2VhcmNoIC5yZXAtaXRlbXMgLmRlc3tmb250LXNpemU6LjE2cmVtO2NvbG9yOiM3Njc2NzY7d29yZC13cmFwOmJyZWFrLXdvcmR9LnNlYXJjaCAudXNlcnMtaXRlbXMgLml0ZW0tY29udGVudC5tZWRpYXtwb3NpdGlvbjpyZWxhdGl2ZX0uc2VhcmNoIC51c2Vycy1pdGVtcyAuaXRlbS1pbm5lcntkaXNwbGF5OmJsb2NrO21hcmdpbi1sZWZ0Oi42cmVtO2NvbG9yOiM0MDc4YzA7Zm9udC1zaXplOi4yMTMzMzNyZW19LnNlYXJjaCAudXNlcnMtaXRlbXMgLml0ZW0taW5uZXIgLm5hbWV7Y29sb3I6IzMzMzttYXJnaW4tbGVmdDouMTMzMzMzcmVtfS5zZWFyY2ggLnVzZXJzLWl0ZW1zIC5pdGVtLWlubmVyIC5sb2NhdGlvbntmb250LXNpemU6LjE4NjY2N3JlbTtjb2xvcjojNzY3Njc2fS5zZWFyY2ggLnVzZXJzLWl0ZW1zIC5pdGVtLW1lZGlhe3Bvc2l0aW9uOmFic29sdXRlO2xlZnQ6LjJyZW19LnNlYXJjaCAudXNlcnMtaXRlbXMgLml0ZW0tbWVkaWEgaW1ne3dpZHRoOi42NjY2NjdyZW07aGVpZ2h0Oi42NjY2NjdyZW07Ym9yZGVyLXJhZGl1czouNHJlbX1cIiwgXCJcIl0pO1xuXG4vLyBleHBvcnRzXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vY3NzLWxvYWRlciEuL34vcG9zdGNzcy1sb2FkZXIhLi9+L2xlc3MtbG9hZGVyIS4vc3JjL1NlYXJjaC9zdHlsZS5sZXNzXG4vLyBtb2R1bGUgaWQgPSA3NjVcbi8vIG1vZHVsZSBjaHVua3MgPSAxIl0sInNvdXJjZVJvb3QiOiIifQ==